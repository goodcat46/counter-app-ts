{"version":3,"file":"static/js/433.14f94094.chunk.js","mappings":"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","sources":["hooks/usePermissonsActionsCreator.ts","components/AppPages/PageHome.tsx","components/AppPages/pagesStyles.tsx","components/atoms/ProfileCard/ProfileCard.tsx"],"sourcesContent":["import { ITableAction, ITableListContext, TableActionCreator } from '../components/TableList/tableTypes.types';\nimport { IPermission } from '../redux/permissions/permissions.types';\nimport { PermissionService } from './usePermissionsService.hook';\nimport { IModalProviderContext, useModalService } from '../components/ModalProvider/ModalProvider';\nimport { useNavigate } from 'react-router-dom';\nimport { CompanyQueryType } from '../redux/global.types';\nimport { toast } from 'react-toastify';\nimport { NavigateFunction } from 'react-router/dist/lib/hooks';\nimport { Modals } from '../components/Modals';\nimport { useAppServiceProvider } from './useAppServices.hook';\nimport { AppModuleName } from '../redux/reduxTypes.types';\nimport { TableActionsBuilder } from '../utils/tables';\nimport { t } from '../lang';\nimport { useAuthSelector } from '../redux/selectors.store';\n\nexport type PermissionsActionsCreator = TableActionCreator<IPermission>;\n\nexport type PermissionsActionsType =\n  | 'enterCompany'\n  | 'editCompany'\n  | 'deleteCompany'\n  | 'leaveCompany'\n  | 'rejectPermission'\n  | 'acceptPermission'\n  | 'createCompany'\n  | 'createPermission'\n  | 'deletePermission'\n  | 'editPermission';\nexport const isMyCompany = ({ owner, user }: IPermission) => {\n  return user?._id === owner?._id;\n};\n\nexport interface PermissionsTablesActionProps {\n  ctx: ITableListContext<IPermission>;\n  navigate: NavigateFunction;\n  service: PermissionService;\n  companyType: CompanyQueryType;\n  modalService: IModalProviderContext;\n}\n\nexport type IPermissionsTableAction = ITableAction<PermissionsActionsType>;\nexport type PermissionsActionCreator = (options: PermissionsTablesActionProps) => IPermissionsTableAction;\nconst createEnterCompanyAction = ({\n  ctx,\n  navigate,\n  service,\n}: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'enterCompany',\n  title: 'Перейти',\n  icon: 'logIn',\n  disabled: !ctx.selectedRow?._id,\n  iconSize: '100%',\n  type: 'onlyIcon',\n  onClick: () => {\n    if (ctx.selectedRow?._id) {\n      service.logIn({\n        data: { _id: ctx.selectedRow?._id },\n        onSuccess: data => {\n          if (!data._id) return console.log('data', data);\n          toast.success(`Current company: ${data.company?.name}`);\n          navigate(`/app/${data._id}`);\n        },\n        onError: error => {\n          console.log(error);\n        },\n      });\n    }\n  },\n});\nconst createEditCompanyAction = ({\n  ctx,\n  navigate,\n  service,\n  companyType,\n  modalService,\n}: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'editCompany',\n  title: 'Редагувати',\n  icon: 'edit',\n  disabled: ctx.selectedRow?._id && companyType ? !['own'].includes(companyType) : true,\n  iconSize: '100%',\n  type: 'onlyIcon',\n  onClick: () => {\n    modalService.handleOpenModal({\n      Modal: Modals.FormCreateCompany,\n      modalChildrenProps: {\n        fillHeight: true,\n        title: 'Редагувати компанію',\n      },\n    });\n  },\n});\nconst createDeleteCompanyAction = ({ companyType, ctx }: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'deleteCompany',\n  title: 'Видалити',\n  icon: 'delete',\n  iconSize: '100%',\n  disabled: ctx.selectedRow?._id && companyType ? ['own'].includes(companyType) : false,\n  type: 'onlyIcon',\n  onClick: () => {\n    console.log('selPermission', ctx.selectedRow?._id);\n  },\n});\n\nconst createLogOutCompanyAction = ({ companyType, ctx }: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'leaveCompany',\n  title: 'Покинути',\n  icon: 'logOut',\n  iconSize: '100%',\n  disabled: ctx.selectedRow?._id && companyType ? !['invited'].includes(companyType) : true,\n  type: 'onlyIcon',\n  onClick: () => {\n    console.log('leaveCompany', ctx.selectedRow?._id);\n  },\n});\nconst createRejectPermission = ({ ctx, companyType }: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'rejectPermission',\n  title: 'Відхилити',\n  icon: 'clear',\n  iconSize: '100%',\n  type: 'onlyIconFilled',\n  disabled: ctx.selectedRow?._id && companyType ? !['invites'].includes(companyType) : true,\n  onClick: () => {\n    console.log('rejectPermission', ctx.selectedRow);\n  },\n});\nconst createAcceptPermissionAction = ({ ctx, companyType }: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'acceptPermission',\n  title: 'Прийняти',\n  icon: 'done',\n  iconSize: '100%',\n  type: 'onlyIconFilled',\n  disabled: ctx.selectedRow?._id && companyType ? !['invites'].includes(companyType) : true,\n  onClick: () => {\n    console.log('acceptPermission', ctx.selectedRow);\n  },\n});\nconst createAddNewCompanyAction = ({ modalService }: PermissionsTablesActionProps): IPermissionsTableAction => ({\n  name: 'createCompany',\n  title: 'Створити компанію',\n  icon: 'plus',\n  iconSize: '100%',\n  type: 'onlyIconFilled',\n  onClick: () => {\n    modalService.handleOpenModal({\n      Modal: Modals.FormCreateCompany,\n      props: {\n        fillHeight: true,\n        title: 'Створити компанію',\n      },\n    });\n  },\n});\nconst builder = new TableActionsBuilder<\n  PermissionService,\n  IPermission,\n  { query: { type: CompanyQueryType }; userId?: string }\n>();\nbuilder.add('refresh', ({ ctx, service, extra }) => {\n  return {\n    name: 'refresh',\n    title: t('Refresh'),\n    icon: 'refresh',\n    iconSize: '100%',\n    type: 'onlyIcon',\n    disabled: !extra?.userId,\n    onClick: () => {\n      if (extra?.userId) {\n        service.getAllByUserId({\n          onLoading: ctx.onRefresh,\n          data: { userId: extra?.userId, query: extra?.query },\n        });\n      }\n    },\n  };\n});\n\nconst usePermissionsActionsCreator = (companyType: CompanyQueryType): PermissionsActionsCreator => {\n  const service = useAppServiceProvider()[AppModuleName.permissions];\n  const modalService = useModalService();\n  const userId = useAuthSelector()?.user?._id;\n\n  const navigate = useNavigate();\n\n  return (ctx): ITableAction<PermissionsActionsType>[] => {\n    // const builder = new TableActionsBuilder({\n    //   service,\n    //   modalService,\n    // })\n    //   .add('d', () => {\n    //     return { separator: true };\n    //   })\n    //   .add('a', () => {\n    //     return { separator: true };\n    //   })\n    //   .add('g', () => {\n    //     return { separator: true };\n    //   })\n    //   .add('f', () => {\n    //     return { separator: true };\n    //   });\n    // console.log({ builder });\n\n    const controls = {\n      ctx,\n      navigate,\n      service,\n      modalService,\n      companyType,\n    };\n    const build = builder.activate({\n      navigate,\n      service,\n      modalService,\n      extra: {\n        userId,\n        query: { type: companyType },\n      },\n    });\n    return [\n      createEnterCompanyAction(controls),\n      createLogOutCompanyAction(controls),\n      { separator: true },\n      ...build(ctx),\n      { separator: true },\n      createEditCompanyAction(controls),\n      createDeleteCompanyAction(controls),\n      { separator: true },\n      createRejectPermission(controls),\n      createAcceptPermissionAction(controls),\n      createAddNewCompanyAction(controls),\n    ];\n  };\n};\n\nexport default usePermissionsActionsCreator;\n","import ButtonIcon from 'components/atoms/ButtonIcon/ButtonIcon';\nimport TableList from 'components/TableList/TableList';\nimport { useSearchParams } from 'react-router-dom';\nimport { memo, useCallback, useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { takeFullGridArea, takeFullPlace } from './pagesStyles';\nimport { useAuthSelector } from 'redux/selectors.store';\nimport ProfileCard from 'components/atoms/ProfileCard/ProfileCard';\nimport { usePermissionsSelector } from 'hooks/usePermissionsService.hook';\nimport { IPermission } from '../../redux/permissions/permissions.types';\nimport { ITableListProps } from '../TableList/tableTypes.types';\nimport usePermissionsActionsCreator from '../../hooks/usePermissonsActionsCreator';\nimport { CompanyQueryType } from '../../redux/global.types';\nimport { PermissionStatus } from 'redux/permissions/permissions.types';\nimport { permissionsTableColumns } from '../../data/permissions.data';\nimport { permissionsSearchParams } from '../../data/companies.data';\nimport { useAppServiceProvider } from '../../hooks/useAppServices.hook';\nimport { AppModuleName } from '../../redux/reduxTypes.types';\n\nexport type CompanyTypeItem = { title: string; param: CompanyQueryType };\n\nconst companyTypes: CompanyTypeItem[] = [\n  { title: 'Мої', param: 'own' },\n  { title: 'Працюю', param: 'invited' },\n  { title: 'Запрошення', param: 'invites' },\n  { title: 'Усі', param: 'all' },\n];\n\ntype Props = {\n  path?: string;\n};\nconst PageHome: React.FC<any> = ({ path }: Props) => {\n  const { user } = useAuthSelector();\n  const [companyType, setCompanyType] = useState<CompanyTypeItem>();\n  const setSearchParams = useSearchParams({\n    companyType: companyTypes[0].param,\n  })[1];\n  const state = usePermissionsSelector();\n  const permissionsService = useAppServiceProvider()[AppModuleName.permissions];\n  const actionsCreator = usePermissionsActionsCreator(companyType?.param || 'own');\n  const [loading, setLoading] = useState(false);\n  const permissionsData = useMemo(() => {\n    return state.permissions?.filter(pr => {\n      if (companyType?.param === 'invited') return pr.status === PermissionStatus.ACCEPTED;\n      if (companyType?.param === 'invites') return pr.status === PermissionStatus.PENDING;\n      if (companyType?.param === 'all') return pr;\n      if (companyType?.param === 'own') return pr.user?._id === pr.owner?._id;\n      return pr;\n    });\n  }, [companyType?.param, state.permissions]);\n\n  const tableConfig = useMemo(\n    (): ITableListProps<IPermission> => ({\n      tableData: permissionsData,\n      tableTitles: permissionsTableColumns,\n      tableSearchParams: permissionsSearchParams,\n      isFilter: false,\n      isSearch: true,\n      checkBoxes: false,\n      actionsCreator,\n    }),\n    [actionsCreator, permissionsData]\n  );\n  const onSearchParamClick = useCallback(\n    (item: CompanyTypeItem) => {\n      setSearchParams({ companyType: item.param });\n      setCompanyType(item);\n    },\n    [setSearchParams]\n  );\n  const isActiveClassName = useCallback(\n    (param: string) => (companyType?.param === param ? 'active' : ''),\n    [companyType?.param]\n  );\n\n  useEffect(() => {\n    console.log('permissions loadind', loading);\n  }, [loading]);\n\n  const renderFilterButtons = useMemo(() => {\n    return companyTypes.map(item => (\n      <StButtonIcon\n        key={item.param}\n        variant=\"def\"\n        onClick={() => onSearchParamClick(item)}\n        className={isActiveClassName(item.param)}\n      >\n        {item.title}\n      </StButtonIcon>\n    ));\n  }, [isActiveClassName, onSearchParamClick]);\n\n  useEffect(() => {\n    setSearchParams({ companyType: companyTypes[0].param });\n    setCompanyType(companyTypes[0]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    user._id && permissionsService.getAllByUserId({ data: { userId: user._id }, onLoading: setLoading });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user._id]);\n\n  return (\n    <Page>\n      <Top>\n        <ProfileInfo>\n          <ProfileCard {...user} />\n        </ProfileInfo>\n\n        <FilterButtons>\n          <ButtonsList>{renderFilterButtons}</ButtonsList>\n        </FilterButtons>\n      </Top>\n\n      <Bottom>\n        <TableList {...tableConfig} isLoading={loading} />\n      </Bottom>\n    </Page>\n  );\n};\n\nconst Page = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: min-content 1fr;\n\n  ${takeFullGridArea}\n`;\nconst Top = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  position: relative;\n\n  overflow: hidden;\n\n  //background-color: ${({ theme }) => theme.tableBackgroundColor};\n\n  ${takeFullPlace}\n`;\nconst Bottom = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  overflow: hidden;\n\n  ${takeFullPlace};\n\n  background-color: ${({ theme }) => theme.tableBackgroundColor};\n`;\n\nconst ProfileInfo = styled.div`\n  position: sticky;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  padding: 16px 12px;\n  width: 100%;\n  max-width: 250px;\n`;\nconst FilterButtons = styled.div`\n  max-width: 100%;\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n`;\nconst ButtonsList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(4, 150px);\n  grid-auto-rows: 32px;\n\n  max-width: 600px;\n`;\n\nconst StButtonIcon = styled(ButtonIcon)`\n  position: relative;\n\n  font-weight: 700;\n  font-size: 12px;\n  text-transform: uppercase;\n  text-align: center;\n\n  border-radius: 0;\n  border-style: none;\n  border-width: 0;\n\n  &::before {\n    display: block;\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1px;\n    background-color: ${({ theme }) => theme.trBorderClr};\n  }\n\n  &::after {\n    display: block;\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    //height: 1px;\n    //width: 100%;\n    height: 3px;\n    width: 0;\n    transition: all ${({ theme }) => theme.globals.timingFnMui};\n    transform: translate(-50%);\n    background-color: ${({ theme }) => theme.accentColor.base};\n  }\n\n  &.active {\n    &::after {\n      width: 80%;\n    }\n  }\n\n  &:hover,\n  &:focus {\n    outline-style: none;\n\n    &::after {\n      width: 100%;\n    }\n  }\n`;\n\nexport default memo(PageHome);\n","import { css } from 'styled-components';\n\nexport const takeFullGridArea = css`\n  grid-column: 1/13;\n  grid-row: 1/13;\n`;\nexport const takeFullPlace = css`\n  width: 100%;\n  height: 100%;\n`;\nexport const tomatO = css`\n  outline: 1px solid tomato;\n`;\n","import styled from 'styled-components';\nimport { IUser } from 'redux/auth/auth.types';\n\nexport interface ProfileCardProps extends Omit<IUser, '_id'> {\n  // avatarURL?: string;\n  // name?: string;\n  // email?: string;\n  nameFontSize?: string;\n  emailFontSize?: string;\n  avatarPrpps?: React.HTMLAttributes<HTMLDivElement>;\n  nameProps?: React.HTMLAttributes<HTMLDivElement>;\n  emailProps?: React.HTMLAttributes<HTMLDivElement>;\n}\n\nconst ProfileCard: React.FC<ProfileCardProps & React.HTMLAttributes<HTMLDivElement>> = ({\n                                                                                          avatarURL = '',\n                                                                                          name = 'name',\n                                                                                          email = 'email',\n                                                                                          emailFontSize,\n                                                                                          nameFontSize,\n                                                                                          nameProps,\n                                                                                          emailProps,\n                                                                                          children,\n                                                                                          ...props\n                                                                                        }) => {\n  return (\n    <Card {...props}>\n      <Avatar>\n        <img src={avatarURL} alt='userImage' width={100} height={100} />\n      </Avatar>\n\n      <Wrapper>\n        <ProfileName fontSize={nameFontSize} {...nameProps}>\n          {name}\n        </ProfileName>\n\n        <ProfileEmail fontSize={emailFontSize} {...emailProps}>\n          {email}\n        </ProfileEmail>\n\n        {children}\n      </Wrapper>\n    </Card>\n  );\n};\nconst Card = styled.div`\n  display: flex;\n`;\nconst Avatar = styled.div`\n  min-width: 64px;\n  max-width: 64px;\n  height: 64px;\n  overflow: hidden;\n  border-radius: 50%;\n`;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  padding: 8px;\n\n  height: 100%;\n`;\nconst ProfileName = styled.div<{ fontSize?: string }>`\n  font-size: ${({ fontSize }) => (fontSize ? fontSize : '12px')};\n  font-weight: 600;\n`;\nconst ProfileEmail = styled.div<{ fontSize?: string }>`\n  font-size: ${({ fontSize }) => (fontSize ? fontSize : '10px')};\n  line-height: 16px;\n`;\nexport default ProfileCard;\n"],"names":["createEnterCompanyAction","_ref2","_ctx$selectedRow","ctx","navigate","service","name","title","icon","disabled","selectedRow","_id","iconSize","type","onClick","_ctx$selectedRow2","_ctx$selectedRow3","logIn","data","onSuccess","_data$company","console","log","toast","concat","company","onError","error","createEditCompanyAction","_ref3","_ctx$selectedRow4","companyType","modalService","includes","handleOpenModal","Modal","Modals","modalChildrenProps","fillHeight","createDeleteCompanyAction","_ref4","_ctx$selectedRow5","_ctx$selectedRow6","createLogOutCompanyAction","_ref5","_ctx$selectedRow7","_ctx$selectedRow8","createRejectPermission","_ref6","_ctx$selectedRow9","createAcceptPermissionAction","_ref7","_ctx$selectedRow10","createAddNewCompanyAction","_ref8","props","builder","TableActionsBuilder","add","_ref9","extra","t","userId","getAllByUserId","onLoading","onRefresh","query","_useAuthSelector","_useAuthSelector$user","useAppServiceProvider","AppModuleName","useModalService","useAuthSelector","user","useNavigate","controls","build","activate","separator","_toConsumableArray","companyTypes","param","PageHome","_ref","path","_useState","useState","_useState2","_slicedToArray","setCompanyType","setSearchParams","useSearchParams","state","usePermissionsSelector","permissionsService","actionsCreator","usePermissionsActionsCreator","_useState3","_useState4","loading","setLoading","permissionsData","useMemo","_state$permissions","permissions","filter","pr","_pr$user","_pr$owner","status","PermissionStatus","owner","tableConfig","tableData","tableTitles","permissionsTableColumns","tableSearchParams","permissionsSearchParams","isFilter","isSearch","checkBoxes","onSearchParamClick","useCallback","item","isActiveClassName","useEffect","renderFilterButtons","map","_jsx","StButtonIcon","variant","className","children","_jsxs","Page","Top","ProfileInfo","ProfileCard","_objectSpread","FilterButtons","ButtonsList","Bottom","TableList","isLoading","styled","_templateObject","_taggedTemplateLiteral","takeFullGridArea","_templateObject2","theme","tableBackgroundColor","takeFullPlace","_templateObject3","_templateObject4","_templateObject5","_templateObject6","ButtonIcon","_templateObject7","trBorderClr","globals","timingFnMui","accentColor","base","memo","css","Card","Avatar","Wrapper","ProfileName","fontSize","ProfileEmail","_ref$avatarURL","avatarURL","_ref$name","_ref$email","email","emailFontSize","nameFontSize","nameProps","emailProps","_objectWithoutProperties","_excluded","src","alt","width","height"],"sourceRoot":""}