"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[930],{3930:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i,a=t(168),o=t(1413),r=t(9439),c=t(4360),l=t(8495),s=t(1261),u=t(2360),d=t(2791),f=t(9254),p=t(7348),h=t(8314),S=t(4165),v=t(5861),P=t(4354),m=function(e){return e.PURCHASES="purchases",e.SALES="sales",e}({}),Z=t(8713),b=t(9085),y=(t(763),t(6211),t(4405)),g=[{label:m.SALES,value:m.SALES},{label:m.PURCHASES,value:m.PURCHASES}],C=function(e){var n=(0,P.f9)();return(0,d.useCallback)((function(t){var i;return[{name:"openPriceList",title:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438",icon:"openInNew",iconSize:"90%",type:"onlyIcon",disabled:!(null!==(i=t.selectedRow)&&void 0!==i&&i._id),onClick:function(){var e=(0,v.Z)((0,S.Z)().mark((function e(){var i;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.handleOpenModal({ModalChildren:y.Z,modalChildrenProps:{listId:null===(i=t.selectedRow)||void 0===i?void 0:i._id,getTableSetting:function(e){return{}}}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{name:"editPriceList",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon:"edit",iconSize:"90%",type:"onlyIcon",disabled:!0},{name:"copyPriceList",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",icon:"copy",iconSize:"90%",type:"onlyIcon",disabled:!0},{name:"archivePriceList",title:"\u0410\u0440\u0445\u0456\u0432",icon:"archive",iconSize:"90%",type:"onlyIcon",disabled:!0},{separator:!0},{name:"createPriceList",title:"\u041d\u043e\u0432\u0438\u0439",icon:"plus",iconSize:"90%",type:"onlyIconFilled",disabled:!1,onClick:function(){var t=(0,v.Z)((0,S.Z)().mark((function t(){var i;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.handleOpenModal({ModalChildren:Z.Z,modalChildrenProps:{filterOptions:g,defaultData:{type:"purchases"},onSubmit:function(n,t){e.createList({data:n,onSuccess:function(e){(null===t||void 0===t?void 0:t.onSuccess)&&(null===t||void 0===t||t.onSuccess(e)),(null===t||void 0===t?void 0:t.closeAfterSave)&&(null===i||void 0===i||i.onClose()),b.Am.success("Created price list: ".concat(e.label))}})}}});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]}),[n,e])},L=t(184),w=u.ZP.div(i||(i=(0,a.Z)(["\n  ","\n"])),l.VU),k=function(e){var n=(0,h.Z)(),t=(0,p.N_)(),i=n.getAll,a=C(n),l=(0,d.useState)(!1),u=(0,r.Z)(l,2),S=u[0],v=u[1],P=(0,d.useState)(),m=(0,r.Z)(P,2),Z=m[0],b=m[1],y=(0,d.useState)(),g=(0,r.Z)(y,2),k=g[0],A=g[1],I=(0,d.useMemo)((function(){return{tableData:t.lists,tableTitles:s.QJ,isFilter:!1,isSearch:!0,footer:!1,checkBoxes:!0,actionsCreator:a,onFilterSubmit:function(e){A(e),i({data:{refresh:!0,query:{filterParams:e,sortParams:Z}},onLoading:v}).then()},handleTableSort:function(e,n){b({dataPath:e.dataPath,sortOrder:n}),i({data:{refresh:!0,query:{sortParams:{dataPath:e.dataPath,sortOrder:n},filterParams:k}},onLoading:v}).then()}}}),[a,k,i,Z,t.lists]);return(0,d.useEffect)((function(){Z||k||Z||k||0===t.lists.length&&i({data:{refresh:!0},onLoading:v,onSuccess:function(e){console.log("PagePriceManagement onSuccess getAll")}})}),[k,i,Z,t.lists.length]),(0,L.jsx)(f.default,{path:e.path,children:(0,L.jsx)(w,{children:(0,L.jsx)(c.ZP,(0,o.Z)((0,o.Z)({},I),{},{isLoading:S}))})})}},8495:function(e,n,t){t.d(n,{SI:function(){return s},VU:function(){return l}});var i,a,o,r=t(168),c=t(2360),l=(0,c.iv)(i||(i=(0,r.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),s=(0,c.iv)(a||(a=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,c.iv)(o||(o=(0,r.Z)(["\n  outline: 1px solid tomato;\n"])))}}]);
//# sourceMappingURL=930.b776f132.chunk.js.map