"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[273],{2483:function(n,e,t){t.d(e,{j:function(){return v}});var i,o,r=t(168),l=t(1413),d=t(4781),a=t(2791),u=t(2360),c=t(8095),s=t(3329),v=function(n){var e=(0,d.on)(),t=(0,a.useCallback)((function(n){return function(t){t.target===t.currentTarget&&e.remove(n)}}),[e]),i=(0,a.useMemo)((function(){return e.getStack().map((function(n,i){var o=n.RenderComponent,r=n.props,d=n.id;return(0,s.jsx)(p,{className:"overlay-".concat(d),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(d),children:(0,s.jsx)(o,(0,l.Z)((0,l.Z)({},r),{},{onClose:function(){e.remove(d)},overlayId:d,index:i}),"overlay-".concat(d))},"overlay-".concat(d))}))}),[t,e]);return(0,s.jsx)(f,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},f=(0,u.ZP)(c.ZP)(i||(i=(0,r.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  z-index: 20;\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(n){return n.isActive?0:"100%"}),(function(n){return n.isActive?1:0}),(function(n){return n.isActive?"visible":"hidden"}),(function(n){return n.isActive?"all":"none"}),(function(n){return n.theme.backdropColor}),(function(n){return n.theme.globals.timingFunctionMain})),p=(0,u.ZP)(c.ZP)(o||(o=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(n,e,t){t.d(e,{on:function(){return c}});var i=t(1413),o=t(3433),r=t(9439),l=t(2791),d=t(6382),a=t(3329),u=(0,l.createContext)({}),c=function(){return(0,l.useContext)(u)};e.ZP=function(n){var e=n.children,t=(0,l.useState)([]),c=(0,r.Z)(t,2),s=c[0],v=c[1],f=(0,l.useCallback)((function(n){v((function(e){return e.filter((function(e){return e.id!==n}))}))}),[]),p=(0,l.useCallback)((function(){v([])}),[]),h=(0,l.useCallback)((function(n){var e="".concat(n.RenderComponent.name,"_").concat((0,d.x0)(8));return"function"===typeof n.RenderComponent&&v((function(t){var r=t.find((function(e){return e.id.includes(n.RenderComponent.name)}));if(r){var l=t.filter((function(n){var e,t;return(null===(e=n.RenderComponent)||void 0===e?void 0:e.name)!==(null===(t=r.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(l),[(0,i.Z)((0,i.Z)({},n),{},{id:e})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},n),{},{id:e})])})),{onClose:function(){return f(e)},compId:e}}),[f]),m={getStack:function(){return s},remove:f,clearStack:p,open:h};return(0,a.jsx)(u.Provider,{value:m,children:e})}},8273:function(n,e,t){t.r(e),t.d(e,{default:function(){return ze},useOfferOverviewLoaders:function(){return $e}});var i,o,r,l,d,a,u,c,s,v,f,p,h,m,x,g,b,Z,C,w,j=t(168),P=t(9439),y=t(2360),S=t(8495),_=t(6931),k=t(2791),B=t(1819),I=t(163),A=t(3329),D=(0,k.createContext)({}),O=function(){return(0,k.useContext)(D)},R=function(n){var e=n.children,t=(0,B.xc)()[B.EJ.products],i=$e(),o=(0,I.Zx)(),r=null===o||void 0===o?void 0:o.offerId,l=(0,I.G2)({id:r});(0,k.useEffect)((function(){var n;null!==i&&void 0!==i&&null!==(n=i.isLoading)&&void 0!==n&&n.offer||r&&t.getProductFullInfo({data:{_id:r},onLoading:i.onLoading("offer")}).finally()}),[r]);return(0,k.useEffect)((function(){return function(){t.clearCurrent(void 0)}}),[]),(0,A.jsx)(D.Provider,{value:{clearCurrent:function(){t.clearCurrent(void 0)},currentOffer:l},children:e})},L=t(4942),M=t(8553),T=t(6492),E=t(9953),V=t(8095),W=t(1413),U=t(7762),N=t(5188),H=t(400),$=t(401),F=t(6272),z=t(7578),G=t(3433),q=t(4925),J=t(7348),Y=t(1383),K=t(6757),X=t(7121),Q=t(6727),nn=t(4695),en=t(4990),tn=t(6681),on=t(6522),rn=t(4235),ln=t(4109),dn=t(654),an=(0,y.ZP)(V.ZP)(i||(i=(0,j.Z)(["\n  border-top: 1px solid ",";\n  &:last-child {\n    border-bottom: 1px solid ",";\n  }\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),un=(0,y.ZP)(V.ZP)(o||(o=(0,j.Z)(["\n  width: 100%;\n  display: grid;\n\n  grid-template-columns: repeat(",", 1fr);\n"])),(function(n){var e,t;return n.cmsKey&&null!==(e=null===(t=dn.K[n.cmsKey])||void 0===t?void 0:t.numColumns)&&void 0!==e?e:2})),cn=function(n){var e=n.item,t=n.isSelected,i=n.onSelect;return(0,A.jsx)(sn,{variant:t?"filledSmall":"outlinedSmall",padding:"6px 8px",fontWeight:500,onClick:function(){i&&i(e._id)},children:e.label})},sn=(0,y.ZP)(ln.Z)(r||(r=(0,j.Z)(["\n  width: 100%;\n  max-width: 100%;\n  min-width: 50px;\n"]))),vn=function(n){var e,t=n.item,i=n.selectedIds,o=void 0===i?[]:i,r=n.onSelect,l=(0,k.useMemo)((function(){var n;return null===(n=t.childrenList)||void 0===n?void 0:n.map((function(n){var e=o.includes(n._id);return(0,A.jsx)(cn,{item:n,isSelected:e,onSelect:function(e){return r&&r(t._id,e,null===n||void 0===n?void 0:n.label)}},"prop-value-".concat(n._id))}))}),[t._id,t.childrenList,r,o]);return(0,A.jsxs)(an,{gap:8,fillWidth:!0,padding:"8px 0 0",children:[(0,A.jsx)(T.x,{style:{flex:1,paddingLeft:12},$weight:500,children:t.label}),(0,A.jsx)(un,{fillWidth:!0,padding:"8px 0",gap:6,cmsKey:null===(e=t.cmsConfigs)||void 0===e?void 0:e.key,children:l})]},"property-box-".concat(t._id))},fn=t(9541),pn=["onClose","title","defaultState","onSubmit","update","create","offerId","offer"],hn=Q.Ry().shape({label:Q.Z_().required().min(5).max(64),sku:Q.Z_().required().min(8).max(32),barCode:Q.Z_().max(32),cms:Q.Ry().shape({labels:Q.Ry().shape({ua:Q.Z_().min(5).max(64),en:Q.Z_().min(5).max(64)})}),propertiesMap:Q.Ry().shape({}).nonNullable().required(),offer:Q.Ry().shape({_id:Q.Z_().required(),label:Q.Z_(),labels:Q.Ry().shape({ua:Q.Z_().min(5).max(64),en:Q.Z_().min(5).max(64)})}),timeFrom:Q.hT(),timeTo:Q.hT(),price:Q.Ry().shape({out:Q.Z_()})}),mn=y.ZP.form(l||(l=(0,j.Z)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 0 8px;\n\n  overflow: hidden;\n\n  max-width: 480px;\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.fontColorSidebar}),(function(n){return n.theme.tableBackgroundColor})),xn=(0,y.ZP)(V.ZP)(d||(d=(0,j.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),gn=(0,y.ZP)(V.ZP)(a||(a=(0,j.Z)(["\n  padding-bottom: 8px;\n"]))),bn=(0,y.ZP)(V.ZP)(u||(u=(0,j.Z)(["\n  padding: 0 4px;\n"]))),Zn=(0,y.ZP)(V.ZP)(c||(c=(0,j.Z)(["\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.sideBarBorderColor})),Cn=(0,y.ZP)(V.ZP)(s||(s=(0,j.Z)([""]))),wn=(0,y.ZP)(V.ZP)(v||(v=(0,j.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor}),(function(n){return n.theme.modalBorderColor})),jn=function(n){var e,t,i,o,r,l,d=n.onClose,a=n.title,u=n.defaultState,c=(n.onSubmit,n.update),s=(n.create,n.offerId),v=n.offer,f=(0,q.Z)(n,pn),p=(0,B.xc)()[B.EJ.products],h=(0,J.WS)(),m=(0,fn.J)(),x=(0,I.G2)({id:c||s||(null===v||void 0===v?void 0:v._id)}),g=(0,K.d)(),b=(0,k.useState)(null===h||void 0===h?void 0:h[0]),Z=(0,P.Z)(b,1)[0],C=(0,k.useState)({}),w=(0,P.Z)(C,2),j=w[0],y=w[1],S=(0,k.useMemo)((function(){var n,e=null===Z||void 0===Z||null===(n=Z.childrenList)||void 0===n?void 0:n.filter((function(n){return null===n||void 0===n?void 0:n.isSelectable})),t={};return{propertiesList:e,propertiesDataMap:Object.assign.apply(Object,[{}].concat((0,G.Z)((null!==e&&void 0!==e?e:[]).map((function(n){var e;return null!==n&&void 0!==n&&null!==(e=n.childrenList)&&void 0!==e&&e.length&&(null===n||void 0===n||n.childrenList.forEach((function(n){t[n._id]=n}))),(0,L.Z)({},n._id,n)}))))),propValuesDataMap:t}}),[null===Z||void 0===Z?void 0:Z.childrenList]),_=S.propertiesList,D=S.propValuesDataMap,O=(0,I.hN)({defaultValues:(0,F.Ls)(u?(0,W.Z)((0,W.Z)({},u),{},{offer:x}):{offer:x}),resolver:(0,nn.X)(hn),reValidateMode:"onSubmit"}),R=O.setValue,M=O.handleSubmit,E=O.register,N=O.formState.errors,H=O.formValues,$=O.reset;(0,k.useEffect)((function(){console.log({formValues:H})}),[H]);var z=(0,k.useMemo)((function(){return null!==H&&void 0!==H&&H.propertiesMap?Object.values(null===H||void 0===H?void 0:H.propertiesMap):[]}),[null===H||void 0===H?void 0:H.propertiesMap,H]),Q=(0,k.useMemo)((function(){return z.length>0}),[z.length]),ln=(0,k.useMemo)((function(){var n,e=Object.entries(j).sort((function(n,e){return n[0].localeCompare(e[0])})),t=null!==x&&void 0!==x&&x.label?[null===x||void 0===x?void 0:x.label]:[],i=(0,U.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value[1];(null===o||void 0===o?void 0:o.label)&&t.push(null===o||void 0===o?void 0:o.label)}}catch(r){i.e(r)}finally{i.f()}return{label:null!==e&&void 0!==e&&e.length?t.join(". "):"".concat(null===x||void 0===x?void 0:x.label,". {{VARIATION_LABEL}}")}}),[null===x||void 0===x?void 0:x.label,j]).label;(0,k.useEffect)((function(){R("label",ln)}),[ln,R]);var dn=(0,k.useCallback)((function(n){c?p.updateVariationById({data:(0,F.Ts)(n,c),onSuccess:function(n){console.log("updateVariationById onSuccess",n),d&&d()},onError:Y.kl.toastAxiosError,onLoading:m.onLoading("create")}).then():p.createVariation({data:(0,F.Ts)(n),onSuccess:function(n){g.state.close&&d&&d(),g.state.clear&&$()},onError:Y.kl.toastAxiosError,onLoading:m.onLoading("create")}).then()}),[m,d,$,p,g.state.clear,g.state.close,c]),an=(0,k.useCallback)((function(n,e,t){R("propertiesMap.".concat(n),e),y((function(t){return(0,W.Z)((0,W.Z)({},t),{},(0,L.Z)({},n,null===D||void 0===D?void 0:D[e]))}))}),[D,R]),un=(0,k.useCallback)((function(){R("propertiesMap",{}),y({})}),[R]),cn=(0,k.useMemo)((function(){return null===_||void 0===_?void 0:_.map((function(n){return(0,A.jsx)(vn,{item:n,selectedIds:z,onSelect:an},"prop_".concat(n._id))}))}),[_,z,an]);return(0,A.jsxs)(mn,(0,W.Z)((0,W.Z)({onSubmit:M(dn,(function(n){console.error("[SUBMIT ERROR]",n)})),onReset:un},f),{},{children:[(0,A.jsx)(X.iw,{onBackPress:d,title:null!==(e=a||(null===Z||void 0===Z?void 0:Z.label))&&void 0!==e?e:"",canSubmit:Q,okButton:!0}),(0,A.jsxs)(xn,{flex:1,fillWidth:!0,overflow:"auto",children:[(0,A.jsxs)(bn,{children:[(0,A.jsx)(en.Z,{label:(0,on.t)("label"),error:N.label,children:(0,A.jsx)(tn.ZP,(0,W.Z)((0,W.Z)({},E("label",{required:!0})),{},{placeholder:(0,on.t)("label"),required:!0}))}),(0,A.jsxs)(V.ZP,{fxDirection:"row",gap:8,fillWidth:!0,children:[(0,A.jsx)(en.Z,{label:(0,on.t)("sku"),error:N.sku,children:(0,A.jsx)(tn.ZP,(0,W.Z)((0,W.Z)({},E("sku",{required:!0})),{},{placeholder:(0,on.t)("sku"),required:!0}))}),(0,A.jsx)(en.Z,{label:(0,on.t)("barCode"),error:N.barCode,children:(0,A.jsx)(tn.ZP,(0,W.Z)((0,W.Z)({},E("barCode")),{},{placeholder:(0,on.t)("barCode")}))})]})]}),(0,A.jsx)(gn,{padding:"0 0 8px",margin:"8px 0 0",children:cn}),!x&&(0,A.jsxs)(Cn,{padding:"8px 0",fillWidth:!0,children:[(0,A.jsx)(wn,{padding:"8px",justifyContent:"flex-end",fxDirection:"row",fillWidth:!0,children:(0,A.jsx)(T.x,{$size:13,$weight:500,children:(0,on.t)("Cms configs")})}),(0,A.jsxs)(bn,{children:[(0,A.jsx)(en.Z,{label:(0,on.t)("Language key"),error:null===N||void 0===N||null===(t=N.cmsConfigs)||void 0===t?void 0:t.key,children:(0,A.jsx)(rn.Z,{disabled:!0})}),(0,A.jsx)(en.Z,{label:(0,on.t)("Label by lang key"),error:null===N||void 0===N||null===(i=N.cmsConfigs)||void 0===i||null===(o=i.labels)||void 0===o?void 0:o.ua,children:(0,A.jsx)(tn.ZP,(0,W.Z)({placeholder:"Label"},E("cmsConfigs.labels.ua")))})]})]})]}),(0,A.jsx)(X.AT,{loading:null===(r=m.isLoading)||void 0===r?void 0:r.create,resetButtonShown:!0,submitButtonText:null!==(l=m.isLoading)&&void 0!==l&&l.create?"Loading...":c?"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438",canSubmit:Q,extraFooter:(0,A.jsx)(Zn,{children:(0,A.jsx)(K.Z,(0,W.Z)({},g))})})]}))},Pn=function(n){var e,t=n.onSelect,i=n.selected,o=n.withActions,r=void 0===o||o,l=(0,z.un)(),d=O(),a=(0,N.f9)(),u=d.currentOffer,c=(0,B.xc)()[B.EJ.products],s=(0,k.useCallback)((function(n){var e=n.refresh,t=n.update;u&&c.getAllVariationsByProductId({data:{refreshCurrent:e,updateCurrent:t,offerId:u._id},onLoading:l.onLoading("variations")})}),[u,l,c]),v=(0,k.useMemo)((function(){var n,e,t={},i=(0,U.Z)(null!==(n=null===u||void 0===u?void 0:u.variations)&&void 0!==n?n:[]);try{for(i.s();!(e=i.n()).done;){var o,r=e.value.properties,l=(0,U.Z)(null!==r&&void 0!==r?r:[]);try{for(l.s();!(o=l.n()).done;){var d,a=o.value,c=null===a||void 0===a||null===(d=a.parent)||void 0===d?void 0:d._id;c&&a.parent&&(t[c]=a.parent)}}catch(s){l.e(s)}finally{l.f()}}}catch(s){i.e(s)}finally{i.f()}return(0,$.F9)(Object.values(t))}),[null===u||void 0===u?void 0:u.variations]),f=(0,k.useMemo)((function(){return{tableTitles:v,tableData:null===u||void 0===u?void 0:u.variations,transformData:$.m$,onRowClick:function(n){if(t){if(null!==n&&void 0!==n&&n.rowData)return void t((0,F.rE)(null===n||void 0===n?void 0:n.rowData));null!==n&&void 0!==n&&n._id&&t({_id:null===n||void 0===n?void 0:n._id})}},actionsCreator:r?function(n){var e,t=null===(e=n.selectedRow)||void 0===e?void 0:e._id;return[{icon:"refresh",type:"onlyIcon",onClick:function(){return s({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!t,onClick:function(){window.confirm("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0430\u0440\u0456\u0430\u0446\u0456\u044e:\n ".concat(t))}},{icon:"copy",type:"onlyIcon",disabled:!t},{icon:"edit",type:"onlyIcon",disabled:!t,onClick:function(){var e;if(t&&n.selectedRow){var i=null===u||void 0===u||null===(e=u.variations)||void 0===e?void 0:e.find((function(n){return(null===n||void 0===n?void 0:n._id)===t}));a.open({ModalChildren:jn,modalChildrenProps:{update:t,defaultState:i}})}}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){a.open({ModalChildren:jn,modalChildrenProps:{offer:d.currentOffer}})}}]}:void 0}}),[null===u||void 0===u?void 0:u.variations,s,a,t,d.currentOffer,v,r]);return(0,k.useEffect)((function(){u&&s({refresh:!0})}),[]),(0,A.jsx)(H.ZP,(0,W.Z)((0,W.Z)({},f),{},{isSearch:!1,isFilter:!1,isLoading:null===l||void 0===l||null===(e=l.isLoading)||void 0===e?void 0:e.variations,selectedRow:i}))},yn=t(4165),Sn=t(5861),_n=t(6981),kn=t(9071),Bn=t(387),In=function(n){var e,t=n.onSelect,i=n.selected,o=n.withActions,r=void 0===o||o,l=(0,N.f9)(),d=(0,B.xc)()[B.EJ.products],a=(0,I.Zx)().offerId,u=(0,I.G2)({id:a}),c=(0,z.un)(),s=(0,k.useCallback)(function(){var n=(0,Sn.Z)((0,yn.Z)().mark((function n(e){var t,i;return(0,yn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.refresh,i=e.update,u){n.next=3;break}return n.abrupt("return");case 3:d.getAllPrices({data:{params:{offerId:null===u||void 0===u?void 0:u._id},refreshCurrent:t,updateCurrent:i},onLoading:null===c||void 0===c?void 0:c.onLoading("prices")});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[u,c,d]),v=(0,k.useMemo)((function(){return{tableData:null===u||void 0===u?void 0:u.prices,tableTitles:_n.po,onRowClick:function(n){if(t){if(null!==n&&void 0!==n&&n.rowData)return void t((0,Bn.rE)(null===n||void 0===n?void 0:n.rowData));null!==n&&void 0!==n&&n._id&&t({_id:null===n||void 0===n?void 0:n._id})}},actionsCreator:r?function(n){var e,t=null===(e=n.selectedRow)||void 0===e?void 0:e._id;return[{icon:"refresh",type:"onlyIcon",onClick:function(){return s({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!t},{icon:"copy",type:"onlyIcon",disabled:!t},{icon:"edit",type:"onlyIcon",disabled:!t},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){l.open({ModalChildren:kn.default,modalChildrenProps:{offer:u}})}}]}:void 0}}),[u,r,t,s,l]);return(0,k.useEffect)((function(){s({refresh:!0})}),[]),(0,A.jsx)(H.ZP,(0,W.Z)((0,W.Z)({},v),{},{isSearch:!1,isFilter:!1,isLoading:null===c||void 0===c||null===(e=c.isLoading)||void 0===e?void 0:e.prices,selectedRow:i}))},An=t(758),Dn=t(3664),On=function(n){var e=n.onSelect,t=n.selected,i=n.withActions,o=(0,J.nr)().currentOffer,r=(0,N.f9)(),l=(0,B.xc)()[B.EJ.products],d=(0,k.useState)(!1),a=(0,P.Z)(d,2),u=a[0],c=a[1],s=(0,k.useCallback)((function(n){var e=n.refresh;n.update;if(o){var t=(0,Bn.rE)(o);l.getAllInventories({data:{refreshCurrent:e,params:{offer:t}},onLoading:c})}}),[o,l]),v=(0,k.useMemo)((function(){return{tableData:null===o||void 0===o?void 0:o.inventories,tableTitles:An.QX,onRowClick:function(n){if(e){if(null!==n&&void 0!==n&&n.rowData)return void e((0,Bn.rE)(null===n||void 0===n?void 0:n.rowData));null!==n&&void 0!==n&&n._id&&e({_id:null===n||void 0===n?void 0:n._id})}},actionsCreator:i?function(n){return[{icon:"refresh",type:"onlyIcon",onClick:function(){return s({refresh:!0})}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){r.open({ModalChildren:Dn.Z.CreateWarehouseDocument,modalChildrenProps:{}})}}]}:void 0}}),[null===o||void 0===o?void 0:o.inventories,s,r,e,i]);return(0,k.useEffect)((function(){s({refresh:!0})}),[]),(0,A.jsx)(H.ZP,(0,W.Z)((0,W.Z)({},v),{},{isSearch:!1,isFilter:!1,isLoading:u,selectedRow:t}))},Rn=t(1251),Ln=function(n){return n.Variations="Variations",n.Prices="Prices",n.Warehousing="Warehousing",n}(Ln||{}),Mn=(0,M.H1)(Ln),Tn=(0,y.ZP)(V.ZP)(f||(f=(0,j.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.25);\n  }\n"])),(function(n){return n.theme.globals.timingFunctionMain}),(function(n){return n.theme.backgroundColorLight}),(function(n){return n.isVisible?0:100})),En=(0,y.ZP)(V.ZP)(p||(p=(0,j.Z)(["\n  border-top: 1px solid ",";\n  //border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor}),(function(n){return n.theme.modalBorderColor})),Vn=function(n){var e,t,i=n.isVisible,o=n.toggleVisibility,r=O(),l=(0,k.useState)(Ln.Variations),d=(0,P.Z)(l,2),a=d[0],u=d[1],c=(0,k.useMemo)((function(){var n,e;if(!r.currentOffer)return null;var t=(n={},(0,L.Z)(n,Ln.Variations,(0,A.jsx)(Pn,{withActions:!0})),(0,L.Z)(n,Ln.Warehousing,(0,A.jsx)(On,{withActions:!0})),(0,L.Z)(n,Ln.Prices,(0,A.jsx)(In,{withActions:!0})),n);return null!==(e=null===t||void 0===t?void 0:t[a])&&void 0!==e?e:null}),[a,r.currentOffer]);return(0,A.jsxs)(Tn,{overflow:"hidden",fillHeight:!0,isVisible:i,children:[i&&(0,A.jsx)(Rn.xB,{onBackPress:o,renderTitle:(0,A.jsxs)(V.ZP,{padding:"0 8px",fxDirection:"row",alignItems:"center",justifyContent:"center",gap:8,children:[(0,A.jsx)(T.x,{$weight:600,$size:14,children:null===r||void 0===r||null===(e=r.currentOffer)||void 0===e?void 0:e.label}),(0,A.jsx)(T.x,{$size:14,children:null===r||void 0===r||null===(t=r.currentOffer)||void 0===t?void 0:t.sku})]})}),(0,A.jsxs)(En,{overflow:"hidden",fillWidth:!0,flex:1,children:[(0,A.jsx)(E.Z,{filterOptions:Mn,defaultValue:a,onOptSelect:function(n,e,t){u(e)},preventFilter:!0}),c]})]})},Wn=t(2483),Un=t(4781),Nn=t(5227),Hn=t(763),$n=t(870),Fn=t(6753),zn=t(6493),Gn=t(6785),qn=function n(e){var t,i,o=e.item,r=(e.index,e.lvl),l=void 0===r?0:r,d=e.selectedIds,a=e.onRemove,u=void 0===a?function(){console.log("onRemove not passed",l)}:a,c=(0,k.useMemo)((function(){var e;return null===o||void 0===o||null===(e=o.childrenList)||void 0===e?void 0:e.map((function(e,t){return(0,A.jsx)(n,{item:e,index:t,onRemove:u,lvl:l+1,selectedIds:d},"item_lvl_".concat(l,"_").concat(e._id))}))}),[null===o||void 0===o?void 0:o.childrenList,l,u,d]),s=(0,k.useMemo)((function(){return d.includes(o._id)}),[o._id,d]);return(0,A.jsxs)(A.Fragment,{children:[s&&(0,A.jsxs)(Jn,{fxDirection:"row",alignItems:"center",padding:"0 2px 0 12px",gap:2,children:[(null===o||void 0===o||null===(t=o.parent)||void 0===t?void 0:t.label)&&"".concat(null===o||void 0===o||null===(i=o.parent)||void 0===i?void 0:i.label,"/"),"".concat(null===o||void 0===o?void 0:o.label),(0,A.jsx)(ln.Z,{variant:"onlyIcon",endIcon:"close",size:"24px",endIconSize:"80%",onClick:function(){return u&&u(o._id)}})]}),c]})},Jn=(0,y.ZP)(V.ZP)(h||(h=(0,j.Z)(["\n  font-weight: 500;\n  font-size: 12px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  border: 1px solid ",";\n"])),(function(n){return n.theme.accentColor.base}),(function(n){return n.theme.accentColor.base})),Yn=function(n){var e=n.options,t=n.onSelect,i=n.onChange,o=n.defaultData,r=(0,k.useState)([]),l=(0,P.Z)(r,2),d=l[0],a=l[1],u=(0,k.useCallback)((function(n){a((function(e){var o=n?e.includes(null===n||void 0===n?void 0:n._id)?e.filter((function(e){return e!==(null===n||void 0===n?void 0:n._id)})):[].concat((0,G.Z)(e),[n._id]):e;return t&&(null===n||void 0===n?void 0:n._id)&&t(null===n||void 0===n?void 0:n._id),i&&i(o),o}))}),[i,t]),c=(0,k.useCallback)((function(n){a((function(e){var t=e.filter((function(e){return e!==n}));return i&&i(t),t}))}),[i]),s=(0,k.useMemo)((function(){return null===e||void 0===e?void 0:e.map((function(n,e){return(0,A.jsx)(qn,{item:n,index:e,selectedIds:d,onRemove:c},"item_lvl_0_".concat(n._id))}))}),[c,e,d]);return(0,k.useEffect)((function(){o&&a(o)}),[o]),(0,A.jsxs)(V.ZP,{fillWidth:!0,gap:6,children:[(0,A.jsx)(Gn.Z,{treeMode:!0,dropDownIsAbsolute:!0,defaultValue:o,label:(0,on.ZP)("categories"),placeholder:(0,on.ZP)("categories"),required:!0,options:e,onSelect:u}),(0,A.jsx)(V.ZP,{fxDirection:"row",flexWrap:"wrap",gap:8,children:s})]})},Kn=(0,y.ZP)(V.ZP)(m||(m=(0,j.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),Xn=function(n){var e=n.onClose,t=(0,J.nr)().currentOffer,i=(0,J.q$)($n.cA.CATEGORIES_PROD).directory,o=(0,B.xc)()[B.EJ.products],r=(0,k.useState)([]),l=(0,P.Z)(r,2),d=l[0],a=l[1],u=(0,k.useMemo)((function(){var n,e;return(null===t||void 0===t||null===(n=t.categories)||void 0===n||null===(e=n.map((function(n){return n._id})))||void 0===e?void 0:e.toString())!==d.toString()}),[null===t||void 0===t?void 0:t.categories,d]);return(0,k.useEffect)((function(){null!==t&&void 0!==t&&t.categories&&a(null===t||void 0===t?void 0:t.categories.map((function(n){return n._id})))}),[null===t||void 0===t?void 0:t.categories]),(0,A.jsxs)(X.dF,{onSubmit:function(n){n.preventDefault(),t&&o.updateById({data:(0,W.Z)((0,W.Z)({},(0,Bn.rE)(t)),{},{data:{categories:d},refreshCurrent:!0}),onSuccess:function(n,t){e&&e()}})},children:[(0,A.jsx)(X.iw,{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",onBackPress:e,canSubmit:u,okButton:!0}),(0,A.jsx)(Kn,{padding:"0 0 8px 0",flex:1,children:(0,A.jsx)(Yn,{onChange:a,options:i,defaultData:d})}),(0,A.jsx)(X.AT,{canSubmit:u})]})},Qn=function n(e){var t,i,o=e.item,r=e.lvl,l=void 0===r?0:r,d=e.selectedIds,a=(0,k.useMemo)((function(){var e;return null===o||void 0===o||null===(e=o.childrenList)||void 0===e?void 0:e.map((function(e,t){return(0,A.jsx)(n,{item:e,index:t,lvl:l+1,selectedIds:d},"item_lvl_".concat(l,"_").concat(e._id))}))}),[null===o||void 0===o?void 0:o.childrenList,l,d]),u=(0,k.useMemo)((function(){return d.includes(o._id)}),[o._id,d]);return(0,A.jsxs)(A.Fragment,{children:[u&&(0,A.jsxs)(Fn.U.CategoryItem,{fxDirection:"row",alignItems:"center",padding:"0 2px 0 12px",gap:2,children:[(null===o||void 0===o||null===(t=o.parent)||void 0===t?void 0:t.label)&&"".concat(null===o||void 0===o||null===(i=o.parent)||void 0===i?void 0:i.label,"/"),"".concat(null===o||void 0===o?void 0:o.label)]}),a]})},ne=["onClose","title","defaultState","onSubmit","update","offer","template","onSelect","onChange"],ee=(0,y.ZP)(V.ZP)(x||(x=(0,j.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  padding-bottom: 8px;\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),te=(0,y.ZP)(V.ZP)(g||(g=(0,j.Z)(["\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(n){return n.theme.sideBarBorderColor})),ie=(0,y.ZP)(V.ZP)(b||(b=(0,j.Z)(["\n  //display: grid;\n  //grid-template-columns: repeat(auto-fill, 25%);\n  //\n  //@media screen and (max-width: 480px) {\n  //  grid-template-columns: repeat(auto-fill, 50%);\n  //}\n"]))),oe=(0,y.ZP)(ln.Z)(Z||(Z=(0,j.Z)(["\n  flex-basis: 100px;\n  min-width: max-content;\n\n  //width: 100%;\n  //min-width: unset;\n\n  // border-radius: 2px;\n  // border: 2px solid ",";\n  //\n  // &:hover {\n  //   border: 2px solid ",";\n  // }\n"])),(function(n){return n.theme.accentColor.light}),(function(n){return n.theme.accentColor.base})),re=function(n){var e,t,i=n.onClose,o=n.title,r=(n.defaultState,n.onSubmit),l=n.update,d=n.offer,a=(n.template,n.onSelect),u=n.onChange,c=(0,q.Z)(n,ne),s=d,v=(0,B.xc)()[B.EJ.products],f=(0,J.WS)(),p=(0,k.useState)(null===(e=f[0])||void 0===e?void 0:e._id),h=(0,P.Z)(p,2),m=h[0],x=h[1],g=(0,k.useState)(!1),b=(0,P.Z)(g,2),Z=b[0],C=b[1],w=(0,k.useState)([]),j=(0,P.Z)(w,2),y=j[0],S=j[1],_=(0,k.useMemo)((function(){return f.find((function(n){return n._id===m}))}),[m,f]),I=(0,k.useMemo)((function(){var n;return(null===s||void 0===s||null===(n=s.properties)||void 0===n?void 0:n.map((function(n){return n._id})).join(","))!==y.join(",")}),[null===s||void 0===s?void 0:s.properties,y]),D=(0,k.useCallback)((function(n){n.preventDefault();var e=null!==l&&void 0!==l?l:null===s||void 0===s?void 0:s._id;e?v.updateById({data:{_id:e,data:{properties:y}},onLoading:C,onSuccess:function(n,e){Y.kl.success("Product updated"),i&&i()}}):console.debug("selectedIds",y),r&&r(y)}),[null===s||void 0===s?void 0:s._id,i,r,y,v,l]),O=(0,k.useCallback)((function(n,e){S((function(e){var t=e.includes(n)?e.filter((function(e){return e!==n})):[].concat((0,G.Z)(e),[n]);return u&&u(t),a&&a(n),t}))}),[u,a]),R=(0,k.useMemo)((function(){var n;return null===_||void 0===_||null===(n=_.childrenList)||void 0===n?void 0:n.filter((function(n){return!(null!==n&&void 0!==n&&n.isSelectable)})).map((function(n){var e;return(0,A.jsxs)(te,{gap:8,fillWidth:!0,padding:"8px 0 0",children:[(0,A.jsx)(T.x,{style:{flex:1,paddingLeft:12},$weight:500,children:n.label}),(0,A.jsx)(ie,{fillWidth:!0,padding:"8px 0",gap:6,flexWrap:"wrap",fxDirection:"row",children:null===(e=n.childrenList)||void 0===e?void 0:e.map((function(e){var t=y.includes(e._id);return(0,A.jsx)(oe,{variant:t?"filledSmall":"outlinedSmall",padding:"6px 8px",fontWeight:500,onClick:function(){return O(e._id,n._id)},children:e.label},"prop-value-".concat(e._id))}))})]},"property-".concat(n._id))}))}),[O,y,null===_||void 0===_?void 0:_.childrenList]);return(0,k.useEffect)((function(){null!==s&&void 0!==s&&s.properties&&S(null===s||void 0===s?void 0:s.properties.map((function(n){return n._id})))}),[null===s||void 0===s?void 0:s.properties]),(0,A.jsxs)(X.dF,(0,W.Z)((0,W.Z)({onSubmit:D},c),{},{children:[(0,A.jsx)(X.iw,{onBackPress:i,canSubmit:I,title:null!==(t=o||(null===_||void 0===_?void 0:_.label))&&void 0!==t?t:"",okButton:!0}),(0,A.jsx)(Gn.Z,{label:(0,on.t)("Available templates"),options:f,selectedValue:m,onSelect:function(n){x(null===n||void 0===n?void 0:n._id)}}),(0,A.jsx)(ee,{flex:1,overflow:"auto",children:R}),(0,A.jsx)(X.AT,{canSubmit:I,loading:Z,submitButtonText:Z?"Loading...":"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]}))},le=function(n){var e=n.item,t=n.selectedItems,i=(0,k.useMemo)((function(){var n,i;return null===(n=e.childrenList)||void 0===n||null===(i=n.filter((function(n){return null===t||void 0===t?void 0:t.includes(n._id)})))||void 0===i?void 0:i.map((function(n,e){return(0,A.jsx)(Fn.U.CategoryItem,{className:"PROP_VALUE",maxWidth:"130px",children:n.label},"prop-v-".concat(n._id))}))}),[e.childrenList,t]);return(0,A.jsxs)(V.ZP,{className:"PROPERTY",gap:8,alignItems:"flex-end",children:[(0,A.jsx)(V.ZP,{alignItems:"center",fxDirection:"row",fillWidth:!0,gap:8,children:(0,A.jsx)(Fn.U.CellText,{$size:13,$weight:600,children:null===e||void 0===e?void 0:e.label})}),(0,A.jsx)(V.ZP,{fxDirection:"row",flexWrap:"wrap",fillWidth:!0,gap:6,children:i&&(null===i||void 0===i?void 0:i.length)>0?i:(0,A.jsx)(T.x,{$size:12,children:"---"})})]})},de=t(9069),ae=function(n){var e=n.onSelect,t=n.withActions,i=(n.selected,n.types),o=(0,k.useState)(!1),r=(0,P.Z)(o,1)[0],l=(0,J.q$)($n.cA.CONTRACTORS).directory,d=(0,k.useMemo)((function(){return l.filter((function(n){return i&&i.includes(n.type)}))}),[l,i]),a=(0,k.useMemo)((function(){return{tableData:d,tableTitles:de.PU,onRowClick:function(n){if(e){if(null!==n&&void 0!==n&&n.rowData)return void e((0,Bn.rE)(null===n||void 0===n?void 0:n.rowData));null!==n&&void 0!==n&&n._id&&e({_id:null===n||void 0===n?void 0:n._id})}},actionsCreator:t?function(n){return[]}:void 0}}),[d,e,t]);return(0,A.jsx)(H.ZP,(0,W.Z)({isSearch:!1,isLoading:r},a))},ue=function(n){return n.CUSTOMER="CUSTOMER",n.SUPPLIER="SUPPLIER",n.EMPLOYEE="EMPLOYEE",n.CONTRACTOR="CONTRACTOR",n.SUB_CONTRACTOR="SUB_CONTRACTOR",n.COMMISSION_AGENT="COMMISSION_AGENT",n.CONSIGNOR="CONSIGNOR",n.TRANSPORTER="TRANSPORTER",n.DELIVER="DELIVER",n}({}),ce=function(n){var e,t=n.onSelect,i=n.selected,o=(n.withActions,(0,B.xc)().warehouses),r=(0,z.un)(),l=(0,J.eO)().warehouses,d=(0,k.useCallback)((function(){o.getAll({onLoading:r.onLoading("warehouses"),data:{refresh:!0}})}),[r,o]);(0,k.useEffect)((function(){d()}),[]);var a=(0,k.useMemo)((function(){return{tableData:l,tableTitles:An.A7,onRowClick:function(n){if(t){if(null!==n&&void 0!==n&&n.rowData)return void t((0,F.rE)(null===n||void 0===n?void 0:n.rowData));null!==n&&void 0!==n&&n._id&&t({_id:null===n||void 0===n?void 0:n._id})}},actionsCreator:function(n){return[{icon:"refresh",onClick:d}]}}}),[d,t,l]);return(0,A.jsx)(H.ZP,(0,W.Z)((0,W.Z)({isSearch:!1},a),{},{isLoading:null===(e=r.isLoading)||void 0===e?void 0:e.warehouses,selectedRow:i}))},se=function(n){return n.price="price",n.variation="variation",n.warehouse="warehouse",n.inventory="inventory",n.supplier="supplier",n}({}),ve=(0,F.H1)(se),fe=y.ZP.form(C||(C=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  flex: 1;\n\n  padding: 0 8px;\n\n  width: 480px;\n  max-width: 100%;\n\n  height: 100%;\n\n  background-color: ",";\n"])),(function(n){return n.theme.modalBackgroundColor})),pe=(0,y.ZP)(V.ZP)(w||(w=(0,j.Z)(["\n  border-top: 1px solid ",";\n\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor}),(function(n){return n.theme.modalBorderColor})),he=function(n){var e,t=n.onClose,i=(n.onSubmit,(0,fn.J)()),o=null===(e=(0,I.Zx)())||void 0===e?void 0:e.offerId,r=(0,I.G2)({id:o}),l=(0,B.xc)()[B.EJ.products],d=(0,k.useState)(0),a=(0,P.Z)(d,2),u=a[0],c=a[1],s=(0,I.hN)(),v=s.setValue,f=s.formValues,p=s.handleSubmit,h=(0,k.useCallback)((function(n){v(ve[u].value,n)}),[u,v]),m=(0,k.useMemo)((function(){var n,e,t;return null!==(e=(n={},(0,L.Z)(n,se.warehouse,(0,A.jsx)(ce,{onSelect:h,selected:null===f||void 0===f?void 0:f.warehouse})),(0,L.Z)(n,se.price,(0,A.jsx)(In,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.price})),(0,L.Z)(n,se.variation,(0,A.jsx)(Pn,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.variation})),(0,L.Z)(n,se.inventory,(0,A.jsx)(On,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.inventory})),(0,L.Z)(n,se.supplier,(0,A.jsx)(ae,{types:[ue.SUPPLIER],withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.supplier})),n)[null===(t=ve[u])||void 0===t?void 0:t.value])&&void 0!==e?e:null}),[u,null===f||void 0===f?void 0:f.inventory,null===f||void 0===f?void 0:f.price,null===f||void 0===f?void 0:f.supplier,null===f||void 0===f?void 0:f.variation,null===f||void 0===f?void 0:f.warehouse,h]),x=(0,k.useMemo)((function(){var n,e,t,i,o,l,d,a=null===r||void 0===r?void 0:r.defaults,c=(0,L.Z)({},null!==(n=null===ve||void 0===ve||null===(e=ve[u])||void 0===e?void 0:e.value)&&void 0!==n?n:"",!0);return c.variation?f.variation&&f.variation._id!==(null===a||void 0===a||null===(t=a.variation)||void 0===t?void 0:t._id):c.price?f.price&&f.price._id!==(null===a||void 0===a||null===(i=a.price)||void 0===i?void 0:i._id):c.warehouse?f.warehouse&&f.warehouse._id!==(null===a||void 0===a||null===(o=a.warehouse)||void 0===o?void 0:o._id):c.inventory?f.inventory&&f.inventory._id!==(null===a||void 0===a||null===(l=a.inventory)||void 0===l?void 0:l._id):c.supplier?f.supplier&&f.supplier._id!==(null===a||void 0===a||null===(d=a.supplier)||void 0===d?void 0:d._id):void 0}),[null===r||void 0===r?void 0:r.defaults,u,f.inventory,f.price,f.supplier,f.variation,f.warehouse]);return(0,A.jsx)(z.f4,{value:i,children:(0,A.jsxs)(fe,{onSubmit:p((function(n){(null===r||void 0===r?void 0:r._id)&&l.setDefaults({data:{_id:null===r||void 0===r?void 0:r._id,defaults:(0,F.vg)(n),updateCurrent:!0},onSuccess:function(n,e){console.log(n,e)},onLoading:i.onLoading("submiting")})})),children:[(0,A.jsx)(Rn.xB,{onBackPress:t,title:(0,on.t)("Default values"),canSubmit:x}),(0,A.jsx)(E.Z,{filterOptions:ve,currentIndex:u,onChangeIndex:c}),(0,A.jsx)(pe,{flex:1,fillWidth:!0,overflow:"hidden",children:m}),(0,A.jsx)(Rn.AT,{loading:i.hasLoading,onCreatePress:function(){},canSubmit:x})]})})},me=t(3299);var xe,ge,be,Ze,Ce,we,je=t(4717),Pe=t(8790),ye=y.ZP.form(xe||(xe=(0,j.Z)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 480px;\n\n  padding: 0 8px;\n\n  background-color: ",";\n"])),(function(n){return n.theme.sideBarBackgroundColor})),Se=function(n){var e=n.onClose,t=(0,J.nr)().currentOffer,i=(0,B.xc)()[B.EJ.products],o=(0,k.useState)((null===t||void 0===t?void 0:t.images)||[]),r=(0,P.Z)(o,2),l=r[0],d=r[1],a=(0,k.useState)(!1),u=(0,P.Z)(a,2),c=u[0],s=u[1],v=(0,y.Fg)();return(0,A.jsx)(ye,{onSubmit:function(n){n.preventDefault(),t&&i.updateById({data:(0,W.Z)((0,W.Z)({},(0,Bn.rE)(t)),{},{data:{images:l},refreshCurrent:!0}),onSuccess:function(){e&&e()},onLoading:s})},children:(0,A.jsx)(Pe.Z,{initialData:l,onClose:e,onChangeState:d,contentContainerStyle:{flex:1,borderTop:"1px solid ".concat(v.sideBarBorderColor),borderBottom:"1px solid ".concat(v.sideBarBorderColor)},renderHeader:(0,A.jsx)(X.iw,{title:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",onBackPress:e,okButton:!0,canSubmit:l.length>0}),FooterComponent:function(n){return(0,A.jsx)(X.AT,{onCreatePress:n.onAddNewImageSetPress,loading:c,canSubmit:l.length>0})}})})},_e=t(4436),ke=["className"],Be=["CellComponent"],Ie=function(n){return n.General="General",n.Properties="Properties",n.Defaults="Defaults",n.Images="Images",n.Futures="Futures",n.Cms="Cms",n}({}),Ae=(0,F.H1)(Ie),De=(0,y.ZP)(V.ZP)(ge||(ge=(0,j.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(n){return n.theme.sideBarBackgroundColor})),Oe=(0,y.ZP)(V.ZP)(be||(be=(0,j.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),Re=(0,y.ZP)(V.ZP)(Ze||(Ze=(0,j.Z)([""]))),Le=(0,y.ZP)(ln.Z)(Ce||(Ce=(0,j.Z)(["\n  fill: ",";\n"])),(function(n){return n.theme.globals.colors.error})),Me=(0,y.ZP)(ln.Z)(we||(we=(0,j.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),Te=[{title:(0,on.t)("Label"),getValue:function(n){return null===n||void 0===n?void 0:n.label},gridArea:"label",tab:Ie.General},{title:(0,on.t)("status"),getValue:function(n){return null===n||void 0===n?void 0:n.approved},gridArea:"approved",tab:Ie.General},{title:(0,on.t)("Type"),getValue:function(n){return null===n||void 0===n?void 0:n.type},gridArea:"type",tab:Ie.General},{title:(0,on.t)("SKU"),getValue:function(n){return null===n||void 0===n?void 0:n.sku},gridArea:"sku",tab:Ie.General},{title:(0,on.t)("Bar-code"),getValue:function(n){return null===n||void 0===n?void 0:n.barCode},gridArea:"barCode",tab:Ie.General},{title:(0,on.t)("Categories"),CellComponent:function(n){var e=n.cell,t=n.overlayHandler,i=n.data,o=(0,J.q$)($n.cA.CATEGORIES_PROD).directory,r=(0,k.useMemo)((function(){var n,e;return null!==(n=null===i||void 0===i||null===(e=i.categories)||void 0===e?void 0:e.map((function(n){return n._id})))&&void 0!==n?n:[]}),[null===i||void 0===i?void 0:i.categories]),l=(0,k.useMemo)((function(){return o.map((function(n,e){return(0,A.jsx)(Qn,{selectedIds:r,item:n},"cat_".concat(n._id))}))}),[o,r]);return(0,A.jsxs)(Fn.U.Cell,{style:{minHeight:"max-content"},children:[(0,A.jsx)(zn.p,{title:null===e||void 0===e?void 0:e.title,openOverlayButtonTitle:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438",onOpenOverlayPress:function(){t({RenderComponent:Xn})}}),(0,A.jsx)(V.ZP,{fillWidth:!0,fxDirection:"row",justifyContent:"flex-end",flexWrap:"wrap",gap:8,style:{height:"max-content",minHeight:26},children:l})]})},gridArea:"categories",tab:Ie.General},{title:(0,on.t)("Brand"),getValue:function(n){var e;return null===n||void 0===n||null===(e=n.brand)||void 0===e?void 0:e.label},gridArea:"brand",tab:Ie.General},{title:(0,on.t)("Measurement"),gridArea:"measurement",getValue:function(n){try{var e=null!==n&&void 0!==n&&n.measurement?JSON.parse(null===n||void 0===n?void 0:n.measurement):{};return["".concat((0,on.t)("unit"),": ").concat((null===e||void 0===e?void 0:e.unit)||0),"".concat((0,on.t)("min"),": ").concat((null===e||void 0===e?void 0:e.min)||0),"".concat((0,on.t)("max"),": ").concat((null===e||void 0===e?void 0:e.max)||0),"".concat((0,on.t)("step"),": ").concat((null===e||void 0===e?void 0:e.step)||0)].join(" | ")}catch(t){return""}},tab:Ie.General},{title:(0,on.t)("Description"),getValue:function(n){return null===n||void 0===n?void 0:n.description},gridArea:"description",tab:Ie.General},{title:(0,on.t)("Negative sales"),getValue:function(n){var e;return null!==n&&void 0!==n&&null!==(e=n.futures)&&void 0!==e&&e.negativeSale?"Yes":"No"},gridArea:"reservation",tab:Ie.Futures},{title:(0,on.t)("Reservation"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&null!==(e=n.futures)&&void 0!==e&&null!==(t=e.reservation)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"reservation",tab:Ie.Futures},{title:(0,on.t)("Custom production"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&null!==(e=n.futures)&&void 0!==e&&null!==(t=e.customProduction)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"customProduction",tab:Ie.Futures},{title:(0,on.t)("Custom order"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&null!==(e=n.futures)&&void 0!==e&&null!==(t=e.customOrder)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"customOrder",tab:Ie.Futures},{title:(0,on.t)("Pre-order"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&null!==(e=n.futures)&&void 0!==e&&null!==(t=e.preOrder)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"preOrder",tab:Ie.Futures},{title:(0,on.t)("Is promo"),getValue:function(n){var e;return null===n||void 0===n||null===(e=n.futures)||void 0===e?void 0:e.isPromo},gridArea:"isPromo",tab:Ie.Futures},{title:(0,on.t)("Properties"),CellComponent:function(n){var e,t=n.cell,i=n.overlayHandler,o=n.data,r=(0,J.nr)().properties,l=(0,k.useState)(null===(e=r[0])||void 0===e?void 0:e._id),d=(0,P.Z)(l,1)[0],a=(0,k.useMemo)((function(){return r.find((function(n){return n._id===d}))}),[d,r]),u=(0,k.useMemo)((function(){var n;return null===a||void 0===a||null===(n=a.childrenList)||void 0===n?void 0:n.filter((function(n){return!n.isSelectable}))}),[null===a||void 0===a?void 0:a.childrenList]),c=(0,k.useMemo)((function(){var n;return null===o||void 0===o||null===(n=o.properties)||void 0===n?void 0:n.map((function(n){return n._id}))}),[null===o||void 0===o?void 0:o.properties]),s=(0,k.useMemo)((function(){return null===u||void 0===u?void 0:u.map((function(n,e){return(0,A.jsx)(le,{index:e,overlayHandler:i,item:n,selectedItems:c,data:o},"prop-".concat(null===n||void 0===n?void 0:n._id))}))}),[u,i,c,o]);return(0,A.jsxs)(Fn.U.Cell,{padding:"4px 4px 8px",gap:8,className:"PROPERTIES_LIST_CELL",style:{minHeight:s&&(null===s||void 0===s?void 0:s.length)>0?"max-content":50},children:[(0,A.jsx)(zn.p,{title:null===t||void 0===t?void 0:t.title,onOpenOverlayPress:function(){i({RenderComponent:re,props:{offer:o}})}}),(0,A.jsx)(V.ZP,{fillWidth:!0,gap:8,alignItems:s&&(null===s||void 0===s?void 0:s.length)>0?"stretch":"flex-end",children:s&&(null===s||void 0===s?void 0:s.length)>0?s:(0,A.jsx)(Fn.U.CellText,{$weight:500,children:(0,on.t)("undefined")})})]})},gridArea:"properties",tab:Ie.Properties},{title:(0,on.t)("Default values"),CellComponent:function(n){var e=n.data,t=n.cell,i=n.overlayHandler,o=(0,y.Fg)(),r=null===e||void 0===e?void 0:e.warehouse,l=null===e||void 0===e?void 0:e.supplier,d=null===e||void 0===e?void 0:e.price,a=(0,k.useMemo)((function(){var n,t=null===e||void 0===e?void 0:e.variation;return[{title:(0,on.t)("Label"),value:null===t||void 0===t?void 0:t.label},{title:(0,on.t)("Bar-code"),value:null===t||void 0===t?void 0:t.barCode},{title:(0,on.t)("SKU"),value:null===t||void 0===t?void 0:t.sku},{title:(0,on.t)("Props q-ty"),value:null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.length}].map((function(n,e){var t;return(0,A.jsxs)(V.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,A.jsx)(T.x,{$size:14,children:"".concat(null===n||void 0===n?void 0:n.title,": ")}),(0,A.jsx)(T.x,{$size:14,$weight:600,$align:"right",children:null!==(t=null===n||void 0===n?void 0:n.value)&&void 0!==t?t:"---"})]},null===n||void 0===n?void 0:n.title)}))}),[null===e||void 0===e?void 0:e.variation]),u=(0,k.useMemo)((function(){return function(n){var e,t,i,o,r,l;return[{title:(0,on.t)("Input"),amount:(0,me.pU)(null===n||void 0===n?void 0:n.in)},{title:(0,on.t)("Output"),amount:(0,me.pU)(null===n||void 0===n?void 0:n.out)},{title:(0,on.t)("Commission"),amount:(0,me.pU)(null===n||void 0===n||null===(e=n.commission)||void 0===e?void 0:e.amount),percentage:null!==n&&void 0!==n&&null!==(t=n.commission)&&void 0!==t&&t.percentage?(0,me.pU)(null===n||void 0===n||null===(i=n.commission)||void 0===i?void 0:i.percentage):void 0},{title:(0,on.t)("Markup"),amount:(0,me.pU)(null===n||void 0===n||null===(o=n.markup)||void 0===o?void 0:o.amount),percentage:null!==n&&void 0!==n&&null!==(r=n.markup)&&void 0!==r&&r.percentage?(0,me.pU)(null===n||void 0===n||null===(l=n.markup)||void 0===l?void 0:l.percentage):void 0}]}(d).map((function(n,e){return(0,A.jsxs)(V.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,A.jsx)(T.x,{children:"".concat(null===n||void 0===n?void 0:n.title,": ")}),(0,A.jsxs)(T.x,{$weight:600,children:[null===n||void 0===n?void 0:n.amount,(null===n||void 0===n?void 0:n.percentage)&&" | ".concat(null===n||void 0===n?void 0:n.percentage,"%")]})]},null===n||void 0===n?void 0:n.title)}))}),[d]);return(0,A.jsxs)(Fn.U.Cell,{style:{minHeight:"max-content"},children:[(0,A.jsx)(zn.p,{title:null===t||void 0===t?void 0:t.title,onOpenOverlayPress:function(){i({RenderComponent:he})}}),(0,A.jsxs)(V.ZP,{fillWidth:!0,children:[(0,A.jsx)(Fn.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,on.t)("warehouse")}),(0,A.jsx)(V.ZP,{fillWidth:!0,flexWrap:"wrap",fxDirection:"row",children:[{label:(0,on.t)("Label"),value:null===r||void 0===r?void 0:r.label},{label:(0,on.t)("Code"),value:null===r||void 0===r?void 0:r.code}].map((function(n){return(0,A.jsxs)(V.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,A.jsx)(T.x,{children:"".concat(n.label)}),(0,A.jsx)(T.x,{$weight:600,children:(null===n||void 0===n?void 0:n.value)||"---"})]},n.label)}))})]}),(0,A.jsxs)(V.ZP,{fillWidth:!0,children:[(0,A.jsx)(Fn.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,on.t)("supplier")}),[{label:(0,on.t)("Label"),value:null===l||void 0===l?void 0:l.label},{label:(0,on.t)("Code"),value:null===l||void 0===l?void 0:l.code}].map((function(n){return(0,A.jsxs)(V.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,A.jsx)(T.x,{children:"".concat(n.label)}),(0,A.jsx)(T.x,{$weight:600,children:(null===n||void 0===n?void 0:n.value)||"---"})]},n.label)}))]}),(0,A.jsxs)(V.ZP,{fillWidth:!0,gap:6,children:[(0,A.jsx)(Fn.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,on.t)("variation")}),(0,A.jsx)(V.ZP,{fillWidth:!0,children:a})]}),(0,A.jsxs)(V.ZP,{fillWidth:!0,gap:6,children:[(0,A.jsx)(Fn.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,on.t)("price")}),(0,A.jsx)(V.ZP,{fillWidth:!0,children:u})]})]})},gridArea:"defaults",tab:Ie.Defaults},{title:(0,on.t)("Created by / Date / Time"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&n.author?"".concat(null===n||void 0===n||null===(e=n.author)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email," / ").concat(null!==n&&void 0!==n&&n.createdAt&&(0,Hn.isString)(null===n||void 0===n?void 0:n.createdAt)?(0,F.M7)(Date.parse(null===n||void 0===n?void 0:n.createdAt)):""):null},gridArea:"created",tab:Ie.General},{title:(0,on.t)("Updated by / Date / Time"),getValue:function(n){var e,t;return null!==n&&void 0!==n&&n.editor?"".concat(null===n||void 0===n||null===(e=n.editor)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email," / ").concat(null!==n&&void 0!==n&&n.updatedAt&&(0,Hn.isString)(null===n||void 0===n?void 0:n.updatedAt)?(0,F.M7)(Date.parse(null===n||void 0===n?void 0:n.updatedAt)):""):null},gridArea:"updated",tab:Ie.General},{title:(0,on.t)("Images"),CellComponent:function(n){var e=n.data,t=n.cell,i=n.overlayHandler,o=(0,k.useMemo)((function(){var n;return null===e||void 0===e||null===(n=e.images)||void 0===n?void 0:n.map((function(n,e){return(0,A.jsx)(Fn.U.ImagesSetBox,{fxDirection:"row",gap:2,overflow:"auto",children:_e.E_.map((function(e){return(0,A.jsx)(je.Z,{src:n[e.value]||"",disabled:!0},"img_".concat(e.value))}))},"set_".concat((null===n||void 0===n?void 0:n._id)||e))}))}),[null===e||void 0===e?void 0:e.images]);return(0,A.jsxs)(Fn.U.Cell,{style:{minHeight:"max-content",padding:"4px 0"},children:[(0,A.jsx)(zn.p,{title:null===t||void 0===t?void 0:t.title,onOpenOverlayPress:function(){i({RenderComponent:Se})}}),(0,A.jsx)(V.ZP,{gap:2,height:"max-content",padding:"8px 0",style:{minHeight:26},children:o})]})},gridArea:"images",tab:Ie.Images}];var Ee,Ve,We=function(n){var e,t=n.className,i=(0,q.Z)(n,ke),o=(0,I.xj)(),r=O().currentOffer,l=(0,Un.on)(),d=function(){var n={};return Te.forEach((function(e){var t,i=e.tab;i&&(n[i]?null===(t=n[i])||void 0===t||t.push(e):n[i]=[e])})),n}(),a=(0,k.useState)(Ie.General),u=(0,P.Z)(a,2),c=u[0],s=u[1],v=(0,k.useMemo)((function(){var n;return d[c]?null===(n=d[c])||void 0===n?void 0:n.map((function(n){var e=n.CellComponent,t=(0,q.Z)(n,Be);return e?(0,A.jsx)(e,{overlayHandler:l.open,cell:t,data:r},t.title):(0,A.jsx)(Nn.k,{overlayHandler:l.open,cell:t,data:r},t.title)})):null}),[d,c,l.open,r]);return(0,A.jsxs)(De,{fillWidth:!0,flex:1,className:t,padding:"0 8px",children:[(0,A.jsx)(X.iw,{title:(0,on.t)("Offer overview"),onBackPress:o.goBack}),(0,A.jsx)(E.Z,{optionProps:{fitContentH:!0},filterOptions:Ae,onOptSelect:function(n){o.replace({hash:null===n||void 0===n?void 0:n.value}),s(null===n||void 0===n?void 0:n.value)}}),(0,A.jsx)(Oe,{fillWidth:!0,flex:1,overflow:"auto",children:v}),(0,A.jsxs)(Re,{fillWidth:!0,fxDirection:"row",gap:6,padding:"6px 0",children:[(0,A.jsx)(ln.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==i&&void 0!==i&&i.onEdit),onClick:null===i||void 0===i?void 0:i.onEdit}),(0,A.jsx)(ln.Z,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:null!==i&&void 0!==i&&null!==(e=i.product)&&void 0!==e&&e.visible?"visibilityOn":"visibilityOff",disabled:!(null!==i&&void 0!==i&&i.onHide),onClick:null===i||void 0===i?void 0:i.onHide}),(0,A.jsx)(Le,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==i&&void 0!==i&&i.onDelete),onClick:null===i||void 0===i?void 0:i.onDelete}),(0,A.jsxs)(V.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,A.jsx)(ln.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",disabled:!(null!==i&&void 0!==i&&i.onRefresh),onClick:null===i||void 0===i?void 0:i.onRefresh}),(0,A.jsx)(Me,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==i&&void 0!==i&&i.onOpenRightSide),onClick:null===i||void 0===i?void 0:i.onOpenRightSide})]})]})]})},Ue=t(4683),Ne=(0,y.ZP)(V.ZP)(Ee||(Ee=(0,j.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor})),He=function(n){var e=n.toggleRightSideVisibility,t=O(),i=$e(),o=(0,N.f9)(),r=(0,B.xc)().products;return(0,A.jsxs)(Ne,{children:[(0,A.jsx)(We,{product:null===t||void 0===t?void 0:t.currentOffer,onEdit:function(){var n;t.currentOffer&&o.openModal({Modal:Ue.n.EditOffer,props:{_id:null===t||void 0===t||null===(n=t.currentOffer)||void 0===n?void 0:n._id,title:(0,on.t)("Edit offer")}})},onRefresh:function(){var n,e;null!==(n=t.currentOffer)&&void 0!==n&&n._id&&r.getProductFullInfo({data:{_id:null===(e=t.currentOffer)||void 0===e?void 0:e._id},onLoading:i.onLoading("offer")})},onOpenRightSide:e}),(0,A.jsx)(Wn.j,{})]})},$e=function(){return(0,z.un)()},Fe=y.ZP.div(Ve||(Ve=(0,j.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),S.VU),ze=function(n){var e=n.path,t=(0,fn.J)({offer:{content:(0,on.t)("Loading product info")}}),i=(0,k.useState)(!1),o=(0,P.Z)(i,2),r=o[0],l=o[1],d=(0,k.useCallback)((function(){l((function(n){return!n}))}),[]);return(0,A.jsx)(z.f4,{value:t,children:(0,A.jsx)(R,{children:(0,A.jsx)(Un.ZP,{children:(0,A.jsx)(_.default,{path:e,children:(0,A.jsxs)(Fe,{children:[(0,A.jsx)(He,{toggleRightSideVisibility:d}),(0,A.jsx)(Vn,{isVisible:r,toggleVisibility:d})]})})})})})}},8495:function(n,e,t){t.d(e,{SI:function(){return u},VU:function(){return a}});var i,o,r,l=t(168),d=t(2360),a=(0,d.iv)(i||(i=(0,l.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),u=(0,d.iv)(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,d.iv)(r||(r=(0,l.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(n,e,t){t.d(e,{U:function(){return Z}});var i,o,r,l,d,a,u,c=t(168),s=t(2360),v=t(8095),f=t(6492),p=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(n){return n.theme.accentColor.base}),(function(n){return n.theme.modalBorderColor})),h=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(n){return n.theme.sideBarBorderColor})),m=(0,s.ZP)(v.ZP)(r||(r=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(n){return n.theme.fieldBackgroundColor}),(function(n){return n.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(l||(l=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(n){return n.$isTitle||n.$disabled?n.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(n){return n.theme.fieldBackgroundColor})),Z={CategoryItem:(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px;\n\n  font-weight: 500;\n  font-size: 12px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(n){return n.theme.fontColorSidebar}),(function(n){return n.theme.field.backgroundColor}),(function(n){return n.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:m,HeaderButton:p,Cell:h,DefaultTag:b}},6493:function(n,e,t){t.d(e,{p:function(){return d}});var i=t(6522),o=t(8095),r=(t(2791),t(6753)),l=t(3329),d=function(n){var e=n.title,t=void 0===e?"Title":e,d=n.openOverlayButtonTitle,a=void 0===d?(0,i.t)("Change"):d,u=n.onOpenOverlayPress,c=n.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=n.onEditPress,f=n.acceptButtonText,p=void 0===f?(0,i.t)("Ok"):f,h=n.onAcceptPress,m=n.editMode,x=void 0!==m&&m,g=n.canAccept,b=void 0!==g&&g,Z=n.cancelButtonText,C=void 0===Z?(0,i.t)("Cancel"):Z,w=n.onCancelPress;return(0,l.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",children:[(0,l.jsx)(r.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),u&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:u,children:a}),!x&&v&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:v,children:s}),x&&w&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:w,children:C}),x&&h&&(0,l.jsx)(r.U.HeaderButton,{type:"button",disabled:!b,onClick:h,children:p})]})}},5227:function(n,e,t){t.d(e,{k:function(){return a}});var i=t(8095),o=t(6522),r=t(2791),l=t(6753),d=t(3329),a=function(n){var e=n.cell,t=n.data,a=(0,r.useMemo)((function(){return e.getValue?e.getValue(t):null}),[e,t]);return(0,d.jsxs)(l.U.Cell,{children:[(0,d.jsx)(l.U.CellText,{$isTitle:!0,$size:12,children:null===e||void 0===e?void 0:e.title}),(0,d.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:24},children:(0,d.jsx)(l.U.CellText,{$isTitle:!a,$weight:500,children:a||(0,o.t)("undefined")})})]})}},4235:function(n,e,t){var i=t(6522),o=t(2791),r=t(8553),l=t(9964),d=t(3329);e.Z=function(n){var e=n.onChange,t=n.disabled,a=(0,o.useMemo)((function(){return(0,r.H1)(i.bp)}),[]);return(0,d.jsx)(l.Z,{disabled:t,options:a,onSelect:function(n){return e&&e(n.value)}})}},758:function(n,e,t){t.d(e,{A7:function(){return r},QX:function(){return l},fK:function(){return a}});var i=t(6522),o=t(6272),r=[{top:{name:(0,i.t)("label"),getData:function(n){return n.label}},bottom:{name:(0,i.t)("code"),getData:function(n){return n.code}},width:"220px",action:"valueByPath"},{top:{name:(0,i.t)("type"),getData:function(n){return null===n||void 0===n?void 0:n.type}},width:"125px",action:"valueByPath"},{top:{name:(0,i.t)("email")},bottom:{name:(0,i.t)("phone")},width:"180px",action:"contacts"},{top:{name:(0,i.t)("Address"),getData:function(n){return n.address||"\u043d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}},bottom:{name:"".concat((0,i.t)("longitude"),"/").concat((0,i.t)("latitude")),getData:function(n){var e,t;return"".concat(((null===(e=n.location)||void 0===e?void 0:e.longitude)||"---")+", "+((null===(t=n.location)||void 0===t?void 0:t.latitude)||"---"))}},width:"175px",action:"valueByPath"},{top:{name:(0,i.t)("Manager"),getData:function(n){var e,t;return"".concat((null===(e=n.manager)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||"---")}},bottom:{name:(0,i.t)("email"),getData:function(n){var e,t;return"".concat((null===(e=n.manager)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email)||"---")}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,i.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}],l=[{top:{name:(0,i.t)("variationLabel"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.label}},getImgPreview:function(n){var e,t,i;return null!==(e=n.offer)&&void 0!==e&&e.images?null===(t=n.offer)||void 0===t||null===(i=t.images[0])||void 0===i?void 0:i.img_preview:""},width:"270px",action:"doubleDataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},bottom:{name:(0,i.t)("status"),path:"status"},width:"120px",action:"status"},{top:{name:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c",align:"end",getData:function(n){return n.stock||0}},bottom:{name:"\u0420\u0435\u0437\u0435\u0440\u0432",align:"end",getData:function(n){return n.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u0447\u0456\u043a\u0443\u0454\u0442\u044c\u0441\u044f",align:"end",getData:function(n){return(null===n||void 0===n?void 0:n.awaiting)||0}},bottom:{name:"\u0412\u0442\u0440\u0430\u0447\u0435\u043d\u043e",align:"end",getData:function(n){return(null===n||void 0===n?void 0:n.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("warehouse"),getData:function(n){var e;return null===(e=n.warehouse)||void 0===e?void 0:e.label}},bottom:{name:(0,i.t)("code"),getData:function(n){var e;return null===(e=n.warehouse)||void 0===e?void 0:e.code}},width:"170px",action:"valueByPath"},{top:{name:"\u041e\u043f\u0438\u0441",path:"description"},width:"190px",action:"valueByPath"},{top:{name:"\u0410\u0432\u0442\u043e\u0440",path:"author.name"},bottom:{name:"\u0415\u043c\u0435\u0439\u043b",path:"author.email"},width:"190px",action:"valueByPath"},{top:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},bottom:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},width:"150px",action:"dateSimple"}],d=[{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(n){var e;return(0,o.__)(Number((null===n||void 0===n||null===(e=n.price)||void 0===e?void 0:e.in)||0))}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(n){var e;return(0,o.__)(Number((null===n||void 0===n||null===(e=n.price)||void 0===e?void 0:e.out)||0))}},width:"170px",action:"valueByPath"},{top:{name:(0,i.t)("comment"),align:"start",path:"description"},width:"150px",action:"valueByPath"}],a=[{top:{name:(0,i.t)("batch")},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("warehouse"),getData:function(n){var e;return null===(e=n.warehouse)||void 0===e?void 0:e.label}},bottom:{name:(0,i.t)("code"),getData:function(n){var e;return null===(e=n.warehouse)||void 0===e?void 0:e.code}},width:"170px",action:"valueByPath"},{top:{name:(0,i.t)("Stock"),align:"end",getData:function(n){return n.stock||0}},bottom:{name:(0,i.t)("Reserved"),align:"end",getData:function(n){return n.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Awaiting"),align:"end",getData:function(n){return(null===n||void 0===n?void 0:n.awaiting)||0}},bottom:{name:(0,i.t)("Lost"),align:"end",getData:function(n){return(null===n||void 0===n?void 0:n.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,i.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}].concat(d)}}]);
//# sourceMappingURL=273.a1641342.chunk.js.map