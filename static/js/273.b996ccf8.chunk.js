"use strict";(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[273,495],{2483:function(e,n,t){t.d(n,{j:function(){return f}});var i,o,r=t(168),a=t(1413),l=t(4781),u=t(2791),d=t(3350),c=t(8095),s=t(3329),v=(0,u.createContext)({}),f=function(e){var n=(0,l.on)(),t=(0,u.useCallback)((function(e){return function(t){t.target===t.currentTarget&&n.remove(e)}}),[n]),i=(0,u.useMemo)((function(){return n.getStack().map((function(e,i){var o=e.RenderComponent,r=e.props,l=e.id;return(0,s.jsx)(h,{className:"overlay-".concat(l),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(l),children:(0,s.jsx)(v.Provider,{value:{onClose:function(){n.remove(l)},compId:l,index:i},children:(0,s.jsx)(o,(0,a.Z)((0,a.Z)({},r),{},{onClose:function(){n.remove(l)},compId:l,index:i}),"overlay-".concat(l))})},"overlay-".concat(l))}))}),[t,n]);return(0,s.jsx)(p,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},p=(0,d.ZP)(c.ZP)(i||(i=(0,r.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(e){return e.isActive?0:"100%"}),(function(e){return e.isActive?1:0}),(function(e){return e.isActive?"visible":"hidden"}),(function(e){return e.isActive?"all":"none"}),(function(e){return e.theme.backdropColorDark}),(function(e){return e.theme.globals.timingFunctionMain})),h=(0,d.ZP)(c.ZP)(o||(o=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  height: 100%;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(e,n,t){t.d(n,{on:function(){return c}});var i=t(1413),o=t(3433),r=t(9439),a=t(2791),l=t(6382),u=t(3329),d=(0,a.createContext)({}),c=function(){return(0,a.useContext)(d)};n.ZP=function(e){var n=e.children,t=(0,a.useState)([]),c=(0,r.Z)(t,2),s=c[0],v=c[1],f=(0,a.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]),p=(0,a.useCallback)((function(){v([])}),[]),h=(0,a.useCallback)((function(e){var n="".concat(e.RenderComponent.name,"_").concat((0,l.x0)(8));return"function"===typeof e.RenderComponent&&v((function(t){var r=t.find((function(n){return n.id.includes(e.RenderComponent.name)}));if(r){var a=t.filter((function(e){var n,t;return(null===(n=e.RenderComponent)||void 0===n?void 0:n.name)!==(null===(t=r.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(a),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])})),{onClose:function(){return f(n)},compId:n}}),[f]),m={getStack:function(){return s},remove:f,clearStack:p,open:h,create:function(e,n){return h({RenderComponent:e,props:n})}};return(0,u.jsx)(d.Provider,{value:m,children:n})}},2273:function(e,n,t){t.r(n),t.d(n,{default:function(){return we}});var i,o,r,a,l,u,d=t(168),c=t(9439),s=t(2791),v=t(3350),f=t(8495),p=t(6146),h=t(2989),m=t(4781),x=t(8095),g=t(7348),b=t(1819),P=t(2483),Z=t(1251),C=t(7689),w=t(2928),y=t(6522),j=t(3306),D=t(9953),k=t(4925),B=t(5227),S=t(6753),I=t(6493),T=t(6492),A=t(3329),R=function(e){var n=e.cell,t=e.data,i=(0,s.useMemo)((function(){var e,n,i,o,r,a=null===t||void 0===t?void 0:t.customer;return[{label:(0,y.t)("First name"),value:null===a||void 0===a||null===(e=a.name)||void 0===e?void 0:e.first,visible:"company"!==(null===a||void 0===a?void 0:a.businessType)},{label:(0,y.t)("Second name"),value:null===a||void 0===a||null===(n=a.name)||void 0===n?void 0:n.second,visible:"company"!==(null===a||void 0===a?void 0:a.businessType)},{label:(0,y.t)("Middle name"),value:null===a||void 0===a||null===(i=a.name)||void 0===i?void 0:i.middle,visible:"company"!==(null===a||void 0===a?void 0:a.businessType)},{label:(0,y.t)("Base label"),value:null===a||void 0===a||null===(o=a.name)||void 0===o?void 0:o.first,visible:"person"!==(null===a||void 0===a?void 0:a.businessType)},{label:(0,y.t)("Print"),value:null===a||void 0===a||null===(r=a.name)||void 0===r?void 0:r.second,visible:"person"!==(null===a||void 0===a?void 0:a.businessType)},{label:(0,y.t)("Email"),value:null===a||void 0===a?void 0:a.email,visible:!0},{label:(0,y.t)("Phone"),value:null===a||void 0===a?void 0:a.phone,visible:!0},{label:(0,y.t)("Business type"),value:null===a||void 0===a?void 0:a.businessType,visible:!0},{label:(0,y.t)("Sex type"),value:null===a||void 0===a?void 0:a.sexType,visible:!0},{label:(0,y.t)("Engagement type"),value:null===a||void 0===a?void 0:a.engagementSource,visible:!0},{label:(0,y.t)("Age"),value:null===a||void 0===a?void 0:a.age,visible:!0},{label:(0,y.t)("Tags"),value:null,visible:!0}].map((function(e){var n;return e.visible&&(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t?void 0:t.customer]);return(0,A.jsxs)(S.U.Cell,{children:[(null===n||void 0===n?void 0:n.title)&&(0,A.jsx)(I.p,{title:null===n||void 0===n?void 0:n.title}),i]})},_=["CellComponent"],U=function(e){return e.General="General",e.Customer="Customer",e.Invoicing="Invoicing",e.Delivery="Delivery",e.Additional="Additional",e}(U||{}),V=(0,j.Dl)(U),$=(0,v.ZP)(x.ZP)(i||(i=(0,d.Z)([""]))),z=function(e){var n=(0,m.on)(),t=(0,g.xA)().currentOrder,i=(0,s.useState)(U.General),o=(0,c.Z)(i,2),r=o[0],a=o[1],l=function(){var e={};return O.forEach((function(n){var t,i=n.tab;i&&(e[i]?null===(t=e[i])||void 0===t||t.push(n):e[i]=[n])})),e}(),u=(0,s.useMemo)((function(){var e;return l[r]?null===(e=l[r])||void 0===e?void 0:e.map((function(e){var i=e.CellComponent,o=(0,k.Z)(e,_);return i?(0,A.jsx)(i,{overlayHandler:n.open,cell:o,data:t},o.title):(0,A.jsx)(B.k,{overlayHandler:n.open,cell:o,data:t},o.title)})):null}),[l,r,n.open,t]);return(0,A.jsxs)($,{fillWidth:!0,flex:1,overflow:"auto",children:[(0,A.jsx)(D.Z,{optionProps:{fitContentH:!0},options:V,onOptSelect:function(e){a(null===e||void 0===e?void 0:e.value)}}),u]})},O=[{title:(0,y.t)("Manager"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.manager)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email},tab:U.General},{title:(0,y.t)("Reference"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal},tab:U.General},{title:(0,y.t)("Group reference"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal},tab:U.General},{title:(0,y.t)("Group strategy"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy},tab:U.General},{title:(0,y.t)("Totals"),CellComponent:function(e){var n,t,i=e.data,o=e.cell,r=(0,s.useMemo)((function(){var e,n;return[{label:(0,y.t)("Amount"),value:(0,j.__)(null===i||void 0===i||null===(e=i.total)||void 0===e?void 0:e.amount)},{label:(0,y.t)("Items count"),value:null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.items}].map((function(e){return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",justifyContent:"space-between",fillWidth:!0,gap:8,children:[(0,A.jsx)(T.x,{$size:11,children:e.label}),(0,A.jsx)(S.U.CellText,{$weight:600,children:null===e||void 0===e?void 0:e.value})]})}))}),[null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.amount,null===i||void 0===i||null===(t=i.total)||void 0===t?void 0:t.items]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:o.title}),r]})},tab:U.General},{title:(0,y.t)("Status"),getValue:function(e){return null===e||void 0===e?void 0:e.status},tab:U.General},{CellComponent:R,tab:U.Customer},{title:(0,y.t)("Receiver"),CellComponent:R,tab:U.Delivery},{title:(0,y.t)("Invoicing"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,s.useMemo)((function(){var e;return[{label:(0,y.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:(0,y.t)("General info")}),i]})},tab:U.Invoicing},{title:(0,y.t)("Delivery"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,s.useMemo)((function(){var e;return[{label:(0,y.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:(0,y.t)("General info")}),i]})},tab:U.Delivery},{title:(0,y.t)("Additional"),tab:U.Additional}];var W,M,H,L=function(e){return e.info="Info",e.chat="Chat",e.statuses="Statuses",e.comments="Comments",e.tasks="tasks",e}({}),G=(0,j.H1)(L),E=(0,v.ZP)(x.ZP)(o||(o=(0,d.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),F=(0,v.ZP)(x.ZP)(r||(r=(0,d.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),q=(0,v.ZP)(x.ZP)(a||(a=(0,d.Z)([""]))),Q=(0,v.ZP)(w.ZP)(l||(l=(0,d.Z)(["\n  fill: ",";\n"])),(function(e){return e.theme.globals.colors.error})),K=(0,v.ZP)(w.ZP)(u||(u=(0,d.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),J=function(e){var n,t=(0,s.useState)(0),i=(0,c.Z)(t,2),o=i[0],r=i[1],a=null===(n=(0,h.Zx)())||void 0===n?void 0:n.orderId,l=(0,g.xA)().currentOrder,u=(0,C.s0)(),d=(0,C.TH)(),v=(0,s.useMemo)((function(){return G[o].value===L.info?(0,A.jsx)(z,{}):null}),[o]);return(0,A.jsxs)(E,{flex:1,fillWidth:!0,padding:"0 8px",children:[(0,A.jsx)(Z.xB,{title:(0,y.t)("Order overview"),onBackPress:function(){if(null!==d&&void 0!==d&&d.pathname){var e,n=null===d||void 0===d||null===(e=d.pathname)||void 0===e?void 0:e.replace("/".concat((null===l||void 0===l?void 0:l._id)||a),"");n&&u(n)}}}),(0,A.jsxs)(F,{flex:1,fillWidth:!0,overflow:"auto",children:[(0,A.jsx)(D.Z,{options:G,optionProps:{fitContentH:!0},onOptSelect:function(e,n,t){return r(t)}}),v]}),(0,A.jsxs)(q,{fxDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"8px 0",children:[(0,A.jsx)(w.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==e&&void 0!==e&&e.onEdit),onClick:null===e||void 0===e?void 0:e.onEdit}),(0,A.jsx)(Q,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==e&&void 0!==e&&e.onDelete),onClick:null===e||void 0===e?void 0:e.onDelete}),(0,A.jsxs)(x.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,A.jsx)(w.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",isLoading:null===e||void 0===e?void 0:e.isRefresh,disabled:!(null!==e&&void 0!==e&&e.onRefresh),onClick:null===e||void 0===e?void 0:e.onRefresh}),(0,A.jsx)(K,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==e&&void 0!==e&&e.onOpenRightSide),onClick:null===e||void 0===e?void 0:e.onOpenRightSide})]})]})]})},N=(0,v.ZP)(x.ZP)(W||(W=(0,d.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),X=function(e){var n=e.toggleRightSideVisibility,t=(0,g.xA)().currentOrder,i=(0,s.useState)(!1)[1],o=(0,b.xc)().orders;return(0,A.jsxs)(N,{children:[(0,A.jsx)(J,{order:t,onRefresh:function(){(null===t||void 0===t?void 0:t._id)&&o.getById({data:{_id:null===t||void 0===t?void 0:t._id,options:{refreshCurrent:!0}},onLoading:i})},onOpenRightSide:n}),(0,A.jsx)(P.j,{})]})},Y=t(1413),ee=t(8589),ne=t(4897),te=t(3383),ie=t(9541),oe=t(4165),re=t(5861),ae=t(3649),le=t(1484),ue=(0,s.createContext)({}),de=function(){return(0,s.useContext)(ue)},ce=function(e){var n=e.children,t=(0,g.xA)().currentOrder,i=(0,h.Zx)(),o=(0,ae.TL)(),r=(0,b.xc)()[b.EJ.orders],a=(0,s.useMemo)((function(){var e=null===t||void 0===t?void 0:t._id;return(0,Y.Z)((0,Y.Z)({},t),{},{_origin:t,getSlots:function(){var n=(0,re.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.wV)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getPayments:function(){var n=(0,re.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.JA)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getInvoices:function(){var n=(0,re.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.qQ)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getDeliveries:function(){var n=(0,re.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.vc)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}),[t,o]);return(0,s.useEffect)((function(){t||i.orderId&&r.getById({data:{_id:i.orderId}})}),[t,i.orderId,r]),(0,A.jsx)(ue.Provider,{value:null!==a&&void 0!==a?a:{},children:n})},se=function(e){var n=(0,s.useState)(),t=(0,c.Z)(n,2),i=t[0],o=t[1],r=(0,ie.J)(),a=de(),l=(0,s.useMemo)((function(){var e;return i?null===a||void 0===a||null===(e=a.slots)||void 0===e?void 0:e.filter((function(e){var n;return(null===(n=e.offer)||void 0===n?void 0:n.type)===i})):null===a||void 0===a?void 0:a.slots}),[null===a||void 0===a?void 0:a.slots,i]),u=(0,s.useMemo)((function(){return{actionsCreator:function(e){return[{icon:"refresh",name:"refresh",disabled:!a._id,onClick:function(){a.getSlots({onLoading:r.onLoading("refresh")})}}]}}}),[a,r]);return(0,s.useEffect)((function(){var e;null!==a&&void 0!==a&&null!==(e=a.slots)&&void 0!==e&&e.length||a.getSlots({onLoading:r.onLoading("refresh")})}),[]),(0,A.jsxs)(x.ZP,{fillWidth:!0,overflow:"hidden",flex:1,children:[(0,A.jsx)(x.ZP,{fillWidth:!0,children:(0,A.jsx)(D.Z,{options:te.LC,defaultValue:i,preventDefault:!0,onResetPress:function(){o(void 0)},onOptSelect:function(e,n){o(n)}})}),(0,A.jsx)(ee.ZP,(0,Y.Z)((0,Y.Z)({hasSearch:!1,hasFilter:!1},u),{},{tableData:l,isLoading:r.isLoading.refresh,tableTitles:ne.$4}))]})},ve=t(7946),fe=function(e){var n=de(),t=(0,ie.J)(),i=(0,s.useMemo)((function(){return{actionsCreator:function(e){return[{name:"refresh",icon:"refresh",disabled:!n._id,onClick:function(){n.getInvoices({})}}]}}}),[n]);return(0,s.useEffect)((function(){null!==n&&void 0!==n&&n._id&&n.getInvoices({onLoading:t.onLoading("refresh")})}),[]),(0,A.jsx)(ee.ZP,(0,Y.Z)((0,Y.Z)({},i),{},{hasSearch:!1,hasFilter:!1,isLoading:t.isLoading.refresh,tableData:null===n||void 0===n?void 0:n.invoices,tableTitles:ve.x}))},pe=function(){return(0,A.jsx)(ee.ZP,{hasSearch:!1,hasFilter:!1})},he=function(e){e.order;var n=de();return(0,s.useEffect)((function(){var e;null!==n&&void 0!==n&&null!==(e=n.deliveries)&&void 0!==e&&e.length||null===n||void 0===n||n.getDeliveries({})}),[n]),(0,A.jsx)(ee.ZP,{hasSearch:!1,hasFilter:!1,actionsCreator:function(){return[{title:"Refresh",icon:"refresh",onClick:function(){return n.getDeliveries({})}}]}})},me=t(7121),xe=function(e){return e.Content="Content",e.Invoices="Invoices",e.Payments="Payments",e.Deliveries="Deliveries",e}(xe||{}),ge=(0,j.H1)(xe),be=(0,v.ZP)(x.ZP)(M||(M=(0,d.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.globals.timingFunctionMain}),(function(e){return e.theme.backgroundColorLight}),(function(e){return e.isVisible?0:100}),(function(e){return e.isVisible?"0 12px 26px rgba(0, 0, 0, 0.25)":""})),Pe=function(e){var n,t,i=e.toggleVisibility,o=e.isVisible,r=(0,g.xA)().currentOrder,a=(0,s.useState)(xe.Content),l=(0,c.Z)(a,2),u=l[0],d=l[1],v=(0,s.useMemo)((function(){return u===xe.Content?(0,A.jsx)(se,{}):u===xe.Invoices?(0,A.jsx)(fe,{}):u===xe.Payments?(0,A.jsx)(pe,{}):u===xe.Deliveries?(0,A.jsx)(he,{}):void 0}),[u]);return(0,A.jsxs)(be,{overflow:"hidden",fillHeight:!0,isVisible:o,children:[o&&(0,A.jsx)(me.OX,{title:null!==(n=null===r||void 0===r||null===(t=r.reference)||void 0===t?void 0:t.internal)&&void 0!==n?n:(0,y.t)("undefined"),onBackPress:i}),(0,A.jsx)(x.ZP,{children:(0,A.jsx)(D.Z,{options:ge,defaultValue:u,onOptSelect:function(e,n,t){n&&d(n)},preventDefault:!0})}),(0,A.jsx)(x.ZP,{overflow:"hidden",flex:1,children:v})]})},Ze=t(7824),Ce=v.ZP.div(H||(H=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),f.VU),we=function(e){var n=e.path,t=(0,b.xc)()[Ze.d.orders],i=(0,s.useState)(!1),o=(0,c.Z)(i,2),r=o[0],a=o[1],l=(0,h.Zx)().orderId,u=function(){a((function(e){return!e}))};return(0,s.useEffect)((function(){l&&t.getById({data:{_id:l,options:{refreshCurrent:!0}}})}),[l,t]),(0,A.jsx)(p.vI,{path:n,children:(0,A.jsx)(ce,{children:(0,A.jsx)(m.ZP,{children:(0,A.jsxs)(Ce,{children:[(0,A.jsx)(X,{toggleRightSideVisibility:u}),(0,A.jsx)(Pe,{toggleVisibility:u,isVisible:r})]})})})})}},8495:function(e,n,t){t.d(n,{SI:function(){return d},VU:function(){return u}});var i,o,r,a=t(168),l=t(3350),u=(0,l.iv)(i||(i=(0,a.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),d=(0,l.iv)(o||(o=(0,a.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,l.iv)(r||(r=(0,a.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(e,n,t){t.d(n,{U:function(){return P}});var i,o,r,a,l,u,d,c=t(168),s=t(3350),v=t(8095),f=t(6492),p=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.modalBorderColor})),h=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor})),m=(0,s.ZP)(v.ZP)(r||(r=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fieldBackgroundColor}),(function(e){return e.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(a||(a=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(e){return e.$isTitle||e.$disabled?e.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(l||(l=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.fieldBackgroundColor})),P={CategoryItem:(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.field.backgroundColor}),(function(e){return e.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:m,HeaderButton:p,Cell:h,DefaultTag:b}},6493:function(e,n,t){t.d(n,{p:function(){return l}});var i=t(6522),o=t(8095),r=(t(2791),t(6753)),a=t(3329),l=function(e){var n=e.title,t=void 0===n?"Title":n,l=e.openOverlayButtonTitle,u=void 0===l?(0,i.t)("Change"):l,d=e.onOpenOverlayPress,c=e.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=e.onEditPress,f=e.acceptButtonText,p=void 0===f?(0,i.t)("Ok"):f,h=e.onAcceptPress,m=e.editMode,x=void 0!==m&&m,g=e.canAccept,b=void 0!==g&&g,P=e.cancelButtonText,Z=void 0===P?(0,i.t)("Cancel"):P,C=e.onCancelPress;return(0,a.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,a.jsx)(r.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),d&&(0,a.jsx)(r.U.HeaderButton,{type:"button",onClick:d,children:u}),!x&&v&&(0,a.jsx)(r.U.HeaderButton,{type:"button",onClick:v,children:s}),x&&C&&(0,a.jsx)(r.U.HeaderButton,{type:"button",onClick:C,children:Z}),x&&h&&(0,a.jsx)(r.U.HeaderButton,{type:"button",disabled:!b,onClick:h,children:p})]})}},5227:function(e,n,t){t.d(n,{k:function(){return u}});var i=t(8095),o=t(6522),r=t(2791),a=t(6753),l=t(3329),u=function(e){var n=e.cell,t=e.data,u=(0,r.useMemo)((function(){return n.getValue?n.getValue(t):null}),[n,t]);return(0,l.jsxs)(a.U.Cell,{children:[(0,l.jsx)(a.U.CellText,{$isTitle:!0,$size:13,$padding:"6px 8px",children:null===n||void 0===n?void 0:n.title}),(0,l.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"column",gap:8,justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:32},children:!u||["string","number"].includes(typeof u)?(0,l.jsx)(a.U.CellText,{$isTitle:!u,$weight:500,children:u||(0,o.t)("undefined")}):u})]})}},4897:function(e,n,t){t.d(n,{SQ:function(){return d},E_:function(){return c},Dr:function(){return f},Cs:function(){return v},Y5:function(){return s},$4:function(){return p.$4},qo:function(){return p.qo},ni:function(){return p.ni},KS:function(){return p.KS}});var i=t(6522),o=t(3691),r=t(5481),a=t(3306),l=t(755),u=t(3299),d=((0,r.Gg)(o.Hb),(0,a.H1)(o.Hb)),c=[{label:"Preview",value:l.Q.img_preview,required:!0},{label:"1x",value:l.Q.img_1x},{label:"2x",value:l.Q.img_2x},{label:"Webp",value:l.Q.webp}],s=[{top:{name:(0,i.t)("label"),getData:function(e){return null===e||void 0===e?void 0:e.label}},getImgPreview:function(e){var n,t;return e.images?null===(n=e.images)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.img_preview:void 0},width:"270px",action:"dataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(e){return null===e||void 0===e?void 0:e.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(e){return null===e||void 0===e?void 0:e.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},width:"100px",action:"status"},{bottom:{name:(0,i.t)("status"),getData:function(e){return e.approved}},top:{name:(0,i.t)("Visibility"),getData:function(e){return e.visible?"visible":"hidden"}},width:"120px",action:"status"},{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.out?(0,u.pU)(null===(t=e.price)||void 0===t?void 0:t.out):"--.--"}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.in?(0,u.pU)(null===(t=e.price)||void 0===t?void 0:t.in):"--.--"}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Variation label"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.label)||"---"}},bottom:{name:(0,i.t)("SKU"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.sku)||"---"}},width:"190px",action:"valueByPath"},{top:{name:(0,i.t)("Warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("Code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"150px",action:"valueByPath"},{top:{name:"\u0411\u0440\u0435\u043d\u0434",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.label}},bottom:{name:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.manufacturer}},width:"180px",action:"doubleDataWithAvatar"},{top:{name:"\u041e\u043d\u043e\u0432\u0438\u0432",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.editor)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},bottom:{name:"\u0410\u0432\u0442\u043e\u0440",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.author)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},bottom:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},width:"150px",action:"dateDbl"}];var v=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"approved",label:(0,i.t)("Status")},{dataPath:"price.out",label:(0,i.t)("Price")},{dataPath:"createdAt",label:(0,i.t)("Created at")},{dataPath:"updatedAt",label:(0,i.t)("Updated at")},{dataPath:"deletedAt",label:(0,i.t)("Deleted at")},{dataPath:"brand.label",label:(0,i.t)("Created at")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")}],f=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")},{dataPath:"brand.label",label:(0,i.t)("Brand label")}],p=(t(4683),t(2517))},2517:function(e,n,t){t.d(n,{$4:function(){return f},KS:function(){return p},ni:function(){return c},qo:function(){return s}});var i=t(3433),o=t(2973),r=t(6522),a=t(5481),l=t(6981),u=t(3299),d={top:{name:(0,r.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,r.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"},c=((0,a.Gg)(o.D),o.D.new,(0,r.t)(o.D.new),o.D.inWork,(0,r.t)(o.D.inWork),o.D.rejectedByCustomer,(0,r.t)(o.D.rejectedByCustomer),o.D.rejectedByManager,(0,r.t)(o.D.rejectedByManager),o.D.active,(0,r.t)(o.D.active),o.D.fulfilled,(0,r.t)(o.D.fulfilled),o.D.fulfilledWithRefund,(0,r.t)(o.D.fulfilledWithRefund),o.D.archived,(0,r.t)(o.D.archived),o.D.expired,(0,r.t)(o.D.expired),[{top:{name:"".concat((0,r.t)("Status")),getData:function(e){return e.status}},bottom:{name:(0,r.t)("Priority"),getData:function(e){return(0,r.t)("undefined")}},width:"150px",action:"status"},{top:{name:(0,r.t)("Total amount"),align:"end",getData:function(e){var n,t;return(0,u.pU)(null!==(n=null===(t=e.summary)||void 0===t?void 0:t.netto)&&void 0!==n?n:0)}},bottom:{name:(0,r.t)("Slots count"),align:"end",getData:function(e){var n,t;return(null===(n=e.slots)||void 0===n?void 0:n.length)||(null===(t=e.summary)||void 0===t?void 0:t.slotsCount)}},width:"120px",action:"numberWithSpaces"},{top:{name:(0,r.t)("Reference / Internal"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal}},bottom:{name:(0,r.t)("Reference / External"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.external}},width:"190px",action:"valueByPath"},{top:{name:(0,r.t)("Group"),getData:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal}},bottom:{name:(0,r.t)("Strategy"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy}},width:"180px",action:"valueByPath"},{top:{name:(0,r.t)("Customer"),getData:function(e){var n,t,i,o,r,a,l;return(null===(n=e.customer)||void 0===n?void 0:n.name)&&(null===(t=e.customer)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.customer)||void 0===o||null===(r=o.name)||void 0===r?void 0:r.second)||(null===(a=e.customer)||void 0===a?void 0:a.label)&&(null===(l=e.customer)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,r.t)("Phone"),path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,r.t)("Receiver"),getData:function(e){var n,t,i,o,r,a,l;return(null===(n=e.receiver)||void 0===n?void 0:n.name)&&(null===(t=e.receiver)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.receiver)||void 0===o||null===(r=o.name)||void 0===r?void 0:r.second)||(null===(a=e.receiver)||void 0===a?void 0:a.label)&&(null===(l=e.receiver)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,r.t)("Phone"),path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,r.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,r.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,r.t)("Deliveries")},width:"200px",action:"valueByPath"},{top:{name:(0,r.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,r.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,r.t)("Manager"),path:"manager.name"},bottom:{name:(0,r.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},d]),s=[{label:"\u0414\u0430\u0442\u0430",dataPath:"eventDate",filter:!1,search:!1,sort:!0},{label:"\u041c\u0456\u0442\u043a\u0430",dataPath:"mark.label",filter:!1,search:!0,sort:!0},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",dataPath:"status",filter:!1,search:!1,sort:!0},{label:(0,r.t)("type"),dataPath:"type",filter:!1,search:!0,sort:!0},{label:(0,r.t)("amount"),dataPath:"total",filter:!1,search:!0,sort:!0},{label:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",dataPath:"createdAt",filter:!1,search:!1,sort:!0},{label:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataPath:"updatedAt",filter:!1,search:!1,sort:!0}],v=["cashback","bonus","discount"];var f=[{top:{name:(0,r.t)("Offer label"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.label}},bottom:{name:(0,r.t)("Variation label"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},action:"valueByPath",width:"210px"},{top:{name:(0,r.t)("Total amount"),getData:function(e){return e.netto}},bottom:{name:(0,r.t)("Total q-ty"),getData:function(e){return e.quantity}},action:"valueByPath",width:"125px"}].concat((0,i.Z)((0,l.yL)()),(0,i.Z)(v.map((function(e){return{top:{name:(0,r.t)(e),align:"end",getData:function(n){var t;return(0,u.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.amount)}},bottom:{name:(0,r.t)(e),align:"end",getData:function(n){var t;return(0,u.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.percentage)}},action:"valueByPath",width:"90px"}}))),[{top:{name:(0,r.t)("Offer sku"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.sku}},bottom:{name:(0,r.t)("Variation sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},action:"valueByPath",width:"150px"},{top:{name:(0,r.t)("Offer bar-code"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.barCode}},bottom:{name:(0,r.t)("Variation bar-code"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},action:"valueByPath",width:"150px"},d]),p=f},755:function(e,n,t){t.d(n,{Q:function(){return i}});var i=function(e){return e.img_preview="img_preview",e.img_1x="img_1x",e.img_2x="img_2x",e.webp="webp",e}({})}}]);
//# sourceMappingURL=273.b996ccf8.chunk.js.map