"use strict";(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[273,495],{2483:function(e,n,t){t.d(n,{j:function(){return f}});var i,o,a=t(168),r=t(1413),l=t(4781),u=t(2791),d=t(3350),c=t(8095),s=t(3329),v=(0,u.createContext)({}),f=function(e){var n=(0,l.on)(),t=(0,u.useCallback)((function(e){return function(t){t.target===t.currentTarget&&n.remove(e)}}),[n]),i=(0,u.useMemo)((function(){return n.getStack().map((function(e,i){var o=e.RenderComponent,a=e.props,l=e.id;return(0,s.jsx)(m,{className:"overlay-".concat(l),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(l),children:(0,s.jsx)(v.Provider,{value:{onClose:function(){n.remove(l)},compId:l,index:i},children:(0,s.jsx)(o,(0,r.Z)((0,r.Z)({},a),{},{onClose:function(){n.remove(l)},compId:l,index:i}),"overlay-".concat(l))})},"overlay-".concat(l))}))}),[t,n]);return(0,s.jsx)(h,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},h=(0,d.ZP)(c.ZP)(i||(i=(0,a.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(e){return e.isActive?0:"100%"}),(function(e){return e.isActive?1:0}),(function(e){return e.isActive?"visible":"hidden"}),(function(e){return e.isActive?"all":"none"}),(function(e){return e.theme.backdropColorDark}),(function(e){return e.theme.globals.timingFunctionMain})),m=(0,d.ZP)(c.ZP)(o||(o=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  height: 100%;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(e,n,t){t.d(n,{on:function(){return c}});var i=t(1413),o=t(3433),a=t(9439),r=t(2791),l=t(6382),u=t(3329),d=(0,r.createContext)({}),c=function(){return(0,r.useContext)(d)};n.ZP=function(e){var n=e.children,t=(0,r.useState)([]),c=(0,a.Z)(t,2),s=c[0],v=c[1],f=(0,r.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]),h=(0,r.useCallback)((function(){v([])}),[]),m=(0,r.useCallback)((function(e){var n="".concat(e.RenderComponent.name,"_").concat((0,l.x0)(8));return"function"===typeof e.RenderComponent&&v((function(t){var a=t.find((function(n){return n.id.includes(e.RenderComponent.name)}));if(a){var r=t.filter((function(e){var n,t;return(null===(n=e.RenderComponent)||void 0===n?void 0:n.name)!==(null===(t=a.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(r),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])})),{onClose:function(){return f(n)},compId:n}}),[f]),p={getStack:function(){return s},remove:f,clearStack:h,open:m,create:function(e,n){return m({RenderComponent:e,props:n})}};return(0,u.jsx)(d.Provider,{value:p,children:n})}},2273:function(e,n,t){t.r(n),t.d(n,{default:function(){return we}});var i,o,a,r,l,u,d=t(168),c=t(9439),s=t(2791),v=t(3350),f=t(8495),h=t(6146),m=t(2989),p=t(4781),b=t(8095),x=t(7348),g=t(1819),P=t(2483),C=t(1251),Z=t(7689),w=t(2928),y=t(6522),j=t(7049),D=t(9953),k=t(4925),B=t(5227),S=t(6753),I=t(6493),A=t(6492),T=t(3329),R=function(e){var n=e.cell,t=e.data,i=(0,s.useMemo)((function(){var e,n,i,o,a,r=null===t||void 0===t?void 0:t.customer;return[{label:(0,y.t)("First name"),value:null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.first,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,y.t)("Second name"),value:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.second,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,y.t)("Middle name"),value:null===r||void 0===r||null===(i=r.name)||void 0===i?void 0:i.middle,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,y.t)("Base label"),value:null===r||void 0===r||null===(o=r.name)||void 0===o?void 0:o.first,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,y.t)("Print"),value:null===r||void 0===r||null===(a=r.name)||void 0===a?void 0:a.second,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,y.t)("Email"),value:null===r||void 0===r?void 0:r.email,visible:!0},{label:(0,y.t)("Phone"),value:null===r||void 0===r?void 0:r.phone,visible:!0},{label:(0,y.t)("Business type"),value:null===r||void 0===r?void 0:r.businessType,visible:!0},{label:(0,y.t)("Sex type"),value:null===r||void 0===r?void 0:r.sexType,visible:!0},{label:(0,y.t)("Engagement type"),value:null===r||void 0===r?void 0:r.engagementSource,visible:!0},{label:(0,y.t)("Age"),value:null===r||void 0===r?void 0:r.age,visible:!0},{label:(0,y.t)("Tags"),value:null,visible:!0}].map((function(e){var n;return e.visible&&(0,T.jsxs)(b.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(A.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,T.jsx)(A.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t?void 0:t.customer]);return(0,T.jsxs)(S.U.Cell,{children:[(null===n||void 0===n?void 0:n.title)&&(0,T.jsx)(I.p,{title:null===n||void 0===n?void 0:n.title}),i]})},U=["CellComponent"],_=function(e){return e.General="General",e.Customer="Customer",e.Invoicing="Invoicing",e.Delivery="Delivery",e.Additional="Additional",e}(_||{}),V=(0,j.Dl)(_),W=(0,v.ZP)(b.ZP)(i||(i=(0,d.Z)([""]))),M=function(e){var n=(0,p.on)(),t=(0,x.xA)().currentOrder,i=(0,s.useState)(_.General),o=(0,c.Z)(i,2),a=o[0],r=o[1],l=function(){var e={};return $.forEach((function(n){var t,i=n.tab;i&&(e[i]?null===(t=e[i])||void 0===t||t.push(n):e[i]=[n])})),e}(),u=(0,s.useMemo)((function(){var e;return l[a]?null===(e=l[a])||void 0===e?void 0:e.map((function(e){var i=e.CellComponent,o=(0,k.Z)(e,U);return i?(0,T.jsx)(i,{overlayHandler:n.open,cell:o,data:t},o.title):(0,T.jsx)(B.k,{overlayHandler:n.open,cell:o,data:t},o.title)})):null}),[l,a,n.open,t]);return(0,T.jsxs)(W,{fillWidth:!0,flex:1,overflow:"auto",children:[(0,T.jsx)(D.Z,{optionProps:{fitContentH:!0},options:V,onOptSelect:function(e){r(null===e||void 0===e?void 0:e.value)}}),u]})},$=[{title:(0,y.t)("Manager"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.manager)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email},tab:_.General},{title:(0,y.t)("Reference"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal},tab:_.General},{title:(0,y.t)("Group reference"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal},tab:_.General},{title:(0,y.t)("Group strategy"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy},tab:_.General},{title:(0,y.t)("Totals"),CellComponent:function(e){var n,t,i=e.data,o=e.cell,a=(0,s.useMemo)((function(){var e,n;return[{label:(0,y.t)("Amount"),value:(0,j.__)(null===i||void 0===i||null===(e=i.total)||void 0===e?void 0:e.amount)},{label:(0,y.t)("Items count"),value:null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.items}].map((function(e){return(0,T.jsxs)(b.ZP,{fxDirection:"row",padding:"6px",justifyContent:"space-between",fillWidth:!0,gap:8,children:[(0,T.jsx)(A.x,{$size:11,children:e.label}),(0,T.jsx)(S.U.CellText,{$weight:600,children:null===e||void 0===e?void 0:e.value})]})}))}),[null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.amount,null===i||void 0===i||null===(t=i.total)||void 0===t?void 0:t.items]);return(0,T.jsxs)(S.U.Cell,{children:[(0,T.jsx)(I.p,{title:o.title}),a]})},tab:_.General},{title:(0,y.t)("Status"),getValue:function(e){return null===e||void 0===e?void 0:e.status},tab:_.General},{CellComponent:R,tab:_.Customer},{title:(0,y.t)("Receiver"),CellComponent:R,tab:_.Delivery},{title:(0,y.t)("Invoicing"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,s.useMemo)((function(){var e;return[{label:(0,y.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,T.jsxs)(b.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(A.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,T.jsx)(A.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,T.jsxs)(S.U.Cell,{children:[(0,T.jsx)(I.p,{title:(0,y.t)("General info")}),i]})},tab:_.Invoicing},{title:(0,y.t)("Delivery"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,s.useMemo)((function(){var e;return[{label:(0,y.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,T.jsxs)(b.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(A.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,T.jsx)(A.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,y.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,T.jsxs)(S.U.Cell,{children:[(0,T.jsx)(I.p,{title:(0,y.t)("General info")}),i]})},tab:_.Delivery},{title:(0,y.t)("Additional"),tab:_.Additional}];var z,O,L,H=function(e){return e.info="Info",e.chat="Chat",e.statuses="Statuses",e.comments="Comments",e.tasks="tasks",e}({}),G=(0,j.H1)(H),E=(0,v.ZP)(b.ZP)(o||(o=(0,d.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),Q=(0,v.ZP)(b.ZP)(a||(a=(0,d.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),F=(0,v.ZP)(b.ZP)(r||(r=(0,d.Z)([""]))),q=(0,v.ZP)(w.ZP)(l||(l=(0,d.Z)(["\n  fill: ",";\n"])),(function(e){return e.theme.globals.colors.error})),K=(0,v.ZP)(w.ZP)(u||(u=(0,d.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),J=function(e){var n,t=(0,s.useState)(0),i=(0,c.Z)(t,2),o=i[0],a=i[1],r=null===(n=(0,m.Zx)())||void 0===n?void 0:n.orderId,l=(0,x.xA)().currentOrder,u=(0,Z.s0)(),d=(0,Z.TH)(),v=(0,s.useMemo)((function(){return G[o].value===H.info?(0,T.jsx)(M,{}):null}),[o]);return(0,T.jsxs)(E,{flex:1,fillWidth:!0,padding:"0 8px",children:[(0,T.jsx)(C.xB,{title:(0,y.t)("Order overview"),onBackPress:function(){if(null!==d&&void 0!==d&&d.pathname){var e,n=null===d||void 0===d||null===(e=d.pathname)||void 0===e?void 0:e.replace("/".concat((null===l||void 0===l?void 0:l._id)||r),"");n&&u(n)}}}),(0,T.jsxs)(Q,{flex:1,fillWidth:!0,overflow:"auto",children:[(0,T.jsx)(D.Z,{options:G,optionProps:{fitContentH:!0},onOptSelect:function(e,n,t){return a(t)}}),v]}),(0,T.jsxs)(F,{fxDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"8px 0",children:[(0,T.jsx)(w.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==e&&void 0!==e&&e.onEdit),onClick:null===e||void 0===e?void 0:e.onEdit}),(0,T.jsx)(q,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==e&&void 0!==e&&e.onDelete),onClick:null===e||void 0===e?void 0:e.onDelete}),(0,T.jsxs)(b.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,T.jsx)(w.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",isLoading:null===e||void 0===e?void 0:e.isRefresh,disabled:!(null!==e&&void 0!==e&&e.onRefresh),onClick:null===e||void 0===e?void 0:e.onRefresh}),(0,T.jsx)(K,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==e&&void 0!==e&&e.onOpenRightSide),onClick:null===e||void 0===e?void 0:e.onOpenRightSide})]})]})]})},N=(0,v.ZP)(b.ZP)(z||(z=(0,d.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),X=function(e){var n=e.toggleRightSideVisibility,t=(0,x.xA)().currentOrder,i=(0,s.useState)(!1)[1],o=(0,g.xc)().orders;return(0,T.jsxs)(N,{children:[(0,T.jsx)(J,{order:t,onRefresh:function(){(null===t||void 0===t?void 0:t._id)&&o.getById({data:{_id:null===t||void 0===t?void 0:t._id,options:{refreshCurrent:!0}},onLoading:i})},onOpenRightSide:n}),(0,T.jsx)(P.j,{})]})},Y=t(1413),ee=t(8589),ne=t(4897),te=t(3383),ie=t(9541),oe=t(4165),ae=t(5861),re=t(8395),le=t(1484),ue=(0,s.createContext)({}),de=function(){return(0,s.useContext)(ue)},ce=function(e){var n=e.children,t=(0,x.xA)().currentOrder,i=(0,m.Zx)(),o=(0,re.TL)(),a=(0,g.xc)()[g.EJ.orders],r=(0,s.useMemo)((function(){var e=null===t||void 0===t?void 0:t._id;return(0,Y.Z)((0,Y.Z)({},t),{},{_origin:t,getSlots:function(){var n=(0,ae.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.wV)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getPayments:function(){var n=(0,ae.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.JA)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getInvoices:function(){var n=(0,ae.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.qQ)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getDeliveries:function(){var n=(0,ae.Z)((0,oe.Z)().mark((function n(t){return(0,oe.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?o((0,le.vc)((0,Y.Z)((0,Y.Z)({},t),{},{data:{params:{orderId:e}}}))):void 0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}),[t,o]);return(0,s.useEffect)((function(){t||i.orderId&&a.getById({data:{_id:i.orderId}})}),[t,i.orderId,a]),(0,T.jsx)(ue.Provider,{value:null!==r&&void 0!==r?r:{},children:n})},se=function(e){var n=(0,s.useState)(),t=(0,c.Z)(n,2),i=t[0],o=t[1],a=(0,ie.J)(),r=de(),l=(0,s.useMemo)((function(){var e;return i?null===r||void 0===r||null===(e=r.slots)||void 0===e?void 0:e.filter((function(e){var n;return(null===(n=e.offer)||void 0===n?void 0:n.type)===i})):null===r||void 0===r?void 0:r.slots}),[null===r||void 0===r?void 0:r.slots,i]),u=(0,s.useMemo)((function(){return{actionsCreator:function(e){return[{icon:"refresh",name:"refresh",disabled:!r._id,onClick:function(){r.getSlots({onLoading:a.onLoading("refresh")})}}]}}}),[r,a]);return(0,s.useEffect)((function(){var e;null!==r&&void 0!==r&&null!==(e=r.slots)&&void 0!==e&&e.length||r.getSlots({onLoading:a.onLoading("refresh")})}),[]),(0,T.jsxs)(b.ZP,{fillWidth:!0,overflow:"hidden",flex:1,children:[(0,T.jsx)(b.ZP,{fillWidth:!0,children:(0,T.jsx)(D.Z,{options:te.LC,defaultValue:i,preventDefault:!0,onResetPress:function(){o(void 0)},onOptSelect:function(e,n){o(n)}})}),(0,T.jsx)(ee.ZP,(0,Y.Z)((0,Y.Z)({hasSearch:!1,hasFilter:!1},u),{},{tableData:l,isLoading:a.isLoading.refresh,tableTitles:ne.$4}))]})},ve=t(7946),fe=function(e){var n=de(),t=(0,ie.J)(),i=(0,s.useMemo)((function(){return{actionsCreator:function(e){return[{name:"refresh",icon:"refresh",disabled:!n._id,onClick:function(){n.getInvoices({})}}]}}}),[n]);return(0,s.useEffect)((function(){null!==n&&void 0!==n&&n._id&&n.getInvoices({onLoading:t.onLoading("refresh")})}),[]),(0,T.jsx)(ee.ZP,(0,Y.Z)((0,Y.Z)({},i),{},{hasSearch:!1,hasFilter:!1,isLoading:t.isLoading.refresh,tableData:null===n||void 0===n?void 0:n.invoices,tableTitles:ve.x}))},he=function(){return(0,T.jsx)(ee.ZP,{hasSearch:!1,hasFilter:!1})},me=function(e){e.order;var n=de();return(0,s.useEffect)((function(){var e;null!==n&&void 0!==n&&null!==(e=n.deliveries)&&void 0!==e&&e.length||null===n||void 0===n||n.getDeliveries({})}),[n]),(0,T.jsx)(ee.ZP,{hasSearch:!1,hasFilter:!1,actionsCreator:function(){return[{title:"Refresh",icon:"refresh",onClick:function(){return n.getDeliveries({})}}]}})},pe=t(7121),be=function(e){return e.Content="Content",e.Invoices="Invoices",e.Payments="Payments",e.Deliveries="Deliveries",e}(be||{}),xe=(0,j.H1)(be),ge=(0,v.ZP)(b.ZP)(O||(O=(0,d.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.globals.timingFunctionMain}),(function(e){return e.theme.backgroundColorLight}),(function(e){return e.isVisible?0:100}),(function(e){return e.isVisible?"0 12px 26px rgba(0, 0, 0, 0.25)":""})),Pe=function(e){var n,t,i=e.toggleVisibility,o=e.isVisible,a=(0,x.xA)().currentOrder,r=(0,s.useState)(be.Content),l=(0,c.Z)(r,2),u=l[0],d=l[1],v=(0,s.useMemo)((function(){return u===be.Content?(0,T.jsx)(se,{}):u===be.Invoices?(0,T.jsx)(fe,{}):u===be.Payments?(0,T.jsx)(he,{}):u===be.Deliveries?(0,T.jsx)(me,{}):void 0}),[u]);return(0,T.jsxs)(ge,{overflow:"hidden",fillHeight:!0,isVisible:o,children:[o&&(0,T.jsx)(pe.OX,{title:null!==(n=null===a||void 0===a||null===(t=a.reference)||void 0===t?void 0:t.internal)&&void 0!==n?n:(0,y.t)("undefined"),onBackPress:i}),(0,T.jsx)(b.ZP,{children:(0,T.jsx)(D.Z,{options:xe,defaultValue:u,onOptSelect:function(e,n,t){n&&d(n)},preventDefault:!0})}),(0,T.jsx)(b.ZP,{overflow:"hidden",flex:1,children:v})]})},Ce=t(7824),Ze=v.ZP.div(L||(L=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),f.VU),we=function(e){var n=e.path,t=(0,g.xc)()[Ce.d.orders],i=(0,s.useState)(!1),o=(0,c.Z)(i,2),a=o[0],r=o[1],l=(0,m.Zx)().orderId,u=function(){r((function(e){return!e}))};return(0,s.useEffect)((function(){l&&t.getById({data:{_id:l,options:{refreshCurrent:!0}}})}),[l,t]),(0,T.jsx)(h.vI,{path:n,children:(0,T.jsx)(ce,{children:(0,T.jsx)(p.ZP,{children:(0,T.jsxs)(Ze,{children:[(0,T.jsx)(X,{toggleRightSideVisibility:u}),(0,T.jsx)(Pe,{toggleVisibility:u,isVisible:a})]})})})})}},8495:function(e,n,t){t.d(n,{SI:function(){return d},VU:function(){return u}});var i,o,a,r=t(168),l=t(3350),u=(0,l.iv)(i||(i=(0,r.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),d=(0,l.iv)(o||(o=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,l.iv)(a||(a=(0,r.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(e,n,t){t.d(n,{U:function(){return P}});var i,o,a,r,l,u,d,c=t(168),s=t(3350),v=t(8095),f=t(6492),h=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.modalBorderColor})),m=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor})),p=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fieldBackgroundColor}),(function(e){return e.theme.modalBorderColor})),b=(0,s.ZP)(f.x)(r||(r=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(e){return e.$isTitle||e.$disabled?e.theme.globals.inputPlaceholderColor:void 0})),x=(0,s.ZP)(v.ZP)(l||(l=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),g=(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.fieldBackgroundColor})),P={CategoryItem:(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.field.backgroundColor}),(function(e){return e.theme.accentColor.base})),ImagesSetBox:x,CellText:b,Tag:p,HeaderButton:h,Cell:m,DefaultTag:g}},6493:function(e,n,t){t.d(n,{p:function(){return l}});var i=t(6522),o=t(8095),a=(t(2791),t(6753)),r=t(3329),l=function(e){var n=e.title,t=void 0===n?"Title":n,l=e.openOverlayButtonTitle,u=void 0===l?(0,i.t)("Change"):l,d=e.onOpenOverlayPress,c=e.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=e.onEditPress,f=e.acceptButtonText,h=void 0===f?(0,i.t)("Ok"):f,m=e.onAcceptPress,p=e.editMode,b=void 0!==p&&p,x=e.canAccept,g=void 0!==x&&x,P=e.cancelButtonText,C=void 0===P?(0,i.t)("Cancel"):P,Z=e.onCancelPress;return(0,r.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,r.jsx)(a.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),d&&(0,r.jsx)(a.U.HeaderButton,{type:"button",onClick:d,children:u}),!b&&v&&(0,r.jsx)(a.U.HeaderButton,{type:"button",onClick:v,children:s}),b&&Z&&(0,r.jsx)(a.U.HeaderButton,{type:"button",onClick:Z,children:C}),b&&m&&(0,r.jsx)(a.U.HeaderButton,{type:"button",disabled:!g,onClick:m,children:h})]})}},5227:function(e,n,t){t.d(n,{k:function(){return u}});var i=t(8095),o=t(6522),a=t(2791),r=t(6753),l=t(3329),u=function(e){var n=e.cell,t=e.data,u=(0,a.useMemo)((function(){return n.getValue?n.getValue(t):null}),[n,t]);return(0,l.jsxs)(r.U.Cell,{children:[(0,l.jsx)(r.U.CellText,{$isTitle:!0,$size:13,$padding:"6px 8px",children:null===n||void 0===n?void 0:n.title}),(0,l.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"column",gap:8,justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:32},children:!u||["string","number"].includes(typeof u)?(0,l.jsx)(r.U.CellText,{$isTitle:!u,$weight:500,children:u||(0,o.t)("undefined")}):u})]})}},4897:function(e,n,t){t.d(n,{SQ:function(){return d},E_:function(){return c},Dr:function(){return f},Cs:function(){return v},Y5:function(){return s},$4:function(){return h.$4},qo:function(){return h.qo},Qc:function(){return h.Qc},ni:function(){return h.ni},KS:function(){return h.KS}});var i=t(6522),o=t(3691),a=t(5481),r=t(7049),l=t(755),u=t(3299),d=((0,a.Gg)(o.Hb),(0,r.H1)(o.Hb)),c=[{label:"Preview",value:l.Q.img_preview,required:!0},{label:"1x",value:l.Q.img_1x},{label:"2x",value:l.Q.img_2x},{label:"Webp",value:l.Q.webp}],s=[{top:{name:(0,i.t)("label"),getData:function(e){return null===e||void 0===e?void 0:e.label}},getImgPreview:function(e){var n,t;return e.images?null===(n=e.images)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.img_preview:void 0},width:"270px",action:"dataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(e){return null===e||void 0===e?void 0:e.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(e){return null===e||void 0===e?void 0:e.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},width:"100px",action:"status"},{bottom:{name:(0,i.t)("status"),getData:function(e){return e.approved}},top:{name:(0,i.t)("Visibility"),getData:function(e){return e.visible?"visible":"hidden"}},width:"120px",action:"status"},{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.out?(0,u.pU)(null===(t=e.price)||void 0===t?void 0:t.out):"--.--"}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.in?(0,u.pU)(null===(t=e.price)||void 0===t?void 0:t.in):"--.--"}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Variation label"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.label)||"---"}},bottom:{name:(0,i.t)("SKU"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.sku)||"---"}},width:"190px",action:"valueByPath"},{top:{name:(0,i.t)("Warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("Code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"150px",action:"valueByPath"},{top:{name:"\u0411\u0440\u0435\u043d\u0434",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.label}},bottom:{name:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.manufacturer}},width:"180px",action:"doubleDataWithAvatar"},{top:{name:"\u041e\u043d\u043e\u0432\u0438\u0432",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.editor)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},bottom:{name:"\u0410\u0432\u0442\u043e\u0440",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.author)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},bottom:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},width:"150px",action:"dateDbl"}];var v=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"approved",label:(0,i.t)("Status")},{dataPath:"price.out",label:(0,i.t)("Price")},{dataPath:"createdAt",label:(0,i.t)("Created at")},{dataPath:"updatedAt",label:(0,i.t)("Updated at")},{dataPath:"deletedAt",label:(0,i.t)("Deleted at")},{dataPath:"brand.label",label:(0,i.t)("Brand label")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")}],f=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")},{dataPath:"brand.label",label:(0,i.t)("Brand label")}],h=(t(4683),t(2517))},2517:function(e,n,t){t.d(n,{$4:function(){return v},KS:function(){return f},Qc:function(){return h},ni:function(){return c},qo:function(){return m}});var i=t(3433),o=t(2973),a=t(6522),r=t(5481),l=t(6981),u=t(3299),d={top:{name:(0,a.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,a.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"},c=((0,r.Gg)(o.D),o.D.new,(0,a.t)(o.D.new),o.D.inWork,(0,a.t)(o.D.inWork),o.D.rejectedByCustomer,(0,a.t)(o.D.rejectedByCustomer),o.D.rejectedByManager,(0,a.t)(o.D.rejectedByManager),o.D.active,(0,a.t)(o.D.active),o.D.fulfilled,(0,a.t)(o.D.fulfilled),o.D.fulfilledWithRefund,(0,a.t)(o.D.fulfilledWithRefund),o.D.archived,(0,a.t)(o.D.archived),o.D.expired,(0,a.t)(o.D.expired),[{top:{name:"".concat((0,a.t)("Status")),getData:function(e){return e.status}},bottom:{name:(0,a.t)("Priority"),getData:function(e){return(0,a.t)("undefined")}},width:"150px",action:"status"},{top:{name:(0,a.t)("Total amount"),align:"end",getData:function(e){var n,t;return(0,u.pU)(null!==(n=null===(t=e.summary)||void 0===t?void 0:t.netto)&&void 0!==n?n:0)}},bottom:{name:(0,a.t)("Slots count"),align:"end",getData:function(e){var n,t;return(null===(n=e.slots)||void 0===n?void 0:n.length)||(null===(t=e.summary)||void 0===t?void 0:t.slotsCount)}},width:"120px",action:"numberWithSpaces"},{top:{name:(0,a.t)("Reference / Internal"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal}},bottom:{name:(0,a.t)("Reference / External"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.external}},width:"190px",action:"valueByPath"},{top:{name:(0,a.t)("Group"),getData:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal}},bottom:{name:(0,a.t)("Strategy"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy}},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Customer"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.customer)||void 0===n?void 0:n.name)&&(null===(t=e.customer)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.customer)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.customer)||void 0===r?void 0:r.label)&&(null===(l=e.customer)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Receiver"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.receiver)||void 0===n?void 0:n.name)&&(null===(t=e.receiver)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.receiver)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.receiver)||void 0===r?void 0:r.label)&&(null===(l=e.receiver)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,a.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Deliveries")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,a.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Manager"),path:"manager.name"},bottom:{name:(0,a.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},d]),s=["cashback","bonus","discount"];var v=[{top:{name:(0,a.t)("Offer label"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.label}},bottom:{name:(0,a.t)("Variation label"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},action:"valueByPath",width:"210px"},{top:{name:(0,a.t)("Total amount"),getData:function(e){return e.netto}},bottom:{name:(0,a.t)("Total q-ty"),getData:function(e){return e.quantity}},action:"valueByPath",width:"125px"}].concat((0,i.Z)((0,l.yL)()),(0,i.Z)(s.map((function(e){return{top:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,u.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.amount)}},bottom:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,u.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.percentage)}},action:"valueByPath",width:"90px"}}))),[{top:{name:(0,a.t)("Offer sku"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.sku}},bottom:{name:(0,a.t)("Variation sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},action:"valueByPath",width:"150px"},{top:{name:(0,a.t)("Offer bar-code"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.barCode}},bottom:{name:(0,a.t)("Variation bar-code"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},action:"valueByPath",width:"150px"},d]),f=v,h=[{dataPath:"reference.internal",label:(0,a.t)("Reference / Internal")},{dataPath:"reference.external",label:(0,a.t)("Reference / External")},{dataPath:"group.reference.internal",label:(0,a.t)("Reference / Internal")+" / ".concat((0,a.t)("Group").toLowerCase())},{dataPath:"group.reference.external",label:(0,a.t)("Reference / External")+" / ".concat((0,a.t)("Group").toLowerCase())},{dataPath:"barCode",label:(0,a.t)("Bar-code")},{dataPath:"status",label:(0,a.t)("Status")},{dataPath:"manager.email",label:(0,a.t)("Manager email")},{dataPath:"manager.code",label:(0,a.t)("Manager code")},{dataPath:"managers.email",label:(0,a.t)("Any managers email")},{dataPath:"managers.code",label:(0,a.t)("Any managers code")},{dataPath:"customer.email",label:(0,a.t)("Customer email")},{dataPath:"customer.phone",label:(0,a.t)("Customer phone")},{dataPath:"customer.name.first",label:(0,a.t)("Customer first name")},{dataPath:"customer.name.second",label:(0,a.t)("Customer second name")},{dataPath:"customer.reference",label:(0,a.t)("Customer reference")},{dataPath:"receiver.email",label:(0,a.t)("Customer email")},{dataPath:"receiver.phone",label:(0,a.t)("Customer phone")},{dataPath:"receiver.name.first",label:(0,a.t)("Customer first name")},{dataPath:"receiver.name.second",label:(0,a.t)("Customer second name")},{dataPath:"receiver.reference",label:(0,a.t)("Customer reference")},{dataPath:"warehouse.code",label:(0,a.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,a.t)("Warehouse label")},{dataPath:"createdAt",label:(0,a.t)("Created at")},{dataPath:"updatedAt",label:(0,a.t)("Updated at")},{dataPath:"deletedAt",label:(0,a.t)("Deleted at")}],m=[{dataPath:"reference.internal",label:(0,a.t)("Reference / Internal")},{dataPath:"reference.external",label:(0,a.t)("Reference / External")},{dataPath:"barCode",label:(0,a.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,a.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,a.t)("Warehouse label")},{dataPath:"manager.email",label:(0,a.t)("Manager email")},{dataPath:"manager.code",label:(0,a.t)("Manager code")},{dataPath:"managers.email",label:(0,a.t)("Any managers email")},{dataPath:"managers.code",label:(0,a.t)("Any managers code")}]},755:function(e,n,t){t.d(n,{Q:function(){return i}});var i=function(e){return e.img_preview="img_preview",e.img_1x="img_1x",e.img_2x="img_2x",e.webp="webp",e}({})}}]);
//# sourceMappingURL=273.10811c1b.chunk.js.map