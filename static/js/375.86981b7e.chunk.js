"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[375],{5375:function(t,e,a){a.r(e),a.d(e,{default:function(){return S},useOrderTableConfigs:function(){return L}});var n,o=a(168),r=a(1413),i=a(9439),l=a(7585),d=a(8495),c=a(2360),s=a(2791),u=a(9322),p=a(7348),h=a(2517),m=a(6469),f=a(5188),v=a(825),b=a(7689),x=a(6981),P=a(6522),y=a(2437),g=a(7824),w=function(){var t=(0,f.f9)(),e=(0,b.s0)(),a=(0,y.xc)()[g.d.orders].getAll;return(0,s.useCallback)((function(n){var o=null===n||void 0===n?void 0:n.selectedRow,r=o?(0,x.Gg)(o):"";return[{icon:"refresh",onClick:function(){a({data:{refresh:!0},onLoading:n.onRefresh})}},{separator:!0},{name:"openOrderOverview",icon:"openInNew",disabled:!r,onClick:function(){r&&e(r)}},{name:"archiveOrder",icon:"archive",disabled:!r,onClick:function(){r&&window.confirm("\u0410\u0440\u0445\u0456\u0432\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u0435\u043d\u043d\u044f: ".concat(r))}},{name:"editOrder",icon:"edit",disabled:!r,onClick:function(){t.open({Modal:v.n.FormCreateOrder,props:{title:"Edit order"}})}},{name:"copyOrder",icon:"copy",disabled:!r,onClick:function(){t.open({Modal:v.n.FormCreateOrder,props:{title:"Copy order: ".concat(r)}})}},{separator:!0},{name:"createOrder",icon:"AddToList",type:"onlyIconFilled",onClick:function(){t.open({Modal:v.n.FormCreateOrdersGroup,props:{title:(0,P.t)("Create orders group")}})}},{name:"createOrder",icon:"plus",type:"onlyIconFilled",onClick:function(){t.open({Modal:v.n.FormCreateOrder,props:{title:(0,P.t)("Create order")}})}}]}),[a,t,e])},C=a(8553),D=a(7506),B=a(8095),k=a(6492),Z=a(3329),O=(0,C.H1)(m.D),j=(0,c.ZP)(B.ZP)(n||(n=(0,o.Z)(["\n  ","\n"])),d.VU),S=function(t){var e=L(),a=e.tableConfig,n=e.isLoading,o=(0,s.useState)({}),d=(0,i.Z)(o,1)[0],c=(0,s.useCallback)((function(t){var e,a,n,o;return(0,Z.jsxs)(B.ZP,{justifyContent:"space-between",fillHeight:!0,fillWidth:!0,overflow:"hidden",padding:"2px 4px",gap:6,style:{cursor:"inherit"},children:[(0,Z.jsx)(k.x,{$size:11,$weight:500,$textTransform:"none",children:null!==(e=null===t||void 0===t||null===(a=t.option)||void 0===a?void 0:a.label)&&void 0!==e?e:null}),(0,Z.jsx)(k.x,{$size:10,$ellipsisMode:!0,children:null!==t&&void 0!==t&&null!==(n=t.option)&&void 0!==n&&n.value?d[null===t||void 0===t||null===(o=t.option)||void 0===o?void 0:o.value]:0})]})}),[d]);return(0,Z.jsx)(u.default,{path:t.path,children:(0,Z.jsxs)(j,{children:[(0,Z.jsx)(D.Z,{style:{height:44},filterOptions:O,renderLabel:c}),(0,Z.jsx)(B.ZP,{fillWidth:!0,flex:1,children:(0,Z.jsx)(l.ZP,(0,r.Z)((0,r.Z)({},a),{},{isLoading:n}))})]})})},L=function(){var t=(0,y.xc)()[g.d.orders].getAll,e=(0,p.xA)(),a=w(),n=(0,s.useState)(!1),o=(0,i.Z)(n,2),r=o[0],l=o[1],d=(0,s.useState)(),c=(0,i.Z)(d,2),u=c[0],m=c[1],f=(0,s.useState)(),v=(0,i.Z)(f,2),b=v[0],x=v[1],P=(0,s.useMemo)((function(){return{tableData:e.orders,tableTitles:h.ni,tableSortParams:h.qo.filter((function(t){return t.sort})),isFilter:!0,isSearch:!0,footer:!0,checkBoxes:!0,actionsCreator:a,onFilterSubmit:function(e){x(e),t({data:{refresh:!0,query:{filterParams:e,sortParams:u}},onLoading:l}).then()},handleTableSort:function(e,a){m({dataPath:e.dataPath,sortOrder:a}),t({data:{refresh:!0,query:{sortParams:{dataPath:e.dataPath,sortOrder:a},filterParams:b}},onLoading:l}).then()}}}),[a,b,t,u,e.orders]);return(0,s.useEffect)((function(){u||b||t({data:{refresh:!0},onLoading:l})}),[]),{tableConfig:P,isLoading:r,sortParams:u,filterParams:b}}},8495:function(t,e,a){a.d(e,{SI:function(){return c},VU:function(){return d}});var n,o,r,i=a(168),l=a(2360),d=(0,l.iv)(n||(n=(0,i.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),c=(0,l.iv)(o||(o=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,l.iv)(r||(r=(0,i.Z)(["\n  outline: 1px solid tomato;\n"])))},2517:function(t,e,a){a.d(e,{Qt:function(){return l},ni:function(){return r},qo:function(){return i}});var n=a(6469),o=a(6522),r=((0,a(5481).Gg)(n.D),n.D.new,(0,o.t)(n.D.new),n.D.inWork,(0,o.t)(n.D.inWork),n.D.rejectedByCustomer,(0,o.t)(n.D.rejectedByCustomer),n.D.rejectedByManager,(0,o.t)(n.D.rejectedByManager),n.D.active,(0,o.t)(n.D.active),n.D.fulfilled,(0,o.t)(n.D.fulfilled),n.D.fulfilledWithRefund,(0,o.t)(n.D.fulfilledWithRefund),n.D.archived,(0,o.t)(n.D.archived),n.D.expired,(0,o.t)(n.D.expired),[{top:{name:(0,o.t)("date"),align:"center",path:"eventDate"},bottom:{name:(0,o.t)("time"),align:"center"},width:"90px",action:"dateSimple"},{top:{name:(0,o.t)("status"),path:"status"},bottom:{name:(0,o.t)("type"),path:"type"},width:"100px",action:"status"},{top:{name:(0,o.t)("Priority")},width:"100px",action:"status"},{top:{name:(0,o.t)("Total amount"),align:"end",path:"total"},bottom:{name:(0,o.t)("Total q-ty"),align:"end"},width:"120px",action:"numberWithSpaces"},{top:{name:(0,o.t)("Group")},bottom:{name:(0,o.t)("Number"),path:"manager.email"},width:"180px",action:"valueByPath"},{top:{name:"\u0417\u0430\u043c\u043e\u0432\u043d\u0438\u043a",path:"customer.name"},bottom:{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:"\u041e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0447",path:"receiver.name"},bottom:{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,o.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,o.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,o.t)("Shipments")},width:"200px",action:"valueByPath"},{top:{name:(0,o.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,o.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,o.t)("manager"),path:"manager.name"},bottom:{name:(0,o.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},{top:{name:(0,o.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,o.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"}]),i=[{label:"\u0414\u0430\u0442\u0430",dataPath:"eventDate",filter:!1,search:!1,sort:!0},{label:"\u041c\u0456\u0442\u043a\u0430",dataPath:"mark.label",filter:!1,search:!0,sort:!0},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",dataPath:"status",filter:!1,search:!1,sort:!0},{label:(0,o.t)("type"),dataPath:"type",filter:!1,search:!0,sort:!0},{label:(0,o.t)("amount"),dataPath:"total",filter:!1,search:!0,sort:!0},{label:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",dataPath:"createdAt",filter:!1,search:!1,sort:!0},{label:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataPath:"updatedAt",filter:!1,search:!1,sort:!0}],l=[{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"},{top:{name:""},bottom:{name:""},action:"valueByPath",width:"125px"}]}}]);
//# sourceMappingURL=375.86981b7e.chunk.js.map