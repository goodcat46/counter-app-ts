"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[237],{2237:function(e,r,n){n.r(r);var l,a,o=n(168),s=n(1413),d=n(4925),t=n(2791),u=n(2360),i=n(6727),c=n(4695),p=n(9085),Z=n(7038),m=n(2242),x=n(4990),h=n(6681),b=n(6551),j=n(5442),f=n(6559),C=n(6522),S=n(7805),y=n(6785),T=n(457),N=n(8095),q=n(5476),P=n(3329),_=["defaultState"],v=i.Ry().shape({name:i.Z_().required(),fullName:i.Z_().required(),label:i.Z_(),fullLabel:i.Z_(),email:i.Z_().required(),phone:i.Z_(),taxCode:i.Z_(),ownershipType:i.Z_(),businessSubjectType:i.Z_().oneOf(Object.values(Z.G),"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430 \u0440\u043e\u043b\u044c").required()}),G=(0,u.ZP)(m.Z)(l||(l=(0,o.Z)([""]))),g=(0,u.ZP)(N.ZP)(a||(a=(0,o.Z)(["\n  width: 100%;\n\n  padding: 8px 16px 16px;\n\n  fill: ",";\n"])),(function(e){return e.theme.accentColor.base}));r.default=function(e){var r=e.defaultState,n=(0,d.Z)(e,_),l=(0,b.xc)().permissions,a=(0,S.hN)({defaultValues:(0,s.Z)({businessSubjectType:Z.G.company},r),reValidateMode:"onSubmit",resolver:(0,c.X)(v)}),o=a.register,u=a.formState,i=u.errors,m=u.isValid,N=a.handleSubmit,w=a.formValues,I=w.businessSubjectType,L=w.type,V=a.registerSelect,k=a.setValue,O=(0,t.useMemo)((function(){return{renderOwnershipTypeSelect:I===Z.G.company,renderLabelInput:I&&[Z.G.company,Z.G.entrepreneur].includes(I),renderNamesInputs:I&&[Z.G.person,Z.G.entrepreneur].includes(I),renderPersonalTaxCode:I&&[Z.G.person,Z.G.entrepreneur].includes(I),renderTaxCode:I&&[Z.G.company,Z.G.entrepreneur].includes(I),renderAttractionSourceSelect:L===q.I.CUSTOMER}}),[L,I]);return(0,P.jsx)(G,(0,s.Z)((0,s.Z)({fillHeight:!0,width:"480px"},n),{},{onSubmit:N((function(e){e&&console.log(e),l.createCompany({data:e,onSuccess:function(e){console.log("Company created",e),p.Am.success("Company created: ".concat((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.label)))},onError:function(){p.Am.error("Error")},onLoading:function(){}}).then()})),isValid:m,children:(0,P.jsxs)(g,{flex:1,overflow:"auto",children:[(0,P.jsx)(x.Z,{label:(0,C.Z)("businessSubjectType"),error:i.name,required:!0,children:(0,P.jsx)(j.Z,{options:f.Wk,onSelect:function(e){var r=e.value;k("businessSubjectType",r)}})}),O.renderOwnershipTypeSelect&&(0,P.jsx)(y.Z,(0,s.Z)({},V("ownershipType",{options:T.YJ,label:"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456",placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"}))),O.renderNamesInputs&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(x.Z,{label:(0,C.Z)("name"),error:i.name,required:!0,children:(0,P.jsx)(h.ZP,(0,s.Z)((0,s.Z)({placeholder:(0,C.Z)("insertLabel")},o("name")),{},{required:!0,autoFocus:O.renderNamesInputs}))}),(0,P.jsx)(x.Z,{label:(0,C.Z)("secondName"),error:i.secondName,required:!0,children:(0,P.jsx)(h.ZP,(0,s.Z)((0,s.Z)({placeholder:(0,C.Z)("insertSecondName")},o("secondName")),{},{required:!0}))})]}),O.renderLabelInput&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(x.Z,{label:(0,C.Z)("label"),error:i.label,required:!O.renderNamesInputs,children:(0,P.jsx)(h.ZP,(0,s.Z)((0,s.Z)({placeholder:(0,C.Z)("insertLabel")},o("label")),{},{required:!O.renderNamesInputs,autoFocus:!O.renderNamesInputs}))}),(0,P.jsx)(x.Z,{label:"\u041f\u043e\u0432\u043d\u0430 \u043d\u0430\u0437\u0432\u0430",error:i.fullName,children:(0,P.jsx)(h.ZP,(0,s.Z)({placeholder:"\u0412\u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0432\u043d\u0443 \u043d\u0430\u0437\u0432\u0443"},o("fullName")))})]}),(0,P.jsx)(x.Z,{label:"\u0415\u043c\u0435\u0439\u043b (\u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439)",error:i.email,required:!0,children:(0,P.jsx)(h.ZP,(0,s.Z)((0,s.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439 \u0435\u043c\u0435\u0439\u043b"},o("email")),{},{type:"email",required:!0}))}),(0,P.jsx)(x.Z,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d (\u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439)",error:i.phone,children:(0,P.jsx)(h.ZP,(0,s.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0441\u043d\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"},o("phone")))}),O.renderTaxCode&&(0,P.jsx)(x.Z,{label:(0,C.Z)("taxCode"),error:i.taxCode,children:(0,P.jsx)(h.ZP,(0,s.Z)({placeholder:(0,C.Z)("taxCode")},o("taxCode")))}),O.renderPersonalTaxCode&&(0,P.jsx)(x.Z,{label:(0,C.Z)("personalTaxCode"),error:i.taxCode,children:(0,P.jsx)(h.ZP,(0,s.Z)({placeholder:(0,C.Z)("personalTaxCode")},o("personalTaxCode")))})]})}))}}}]);
//# sourceMappingURL=237.7c9a3979.chunk.js.map