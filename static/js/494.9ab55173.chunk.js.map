{"version":3,"file":"static/js/494.9ab55173.chunk.js","mappings":"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","sources":["components/Forms/offers/components/OfferBaseInfoFormArea.tsx","components/Forms/offers/components/DimensionsInputs.tsx","components/Forms/offers/components/OfferDimensionsFormArea.tsx","components/Forms/offers/components/OfferFormCategoriesArea.tsx","components/Forms/offers/components/OfferFormImagesArea.tsx","components/Forms/offers/components/OfferFormPropertiesArea.tsx","components/Forms/offers/components/MeasuremenInputs.tsx","components/Forms/offers/components/OfferMeasurementFormArea.tsx","components/Modals/CreateOfferModal.tsx"],"sourcesContent":["import { AccordionForm } from '../../FormArea/AccordionForm';\nimport { OfferFormAreaProps } from '../types';\nimport {\n  IProductFormData,\n  IProductFullFormData,\n  OfferEntity,\n  OfferTypeEnum,\n} from '../../../../types/offers/offers.types';\nimport { useAppForm } from '../../../../hooks';\nimport InputLabel from '../../../atoms/Inputs/InputLabel';\nimport { t } from '../../../../lang';\nimport InputText from '../../../atoms/Inputs/InputText';\nimport FlexBox from '../../../atoms/FlexBox';\nimport * as React from 'react';\nimport CustomSelect from '../../../atoms/Inputs/CustomSelect/CustomSelect';\nimport { ApiDirType } from '../../../../redux/APP_CONFIGS';\nimport TextareaPrimary from '../../../atoms/Inputs/TextareaPrimary';\nimport { toReqData } from '../../../../utils';\nimport useOffersService from '../../../../hooks/useProductsService.hook';\nimport { MaybeNull } from '../../../../types/utils.types';\nimport { useOfferLoadersProvider } from '../../../Modals/CreateOfferModal';\nimport { OfferStatusFilterOptions } from '../../../../data';\nimport { useDirectorySelector } from '../../../../redux/selectors.store';\n\nexport interface OfferBaseInfoFormAreaProps extends OfferFormAreaProps<IProductFullFormData> {\n  type?: MaybeNull<OfferTypeEnum>;\n  onSuccess?: (data: OfferEntity) => void;\n  edit?: boolean;\n}\n\nexport const OfferBaseInfoFormArea = ({ defaultValues, edit, type, onSuccess, _id }: OfferBaseInfoFormAreaProps) => {\n  const { isLoading, onLoading } = useOfferLoadersProvider();\n\n  const service = useOffersService();\n\n  const brandsList = useDirectorySelector(ApiDirType.BRANDS).directory;\n\n  const {\n    formState: { errors },\n    register,\n    registerSelect,\n    formValues,\n    ...appForm\n  } = useAppForm<IProductFullFormData>({\n    defaultValues: { ...defaultValues, type },\n  });\n\n  function onValid(sData: IProductFormData) {\n    const productForSubmit = toReqData(sData, { ignorePaths: ['measurement'] });\n\n    !edit\n      ? service.create({\n          data: { data: productForSubmit },\n          onSuccess: onSuccess,\n          onLoading: onLoading('offer_create'),\n        })\n      : service.updateById({\n          data: { data: productForSubmit, _id },\n          onSuccess: onSuccess,\n          onLoading: onLoading('offer_update'),\n        });\n  }\n\n  return (\n    <AccordionForm\n      label={t('Base info')}\n      isLoading={!edit ? isLoading?.offer_create : isLoading?.offer_update}\n      onSubmit={appForm.handleSubmit(onValid)}\n      onReset={appForm.reset}\n      canSubmit={true}\n    >\n      <InputLabel label={t('label')} error={errors.label} required>\n        <InputText placeholder={t('label')} {...register('label')} required autoFocus />\n      </InputLabel>\n\n      <FlexBox fxDirection={'row'} gap={6} fillWidth>\n        <InputLabel label={t('sku')} error={errors.sku}>\n          <InputText placeholder={t('sku')} {...register('sku')} />\n        </InputLabel>\n\n        <InputLabel label={'Штрих-код'} error={errors.barCode}>\n          <InputText placeholder={'Штрих-код'} {...register('barCode')} />\n        </InputLabel>\n      </FlexBox>\n\n      <CustomSelect\n        {...registerSelect('brand', {\n          options: brandsList,\n          label: t('brand'),\n          placeholder: t('selectBrand'),\n        })}\n      />\n\n      <CustomSelect\n        {...registerSelect('approved', {\n          options: OfferStatusFilterOptions,\n          label: t('status'),\n          placeholder: t('status'),\n        })}\n      />\n\n      <InputLabel label={t('description')} error={errors.description}>\n        <TextareaPrimary placeholder={t('description')} {...register('description')} />\n      </InputLabel>\n    </AccordionForm>\n  );\n};\n","import { t } from 'lang';\nimport * as React from 'react';\nimport FlexBox from '../../../atoms/FlexBox';\nimport InputLabel from '../../../atoms/Inputs/InputLabel';\nimport InputText from '../../../atoms/Inputs/InputText';\nimport styled from 'styled-components';\nimport { UseFormReturn } from 'react-hook-form/dist/types';\nimport { DimensionsKeyType, IDimensions } from 'types/utils.types';\n\nexport interface DimensionsFormData {\n  dimensions?: IDimensions;\n}\n\nexport const dimensionsInputsProps: {\n  label?: string;\n  placeholder?: string;\n  name: DimensionsKeyType;\n}[] = [\n  { name: 'height', label: t('Height'), placeholder: t('Sm') },\n  { name: 'width', label: t('Width'), placeholder: t('Sm') },\n  { name: 'length', label: t('Length'), placeholder: t('Sm') },\n  { name: 'weight', label: t('Weight'), placeholder: t('Kg') },\n];\n\nconst DimensionsInputs = <TContext = any,>({\n  form,\n  disabled,\n}: {\n  disabled?: boolean;\n  form: UseFormReturn<DimensionsFormData, TContext>;\n}) => {\n  const errors = form?.formState?.errors?.dimensions;\n\n  return (\n    <Box fillWidth>\n      {dimensionsInputsProps.map(input => {\n        return (\n          <InputLabel key={input.name} label={input.label} error={errors && errors[input.name]}>\n            <InputText\n              placeholder={input.placeholder}\n              min={1}\n              type={'number'}\n              {...form.register(`dimensions.${input.name}`, {\n                valueAsNumber: true,\n                min: 1,\n              })}\n              disabled={disabled}\n            />\n          </InputLabel>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst Box = styled(FlexBox)`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  column-gap: 8px;\n\n  @media screen and (min-width: 480px) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n`;\n\nexport default DimensionsInputs;\n","import DimensionsInputs, { DimensionsFormData } from './DimensionsInputs';\nimport { useAppForm } from '../../../../hooks';\nimport { AccordionForm } from '../../FormArea/AccordionForm';\nimport useOffersService from '../../../../hooks/useProductsService.hook';\nimport { ToastService } from '../../../../services';\nimport { IDimensions } from '../../../../types/utils.types';\nimport { useState } from 'react';\nimport { OfferFormAreaProps } from '../types';\nimport { t } from '../../../../lang';\n\nexport interface OfferDimensionsFormSectionProps extends OfferFormAreaProps<IDimensions> {}\n\nexport const OfferDimensionsFormArea = ({\n  defaultValues,\n  _id,\n  disabled,\n  ...props\n}: OfferDimensionsFormSectionProps) => {\n  const service = useOffersService();\n  const [isLoading, setIsLoading] = useState(false);\n  const form = useAppForm<DimensionsFormData>({\n    defaultValues: { dimensions: defaultValues ?? {} },\n  });\n\n  const onValid = (sData: DimensionsFormData) => {\n    service.updateById({\n      data: { data: sData, _id },\n      onSuccess(d) {\n        ToastService.success(`Product updated`);\n      },\n      onError: e => {\n        console.error('Product update action', e);\n      },\n      onLoading: setIsLoading,\n    });\n  };\n\n  const canSubmit = form.formState.touchedFields?.dimensions\n    ? Object.values(form.formState.touchedFields?.dimensions)?.some(fd => fd)\n    : false;\n\n  return (\n    <AccordionForm\n      onSubmit={form.handleSubmit(onValid)}\n      label={t('Package size')}\n      isLoading={isLoading}\n      isOpen={false}\n      {...props}\n      disabled={!canSubmit || disabled}\n    >\n      <DimensionsInputs form={form} disabled={disabled} />\n    </AccordionForm>\n  );\n};\n","import { FormEventHandler, useEffect, useMemo, useState } from 'react';\nimport { AccordionForm } from '../../FormArea/AccordionForm';\nimport styled from 'styled-components';\nimport { FlexUl } from '../../../atoms/FlexBox';\nimport { ServiceName, useAppServiceProvider } from '../../../../hooks/useAppServices.hook';\nimport { OfferFormAreaProps } from '../types';\nimport { useOfferLoadersProvider } from '../../../Modals/CreateOfferModal';\nimport { t } from '../../../../lang';\nimport { IProductFullFormData, OfferEntity } from '../../../../types/offers/offers.types';\nimport { getIdRef, sortIds } from '../../../../utils';\nimport OfferCategoriesSelector from '../categories/OfferCategoriesSelector';\nimport { useCurrentOffer } from '../../../../hooks';\n\nexport interface OfferFormCategoriesAreaProps extends OfferFormAreaProps<IProductFullFormData['categories']> {\n  onSelect?: (id: string) => void;\n  onChange?: (ids: string[]) => void;\n  onSuccess?: (data: OfferEntity) => void;\n}\n\nexport const OfferFormCategoriesArea = ({ offer, disabled }: OfferFormCategoriesAreaProps) => {\n  const currentOffer = useCurrentOffer(offer);\n  const loaders = useOfferLoadersProvider();\n  const initIds = sortIds(currentOffer?.categories?.map(p => p._id));\n  const service = useAppServiceProvider()[ServiceName.offers];\n  const [categoriesIds, setCategoriesIds] = useState<string[]>(initIds);\n\n  const canSubmit = useMemo(() => {\n    return !!categoriesIds?.length && initIds?.join(',') !== sortIds(categoriesIds).join(',');\n  }, [initIds, categoriesIds]);\n\n  const handleFormSubmit: FormEventHandler = ev => {\n    ev.preventDefault();\n\n    currentOffer &&\n      service.updateById({\n        onLoading: loaders.onLoading('categories'),\n        data: { ...getIdRef(currentOffer), data: { categories: categoriesIds }, refreshCurrent: true },\n        onSuccess: (data, meta) => {},\n      });\n  };\n\n  useEffect(() => {\n    if (currentOffer?.categories) {\n      setCategoriesIds(currentOffer?.categories.map(c => c._id));\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <AccordionForm\n      label={t('Categories')}\n      onSubmit={handleFormSubmit}\n      disabled={disabled}\n      // onReset={handleReset}\n      isLoading={loaders.isLoading?.properties}\n      canSubmit={canSubmit}\n      maxHeight={'300px'}\n      isOpen={false}\n    >\n      <ListBox flex={1} overflow={'auto'}>\n        <OfferCategoriesSelector onChangeIds={setCategoriesIds} offer={currentOffer} />\n      </ListBox>\n    </AccordionForm>\n  );\n};\nconst ListBox = styled(FlexUl)`\n  padding-bottom: 8px;\n`;\n","import { OfferFormAreaProps } from '../types';\nimport { AppSubmitHandler } from '../../../../hooks/useAppForm.hook';\nimport { OfferEntity, OfferImageSlotEntity } from '../../../../types/offers/offers.types';\nimport { useOfferLoadersProvider } from '../../../Modals/CreateOfferModal';\nimport { ServiceName, useAppServiceProvider } from '../../../../hooks/useAppServices.hook';\nimport { useEffect, useMemo, useState } from 'react';\nimport { AccordionForm } from '../../FormArea/AccordionForm';\nimport FormOfferImagesComponent from './FormOfferImagesComponent';\nimport { getIdRef } from '../../../../utils';\nimport { t } from '../../../../lang';\nimport { ConfigService } from '../../../../services';\n\nexport interface OfferFormImagesAreaProps extends OfferFormAreaProps<OfferImageSlotEntity[]> {\n  onSubmit?: AppSubmitHandler<Partial<OfferImageSlotEntity>[]>;\n  onSuccess?: (data: OfferEntity) => void;\n  update?: string;\n}\n\nexport const OfferFormImagesArea = ({\n  offer,\n  onSubmit,\n  onSuccess,\n  disabled,\n  defaultValues,\n}: OfferFormImagesAreaProps) => {\n  const loaders = useOfferLoadersProvider();\n  const [state, setState] = useState<Partial<OfferImageSlotEntity>[]>(defaultValues || loaders?.state?.images || []);\n  useEffect(() => {\n    console.log(ConfigService);\n  }, []);\n  const service = useAppServiceProvider()[ServiceName.offers];\n  const handleSubmit = (ev: React.FormEvent) => {\n    ev.preventDefault();\n\n    if (onSubmit) {\n      onSubmit(state);\n    } else if (offer) {\n      service.updateById({\n        data: { ...getIdRef(offer), data: { images: state as OfferImageSlotEntity[] }, refreshCurrent: true },\n        onSuccess: onSuccess,\n        onLoading: loaders.onLoading('images'),\n      });\n    } else {\n      console.warn('Offer not passed');\n    }\n  };\n  const canSubmit = useMemo(() => {\n    return true;\n  }, []);\n\n  return (\n    <AccordionForm\n      label={t('Images')}\n      onSubmit={handleSubmit}\n      canSubmit={canSubmit}\n      disabled={disabled}\n      isLoading={loaders.isLoading?.images}\n      isOpen={false}\n      maxHeight={'400px'}\n    >\n      <FormOfferImagesComponent\n        hideLabel\n        initialData={state}\n        onChangeState={setState}\n        contentContainerStyle={{\n          flex: 1,\n          // borderTop: `1px solid ${theme.sideBarBorderColor}`,\n          // borderBottom: `1px solid ${theme.sideBarBorderColor}`,\n        }}\n      />\n    </AccordionForm>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { AccordionForm } from '../../FormArea/AccordionForm';\nimport styled from 'styled-components';\nimport FlexBox from '../../../atoms/FlexBox';\nimport { useProductsSelector } from '../../../../redux/selectors.store';\nimport { ServiceName, useAppServiceProvider } from '../../../../hooks/useAppServices.hook';\nimport { AppSubmitHandler } from '../../../../hooks/useAppForm.hook';\nimport { OfferFormAreaProps } from '../types';\nimport { useOfferLoadersProvider } from '../../../Modals/CreateOfferModal';\nimport { ArrayOfUUID } from '../../../../redux/app-redux.types';\nimport { t } from '../../../../lang';\nimport { OfferEntity } from '../../../../types/offers/offers.types';\nimport { PropertiesGroupSelect } from '../../../atoms/PropertiesGroupSelect';\nimport { PropertyBaseEntity, PropertyEntity } from '../../../../types/offers/properties.types';\nimport OfferVariationPropertySelector from '../variations/OfferVariationPropertySelector';\nimport { Text } from '../../../atoms/Text';\nimport { useCurrentOffer } from '../../../../hooks';\n\nexport interface OfferFormPropertiesAreaProps extends OfferFormAreaProps<ArrayOfUUID> {\n  onSubmit?: AppSubmitHandler<string[]>;\n  onSelect?: (id: string) => void;\n  onChange?: (ids: string[]) => void;\n  onSuccess?: (data: OfferEntity) => void;\n  update?: string;\n}\n\nconst sortIds = (ids?: string[]): string[] => {\n  return [...(ids ?? [])]?.sort((a, b) => a.localeCompare(b));\n};\n\nexport const OfferFormPropertiesArea = ({ onSubmit, onSuccess, disabled, offer }: OfferFormPropertiesAreaProps) => {\n  const loaders = useOfferLoadersProvider();\n  const state = useProductsSelector();\n  const currentOffer = useCurrentOffer(offer);\n  const service = useAppServiceProvider()[ServiceName.offers];\n\n  const initIds = sortIds(currentOffer?.properties?.map(p => p._id));\n\n  const [selectedIds, setSelectedIds] = useState<string[]>(initIds);\n  const [template, setTemplate] = useState<PropertyBaseEntity>();\n\n  const handleSubmit = (ev: React.FormEvent) => {\n    ev.preventDefault();\n    if (currentOffer) {\n      service.updateById({\n        data: { _id: currentOffer?._id, updateCurrent: true, data: { properties: selectedIds } },\n        onLoading: loaders.onLoading('properties'),\n        onSuccess: onSuccess,\n      });\n    }\n  };\n\n  const canSubmit = useMemo(() => {\n    return !!selectedIds?.length && initIds?.join(',') !== sortIds(selectedIds)?.join(',');\n  }, [selectedIds, initIds]);\n\n  const propertiesList = useMemo(() => {\n    const _rootId = template?._id;\n    const _propertiesList: PropertyEntity[] = [];\n    const _propertiesIds = state.propertiesKeysMap?.[_rootId ?? 'def'] ?? [];\n\n    for (const propId of _propertiesIds) {\n      const prop = state.propertiesDataMap?.[propId];\n      if (prop && !prop?.isSelectable) {\n        const childrenIds = state.propertiesKeysMap[prop?._id];\n        if (childrenIds?.length) {\n          _propertiesList.push(prop);\n        }\n      }\n    }\n\n    return _propertiesList;\n  }, [template, state.propertiesDataMap, state.propertiesKeysMap]);\n\n  const handleSelect = useCallback((_parentId?: string, valueId: string = '') => {\n    setSelectedIds(prev => {\n      return prev.includes(valueId) ? prev.filter(el => el !== valueId) : [...prev, valueId];\n    });\n  }, []);\n\n  const renderPropertiesList = useMemo(() => {\n    return propertiesList?.map(prop => {\n      return (\n        <OfferVariationPropertySelector\n          key={`prop_${prop._id}`}\n          item={prop}\n          selectedIds={selectedIds}\n          onSelect={handleSelect}\n        />\n      );\n    });\n  }, [propertiesList, selectedIds, handleSelect]);\n\n  return (\n    <AccordionForm\n      label={t('Properties')}\n      canSubmit={canSubmit}\n      onSubmit={handleSubmit}\n      isLoading={loaders.isLoading?.properties}\n      isOpen={false}\n      disabled={!currentOffer || disabled}\n    >\n      <PropertiesGroupSelect selected={template} onSelect={setTemplate} />\n\n      <TemplateBox flex={1} overflow={'auto'}>\n        {renderPropertiesList?.length ? (\n          renderPropertiesList\n        ) : (\n          <FlexBox padding={'24px'} alignItems={'center'} justifyContent={'center'}>\n            <Text $size={16}>{t('Data not found')}</Text>\n          </FlexBox>\n        )}\n      </TemplateBox>\n    </AccordionForm>\n  );\n};\nconst TemplateBox = styled(FlexBox)`\n  padding-bottom: 8px;\n`;\n","import { Path } from 'react-hook-form';\nimport { MeasurementUnit } from 'types/offers/offers.types';\nimport { FilterOption } from '../../../atoms/TabSelector';\nimport { enumToFilterOptions } from 'utils/fabrics';\nimport CustomSelect from '../../../atoms/Inputs/CustomSelect/CustomSelect';\nimport InputLabel from '../../../atoms/Inputs/InputLabel';\nimport InputText from '../../../atoms/Inputs/InputText';\nimport FlexBox from '../../../atoms/FlexBox';\nimport * as React from 'react';\nimport { UseAppFormReturn } from 'hooks/useAppForm.hook';\nimport { t } from 'lang';\nimport { HasMeasurement } from 'types/utils.types';\n\nexport interface MeasurementInputsFormData extends HasMeasurement {}\n\nconst productsMeasurementUnitOptions = enumToFilterOptions(MeasurementUnit);\n\nconst measurementInputs: {\n  label?: string;\n  placeholder?: string;\n  name: Path<MeasurementInputsFormData>;\n  type?: HTMLInputElement['type'];\n  options?: FilterOption[];\n}[] = [\n  { name: 'measurement.unit', label: t('unit'), placeholder: t('unit'), options: productsMeasurementUnitOptions },\n  { name: 'measurement.min', label: t('min'), placeholder: t('min'), type: 'number' },\n  { name: 'measurement.max', label: t('max'), placeholder: t('max'), type: 'number' },\n  // { name: 'measurement.step', label: t('step'), placeholder: t('step'), type: 'number' },\n];\n\nconst MeasurementInputs = ({\n  appForm,\n  disabled,\n}: {\n  disabled?: boolean;\n  appForm: UseAppFormReturn<MeasurementInputsFormData>;\n}) => {\n  return (\n    <FlexBox fillWidth style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', columnGap: 8 }}>\n      {measurementInputs.map(input => {\n        return input.options ? (\n          <CustomSelect\n            key={input.name}\n            {...appForm.registerSelect(input?.name, {\n              options: input?.options,\n              label: input?.label,\n              placeholder: input?.label,\n              dropDownIsAbsolute: true,\n              onlyValue: true,\n            })}\n            disabled={disabled}\n          />\n        ) : (\n          <InputLabel key={input.name} label={input.label} error={appForm?.formState?.errors[input.name as never]}>\n            <InputText\n              placeholder={input.placeholder}\n              min={input?.type === 'number' ? 1 : undefined}\n              type={input?.type}\n              {...appForm.register(input.name, {\n                valueAsNumber: input?.type === 'number',\n                min: input?.type === 'number' ? 1 : undefined,\n              })}\n              disabled={disabled}\n            />\n          </InputLabel>\n        );\n      })}\n    </FlexBox>\n  );\n};\n\nexport default MeasurementInputs;\n","import MeasurementInputs, { MeasurementInputsFormData } from './MeasuremenInputs';\nimport { useAppForm } from '../../../../hooks';\nimport { AccordionForm } from '../../FormArea/AccordionForm';\nimport useOffersService from '../../../../hooks/useProductsService.hook';\nimport { ToastService } from '../../../../services';\nimport { IMeasurement } from '../../../../types/utils.types';\nimport { useState } from 'react';\nimport { OfferFormAreaProps } from '../types';\nimport { t } from '../../../../lang';\n\nexport interface OfferMeasurementFormProps extends OfferFormAreaProps<IMeasurement> {}\n\nexport const OfferMeasurementFormArea = ({ defaultValues, _id, disabled, ...props }: OfferMeasurementFormProps) => {\n  const service = useOffersService();\n  const [isLoading, setIsLoading] = useState(false);\n  const form = useAppForm<MeasurementInputsFormData>({ defaultValues: { measurement: defaultValues } });\n\n  const onValid = (sData: MeasurementInputsFormData) => {\n    service.updateById({\n      data: { data: sData, _id },\n      onSuccess(d) {\n        ToastService.success(`Product updated`);\n      },\n      onError: e => {\n        console.error('Product update action', e);\n      },\n      onLoading: setIsLoading,\n    });\n  };\n  const canSubmit = form.formState.touchedFields?.measurement\n    ? Object.values(form.formState.touchedFields?.measurement)?.some(fd => fd)\n    : false;\n  return (\n    <AccordionForm\n      onSubmit={form.handleSubmit(onValid)}\n      label={t('Measurement info')}\n      isLoading={isLoading}\n      disabled={!canSubmit || disabled}\n      isOpen={false}\n      {...props}\n    >\n      <MeasurementInputs appForm={form} disabled={disabled} />\n    </AccordionForm>\n  );\n};\n","import { ModalFormProps } from '../ModalForm';\nimport { OfferDimensionsFormArea } from '../Forms/offers/components/OfferDimensionsFormArea';\nimport ModalBase from '../atoms/Modal';\nimport { t } from '../../lang';\nimport { toOfferFormData } from '../../utils';\nimport { useEffect } from 'react';\nimport { OfferTypeEnum } from '../../types/offers/offers.types';\nimport { OfferMeasurementFormArea } from 'components/Forms/offers/components/OfferMeasurementFormArea';\nimport { OfferBaseInfoFormArea } from '../Forms/offers/components/OfferBaseInfoFormArea';\nimport FlexBox from '../atoms/FlexBox';\nimport TabSelector from '../atoms/TabSelector';\nimport { productsFilterOptions } from '../../data/modalFilterOptions.data';\nimport { OfferFormPropertiesArea } from '../Forms/offers/components/OfferFormPropertiesArea';\nimport { useLoaders } from '../../Providers/Loaders/useLoaders.hook';\nimport { LoadersProvider, useLoadersProvider } from '../../Providers/Loaders/LoaderProvider';\nimport { OfferFormImagesArea } from '../Forms/offers/components/OfferFormImagesArea';\nimport { useAppRouter, useCurrentOffer } from '../../hooks';\nimport { OfferFormCategoriesArea } from '../Forms/offers/components/OfferFormCategoriesArea';\nimport { OfferLoadersData, OfferLoadersKey } from '../Forms/offers/types';\n\nexport interface CreateOfferModalProps extends ModalFormProps {\n  _id: string;\n}\n\nexport const useOfferLoadersProvider = () => useLoadersProvider<OfferLoadersKey, OfferLoadersData>();\n\nconst CreateOfferModal: React.FC<CreateOfferModalProps> = ({ onClose, _id }) => {\n  const loaders = useLoaders<OfferLoadersKey, OfferLoadersData>();\n  const {\n    state: { formData },\n    setData,\n  } = loaders;\n  const router = useAppRouter();\n  const currenOffer = useCurrentOffer({ _id: router.query?.offerId });\n\n  useEffect(() => {\n    router.push({ query: {} });\n\n    return () => {\n      router.push({ query: {} });\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <ModalBase\n      title={t('Create offer')}\n      onClose={onClose}\n      extraHeader={\n        <TabSelector\n          defaultValue={formData?.type ?? OfferTypeEnum.GOODS}\n          filterOptions={productsFilterOptions}\n          onOptSelect={o => setData('formData', prev => ({ ...prev, type: o.value }))}\n        />\n      }\n    >\n      <LoadersProvider value={loaders}>\n        <FlexBox padding={'0 8px 16px'} overflow={'hidden'}>\n          <OfferBaseInfoFormArea\n            defaultValues={formData}\n            onSuccess={data => {\n              setData('formData', toOfferFormData(data));\n\n              router.push({ query: { offerId: data?._id } });\n            }}\n            type={formData?.type}\n          />\n\n          {currenOffer && (\n            <>\n              <OfferFormCategoriesArea offer={currenOffer} defaultValues={formData?.categories} disabled={!formData} />\n\n              <OfferFormPropertiesArea offer={currenOffer} defaultValues={formData?.properties} disabled={!formData} />\n\n              <OfferFormImagesArea offer={currenOffer} defaultValues={formData?.images} disabled={!formData} />\n\n              <OfferDimensionsFormArea offer={currenOffer} defaultValues={formData?.dimensions} disabled={!formData} />\n\n              <OfferMeasurementFormArea\n                offer={currenOffer}\n                defaultValues={formData?.measurement}\n                disabled={!formData}\n              />\n            </>\n          )}\n        </FlexBox>\n      </LoadersProvider>\n    </ModalBase>\n  );\n};\n\nexport default CreateOfferModal;\n"],"names":["OfferBaseInfoFormArea","_ref","defaultValues","edit","type","onSuccess","_id","_useOfferLoadersProvi","useOfferLoadersProvider","isLoading","onLoading","service","useOffersService","brandsList","useDirectorySelector","ApiDirType","directory","_useAppForm","useAppForm","_objectSpread","errors","formState","register","registerSelect","appForm","formValues","_objectWithoutProperties","_excluded","_jsxs","AccordionForm","label","t","offer_update","offer_create","onSubmit","handleSubmit","sData","productForSubmit","toReqData","ignorePaths","updateById","data","create","onReset","reset","canSubmit","children","_jsx","InputLabel","error","required","InputText","placeholder","autoFocus","FlexBox","fxDirection","gap","fillWidth","sku","barCode","CustomSelect","options","OfferStatusFilterOptions","description","TextareaPrimary","dimensionsInputsProps","name","Box","styled","_templateObject","_taggedTemplateLiteral","_form$formState","_form$formState$error","form","disabled","dimensions","map","input","min","concat","valueAsNumber","OfferDimensionsFormArea","_form$formState$touch","_Object$values","_form$formState$touch2","props","_useState","useState","_useState2","_slicedToArray","setIsLoading","touchedFields","Object","values","some","fd","d","ToastService","onError","e","console","isOpen","DimensionsInputs","OfferFormCategoriesArea","_currentOffer$categor","_loaders$isLoading","offer","currentOffer","useCurrentOffer","loaders","initIds","sortIds","categories","p","useAppServiceProvider","ServiceName","categoriesIds","setCategoriesIds","useMemo","length","join","useEffect","c","ev","preventDefault","getIdRef","refreshCurrent","meta","properties","maxHeight","ListBox","flex","overflow","OfferCategoriesSelector","onChangeIds","FlexUl","OfferFormImagesArea","_loaders$state","state","images","setState","log","ConfigService","warn","FormOfferImagesComponent","hideLabel","initialData","onChangeState","contentContainerStyle","ids","_toConsumableArray","sort","a","b","localeCompare","OfferFormPropertiesArea","_ref2","_currentOffer$propert","useProductsSelector","selectedIds","setSelectedIds","_useState3","_useState4","template","setTemplate","_sortIds","propertiesList","_state$propertiesKeys","_state$propertiesKeys2","_step","_rootId","_propertiesList","_propertiesIds","propertiesKeysMap","_iterator","_createForOfIteratorHelper","s","n","done","_state$propertiesData","propId","value","prop","propertiesDataMap","isSelectable","childrenIds","push","err","f","handleSelect","useCallback","_parentId","valueId","arguments","undefined","prev","includes","filter","el","renderPropertiesList","OfferVariationPropertySelector","item","onSelect","updateCurrent","PropertiesGroupSelect","selected","TemplateBox","padding","alignItems","justifyContent","Text","$size","productsMeasurementUnitOptions","enumToFilterOptions","MeasurementUnit","measurementInputs","style","display","gridTemplateColumns","columnGap","_appForm$formState","dropDownIsAbsolute","onlyValue","OfferMeasurementFormArea","measurement","MeasurementInputs","useLoadersProvider","_router$query","_formData$type","onClose","useLoaders","formData","setData","router","useAppRouter","currenOffer","query","offerId","ModalBase","title","extraHeader","TabSelector","defaultValue","OfferTypeEnum","filterOptions","productsFilterOptions","onOptSelect","o","LoadersProvider","toOfferFormData","_Fragment"],"sourceRoot":""}