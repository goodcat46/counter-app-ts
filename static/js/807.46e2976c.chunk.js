"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[807],{2483:function(e,n,i){i.d(n,{j:function(){return v}});var t,o,r=i(168),l=i(1413),a=i(4781),d=i(2791),u=i(2360),c=i(8095),s=i(3329),v=function(e){var n=(0,a.on)(),i=(0,d.useCallback)((function(e){return function(i){i.target===i.currentTarget&&n.remove(e)}}),[n]),t=(0,d.useMemo)((function(){return n.getStack().map((function(e,t){var o=e.RenderComponent,r=e.props,a=e.id;return(0,s.jsx)(p,{className:"overlay-".concat(a),style:{zIndex:20+t},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:i(a),children:(0,s.jsx)(o,(0,l.Z)((0,l.Z)({},r),{},{onClose:function(){n.remove(a)},overlayId:a,index:t}),"overlay-".concat(a))},"overlay-".concat(a))}))}),[i,n]);return(0,s.jsx)(f,{fillWidth:!0,fillHeight:!0,isActive:t.length>0,overflow:"hidden",children:t})},f=(0,u.ZP)(c.ZP)(t||(t=(0,r.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  z-index: 20;\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(e){return e.isActive?0:"100%"}),(function(e){return e.isActive?1:0}),(function(e){return e.isActive?"visible":"hidden"}),(function(e){return e.isActive?"all":"none"}),(function(e){return e.theme.backdropColor}),(function(e){return e.theme.globals.timingFunctionMain})),p=(0,u.ZP)(c.ZP)(o||(o=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(e,n,i){i.d(n,{on:function(){return c}});var t=i(1413),o=i(3433),r=i(9439),l=i(2791),a=i(6382),d=i(3329),u=(0,l.createContext)({}),c=function(){return(0,l.useContext)(u)};n.ZP=function(e){var n=e.children,i=(0,l.useState)([]),c=(0,r.Z)(i,2),s=c[0],v=c[1],f=(0,l.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]),p=(0,l.useCallback)((function(){v([])}),[]),h=(0,l.useCallback)((function(e){var n="".concat(e.RenderComponent.name,"_").concat((0,a.x0)(8));return"function"===typeof e.RenderComponent&&v((function(i){var r=i.find((function(n){return n.id.includes(e.RenderComponent.name)}));if(r){var l=i.filter((function(e){var n,i;return(null===(n=e.RenderComponent)||void 0===n?void 0:n.name)!==(null===(i=r.RenderComponent)||void 0===i?void 0:i.name)}));return[].concat((0,o.Z)(l),[(0,t.Z)((0,t.Z)({},e),{},{id:n})])}return[].concat((0,o.Z)(i),[(0,t.Z)((0,t.Z)({},e),{},{id:n})])})),{onClose:function(){return f(n)},compId:n}}),[f]),m={getStack:function(){return s},remove:f,clearStack:p,open:h};return(0,d.jsx)(u.Provider,{value:m,children:n})}},3807:function(e,n,i){i.r(n),i.d(n,{default:function(){return Un},useOfferOverviewLoaders:function(){return En}});var t,o,r,l,a,d,u,c,s,v,f,p,h,m,x,g=i(168),b=i(9439),Z=i(2360),C=i(8495),w=i(6931),j=i(2791),y=i(1819),P=i(8376),S=i(3329),k=(0,j.createContext)({}),_=function(){return(0,j.useContext)(k)},B=function(e){var n=e.children,i=(0,y.xc)()[y.EJ.offers],t=En(),o=(0,P.Zx)(),r=null===o||void 0===o?void 0:o.offerId,l=(0,P.G2)({_id:r});(0,j.useEffect)((function(){var e;null!==t&&void 0!==t&&null!==(e=t.isLoading)&&void 0!==e&&e.offer||r&&i.getOne({data:{params:{_id:r,getVariations:!1,getPrices:!1}},onLoading:t.onLoading("offer")}).catch()}),[r]);return(0,j.useEffect)((function(){return function(){i.clearCurrent(void 0)}}),[]),(0,S.jsx)(k.Provider,{value:{clearCurrent:function(){i.clearCurrent(void 0)},currentOffer:l},children:n})},A=i(4942),D=i(8553),I=i(6492),O=i(9953),M=i(8095),R=i(1413),L=i(7762),T=i(4354),E=i(400),V=i(401),U=i(8382),N=i(7578),H=i(4925),W=i(7348),$=i(1383),F=i(6757),z=i(7121),G=i(6727),J=i(4695),q=i(4990),K=i(6681),Y=i(6522),X=i(4235),Q=i(98),ee=i(9541),ne=["title","footer","children","extraFooter","extraHeader","isLoading","onClosePress","onBackPress","okButton","canSubmit"],ie=function(e){var n=e.title,i=(e.footer,e.children),t=(e.extraFooter,e.extraHeader),o=(e.isLoading,e.onClosePress),r=e.onBackPress,l=e.okButton,a=e.canSubmit,d=(0,H.Z)(e,ne);return(0,S.jsxs)(te,(0,R.Z)((0,R.Z)({className:"modal_base"},d),{},{children:[(0,S.jsx)(z.iw,{onBackPress:r,onClosePress:o,title:n,canSubmit:a,okButton:l,children:t}),(0,S.jsx)(oe,{className:"main",children:i})]}))},te=Z.ZP.div(t||(t=(0,g.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: min-content 1fr max-content;\n\n  position: relative;\n  padding: 0 8px;\n\n  min-height: 200px;\n  max-height: 90vh;\n\n  color: ",";\n  width: ",";\n  height: ",";\n\n  min-width: 250px;\n  max-width: 100%;\n\n  //overflow: hidden;\n\n  box-shadow: ",";\n  fill: ",";\n  color: ",";\n  background-color: ",";\n\n  border-radius: 2px;\n  border-bottom: 1px solid ",";\n  /* resize: both; */\n\n  @media screen and (max-width: 480px) {\n    width: 98vw;\n  }\n\n  @media screen and (min-width: 480px) {\n    width: ",";\n  }\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){var n=e.width,i=void 0===n?"480px":n,t=e.fillWidth,o=e.fitContentH;return(t?"100vw":o&&"max-content")||i}),(function(e){var n=e.height,i=void 0===n?"":n,t=e.fillHeight,o=e.fitContentV;return(t?"90vh":o&&"max-content")||i}),(function(e){return e.theme.globals.shadowMain}),(function(e){return e.theme.fillColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.modalBackgroundColor}),(function(e){return e.theme.modalBorderColor}),(function(e){return e.fillWidth?"98vw":"450px"})),oe=Z.ZP.main(o||(o=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  overflow: auto;\n  position: relative;\n  height: 100%;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n\n  background-color: ",";\n\n  ::-webkit-scrollbar {\n    width: 4px;\n    height: 4px;\n  }\n  //border-right: 1px solid ",";\n  //border-left: 1px solid ",";\n"])),(function(e){return e.theme.modalBackgroundColor}),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),re=(0,j.memo)(ie),le=i(5998),ae=i(8768),de=["onClose","title","onSubmit","updateId","create","offerId","offer"],ue=G.Ry().shape({label:G.Z_().required().min(5).max(128),sku:G.Z_().required().min(8).max(32),barCode:G.Z_().max(32),cms:G.Ry().shape({labels:G.Ry().shape({ua:G.Z_().min(5).max(64),en:G.Z_().min(5).max(64)})}),propertiesMap:G.Ry().shape({}).nonNullable().required(),offer:G.Ry().shape({_id:G.Z_().required(),label:G.Z_(),labels:G.Ry().shape({ua:G.Z_().min(5).max(64),en:G.Z_().min(5).max(64)})}),timeFrom:G.hT(),timeTo:G.hT(),price:G.Ry().shape({out:G.Z_()})}),ce=(0,Z.ZP)(M._0)(r||(r=(0,g.Z)(["\n  flex: 1;\n  max-height: 100%;\n  height: 100vh;\n\n  width: 100%;\n  //padding: 0 12px;\n\n  overflow: hidden;\n\n  //max-width: 380px;\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.tableBackgroundColor})),se=(0,Z.ZP)(M.ZP)(l||(l=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),ve=(0,Z.ZP)(M.ZP)(a||(a=(0,g.Z)(["\n  padding-bottom: 8px;\n"]))),fe=(0,Z.ZP)(M.ZP)(d||(d=(0,g.Z)(["\n  padding: 0 4px;\n"]))),pe=(0,Z.ZP)(M.ZP)(u||(u=(0,g.Z)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor})),he=(0,Z.ZP)(M.ZP)(c||(c=(0,g.Z)([""]))),me=(0,Z.ZP)(M.ZP)(s||(s=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),xe=function(e){var n,i,t,o,r,l,a,d,u,c,s=e.onClose,v=e.title,f=(e.onSubmit,e.updateId),p=(e.create,e.offerId),h=e.offer,m=(0,H.Z)(e,de),x=(0,W.nr)(),g=(0,y.xc)()[y.EJ.offers],Z=(0,ee.J)(),C=(0,P.EV)({id:f}).variation,w=(0,P.G2)({_id:(null===C||void 0===C||null===(n=C.offer)||void 0===n?void 0:n._id)||p||(null===h||void 0===h?void 0:h._id)}),k=(0,F.d)(),_=(0,j.useState)(),B=(0,b.Z)(_,2),D=B[0],O=B[1],T=(0,P.hN)({defaultValues:(0,U.Ls)(C?(0,R.Z)((0,R.Z)({},C),{},{offer:w,template:D}):{offer:w,template:D},w),resolver:(0,J.X)(ue),reValidateMode:"onSubmit"}),E=T.setValue,V=T.handleSubmit,N=T.register,G=T.formState.errors,ne=T.formValues,ie=T.reset,te=(0,j.useState)((function(){var e,n,i={},t=(0,L.Z)((0,U.gQ)(null!==(e=ne.propertiesMap)&&void 0!==e?e:{}));try{for(t.s();!(n=t.n()).done;){var o,r=(0,b.Z)(n.value,2),l=r[0],a=r[1],d=null===(o=x.propertiesDataMap)||void 0===o?void 0:o[a];d&&(i[l]=d)}}catch(u){t.e(u)}finally{t.f()}return i})),oe=(0,b.Z)(te,2),xe=oe[0],ge=oe[1],be=(0,j.useMemo)((function(){var e,n,i,t=null===D||void 0===D?void 0:D._id,o=[],r=null!==(e=null===(n=x.propertiesKeysMap)||void 0===n?void 0:n[null!==t&&void 0!==t?t:"def"])&&void 0!==e?e:[],l=(0,L.Z)(r);try{for(l.s();!(i=l.n()).done;){var a,d=i.value,u=null===(a=x.propertiesDataMap)||void 0===a?void 0:a[d];if(null!==u&&void 0!==u&&u.isSelectable){var c=x.propertiesKeysMap[null===u||void 0===u?void 0:u._id];null!==c&&void 0!==c&&c.length&&o.push(u)}}}catch(s){l.e(s)}finally{l.f()}return o}),[null===D||void 0===D?void 0:D._id,x.propertiesDataMap,x.propertiesKeysMap]),Ze=(0,j.useMemo)((function(){return null!==ne&&void 0!==ne&&ne.propertiesMap?Object.values(null===ne||void 0===ne?void 0:ne.propertiesMap):[]}),[null===ne||void 0===ne?void 0:ne.propertiesMap,ne]),Ce=(0,j.useMemo)((function(){return Ze.length>0}),[Ze.length]),we=(0,j.useMemo)((function(){var e,n,i=Object.entries(xe).sort((function(e,n){return e[0].localeCompare(n[0])})),t=null!==w&&void 0!==w&&w.label?[null===w||void 0===w?void 0:w.label]:[],o=(0,L.Z)(i);try{for(o.s();!(n=o.n()).done;){var r=n.value[1];(null===r||void 0===r?void 0:r.label)&&t.push(null===r||void 0===r?void 0:r.label)}}catch(l){o.e(l)}finally{o.f()}return{label:null!==i&&void 0!==i&&i.length?t.join(". "):null!==(e=null===C||void 0===C?void 0:C.label)&&void 0!==e?e:"".concat(null===w||void 0===w?void 0:w.label,". {{VARIATION_LABEL}}")}}),[null===w||void 0===w?void 0:w.label,xe,null===C||void 0===C?void 0:C.label]).label;(0,j.useEffect)((function(){E("label",we)}),[we,E,C]);var je=(0,j.useCallback)((function(e){f?g.updateVariationById({data:(0,U.Ts)(e,f),onSuccess:function(e){console.log("updateVariationById onSuccess",e),s&&s()},onError:$.kl.toastAxiosError,onLoading:Z.onLoading("update")}):g.createVariation({data:(0,U.Ts)(e),onSuccess:function(e){k.state.close&&s&&s(),k.state.clear&&ie()},onError:$.kl.toastAxiosError,onLoading:Z.onLoading("create")})}),[Z,s,ie,g,k.state.clear,k.state.close,f]),ye=(0,j.useCallback)((function(e,n){var i;E("propertiesMap.".concat(e),n);var t=null===(i=x.propertiesDataMap)||void 0===i?void 0:i[n];t&&ge((function(n){return(0,R.Z)((0,R.Z)({},n),{},(0,A.Z)({},e,t))}))}),[E,x.propertiesDataMap]),Pe=(0,j.useCallback)((function(){E("propertiesMap",{}),ge({})}),[E]),Se=(0,j.useMemo)((function(){return null===be||void 0===be?void 0:be.map((function(e){return(0,S.jsx)(Q.Z,{item:e,selectedIds:Ze,onSelect:ye},"prop_".concat(e._id))}))}),[be,Ze,ye]);return(0,S.jsx)(re,{fillHeight:!0,onBackPress:s,okButton:!1,title:v,children:(0,S.jsxs)(ce,(0,R.Z)((0,R.Z)({onSubmit:V(je,(function(e){console.error("[SUBMIT ERROR]",e)})),onReset:Pe},m),{},{children:[(0,S.jsxs)(se,{flex:1,fillWidth:!0,overflow:"auto",gap:12,children:[(0,S.jsxs)(ae.y,{label:"Offer",expandable:!1,hideFooter:!0,children:[(0,S.jsx)(q.Z,{label:(0,Y.t)("Offer label"),error:null===G||void 0===G||null===(i=G.offer)||void 0===i?void 0:i._id,required:!0,disabled:!0,children:(0,S.jsx)(K.ZP,{value:null!==(t=null===w||void 0===w?void 0:w.label)&&void 0!==t?t:void 0,placeholder:(0,Y.t)("label"),required:!0,disabled:!0})}),(0,S.jsxs)(M.ZP,{fxDirection:"row",gap:8,fillWidth:!0,children:[(0,S.jsx)(q.Z,{label:(0,Y.t)("sku"),disabled:!0,children:(0,S.jsx)(K.ZP,{value:null!==(o=null===w||void 0===w?void 0:w.sku)&&void 0!==o?o:void 0,placeholder:(0,Y.t)("sku"),disabled:!0})}),(0,S.jsx)(q.Z,{label:(0,Y.t)("barCode"),disabled:!0,children:(0,S.jsx)(K.ZP,{value:null!==(r=null===w||void 0===w?void 0:w.barCode)&&void 0!==r?r:void 0,placeholder:(0,Y.t)("barCode"),disabled:!0})})]})]}),(0,S.jsxs)(ae.y,{label:"Main info",expandable:!1,hideFooter:!0,children:[(0,S.jsx)(q.Z,{label:(0,Y.t)("label"),error:G.label,children:(0,S.jsx)(K.ZP,(0,R.Z)((0,R.Z)({},N("label",{required:!0})),{},{placeholder:(0,Y.t)("label"),required:!0}))}),(0,S.jsxs)(M.ZP,{fxDirection:"row",gap:8,fillWidth:!0,children:[(0,S.jsx)(q.Z,{label:(0,Y.t)("sku"),error:G.sku,children:(0,S.jsx)(K.ZP,(0,R.Z)((0,R.Z)({},N("sku",{required:!0})),{},{placeholder:(0,Y.t)("sku"),required:!0}))}),(0,S.jsx)(q.Z,{label:(0,Y.t)("barCode"),error:G.barCode,children:(0,S.jsx)(K.ZP,(0,R.Z)((0,R.Z)({},N("barCode")),{},{placeholder:(0,Y.t)("barCode")}))})]})]}),(0,S.jsxs)(ae.y,{label:(0,Y.t)("Properties"),expandable:!1,hideFooter:!0,children:[(0,S.jsx)(le.U,{onSelect:function(e){E("template",e),O(e)},selected:D}),(0,S.jsx)(ve,{padding:"0 8px",margin:"8px 0",children:Se})]}),C&&(0,S.jsx)(ae.y,{label:(0,Y.t)("Cms information"),expandable:!1,hideFooter:!0,children:(0,S.jsxs)(he,{padding:"8px 0",fillWidth:!0,children:[(0,S.jsx)(me,{padding:"8px",justifyContent:"flex-end",fxDirection:"row",fillWidth:!0,children:(0,S.jsx)(I.x,{$size:13,$weight:500,children:(0,Y.t)("Cms configs")})}),(0,S.jsxs)(fe,{children:[(0,S.jsx)(q.Z,{label:(0,Y.t)("Language key"),error:null===G||void 0===G||null===(l=G.cmsConfigs)||void 0===l?void 0:l.key,children:(0,S.jsx)(X.Z,{disabled:!0})}),(0,S.jsx)(q.Z,{label:(0,Y.t)("Label by lang key"),error:null===G||void 0===G||null===(a=G.cmsConfigs)||void 0===a||null===(d=a.labels)||void 0===d?void 0:d.ua,children:(0,S.jsx)(K.ZP,(0,R.Z)({placeholder:"Label"},N("cmsConfigs.labels.ua")))})]})]})})]}),(0,S.jsx)(z.AT,{loading:null===(u=Z.isLoading)||void 0===u?void 0:u.create,resetButtonShown:!0,submitButtonText:null!==(c=Z.isLoading)&&void 0!==c&&c.create?"Loading...":f?"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438",canSubmit:Ce,extraFooter:(0,S.jsx)(pe,{children:(0,S.jsx)(F.Z,(0,R.Z)({},k))})})]}))})},ge=function(e){var n,i=e.onSelect,t=e.selected,o=e.withActions,r=void 0===o||o,l=(0,N.un)(),a=_(),d=(0,T.f9)(),u=a.currentOffer,c=(0,y.xc)()[y.EJ.offers],s=(0,j.useCallback)((function(e){var n=e.refresh,i=e.update;u&&c.getAllVariationsByProductId({data:{refreshCurrent:n,updateCurrent:i,offerId:u._id},onLoading:l.onLoading("variations")})}),[u,l,c]),v=(0,j.useMemo)((function(){var e,n,i={},t=(0,L.Z)(null!==(e=null===u||void 0===u?void 0:u.variations)&&void 0!==e?e:[]);try{for(t.s();!(n=t.n()).done;){var o,r=n.value.properties,l=(0,L.Z)(null!==r&&void 0!==r?r:[]);try{for(l.s();!(o=l.n()).done;){var a,d=o.value,c=null===d||void 0===d||null===(a=d.parent)||void 0===a?void 0:a._id;c&&d.parent&&(i[c]=d.parent)}}catch(s){l.e(s)}finally{l.f()}}}catch(s){t.e(s)}finally{t.f()}return(0,V.F9)(Object.values(i))}),[null===u||void 0===u?void 0:u.variations]),f=(0,j.useMemo)((function(){return{onRowClick:function(e){if(i){if(null!==e&&void 0!==e&&e.rowData)return void i((0,U.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&i({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:r?function(e){var n,i=null===(n=e.selectedRow)||void 0===n?void 0:n._id;return[{icon:"refresh",type:"onlyIcon",onClick:function(){return s({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!i,onClick:function(){window.confirm("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0430\u0440\u0456\u0430\u0446\u0456\u044e:\n ".concat(i))}},{icon:"copy",type:"onlyIcon",disabled:!i},{icon:"edit",type:"onlyIcon",disabled:!i,onClick:function(){i&&e.selectedRow&&d.open({ModalChildren:xe,modalChildrenProps:{updateId:i}})}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){d.open({ModalChildren:xe,modalChildrenProps:{offer:a.currentOffer}})}}]}:void 0}}),[s,d,i,a.currentOffer,r]);return(0,j.useEffect)((function(){u&&s({refresh:!0})}),[]),(0,S.jsx)(E.ZP,(0,R.Z)((0,R.Z)({},f),{},{isSearch:!1,isFilter:!1,isLoading:null===l||void 0===l||null===(n=l.isLoading)||void 0===n?void 0:n.variations,selectedRow:t,tableData:null===u||void 0===u?void 0:u.variations,tableTitles:v,transformData:V.m$}))},be=i(4165),Ze=i(5861),Ce=i(717),we=i(6981),je=i(7360),ye=i(9978),Pe=function(e){var n,i=e.onSelect,t=e.selected,o=e.withActions,r=void 0===o||o,l=(0,T.f9)(),a=(0,y.xc)()[y.EJ.offers],d=(0,P.Zx)().offerId,u=(0,P.G2)({_id:d}),c=(0,j.useState)(),s=(0,b.Z)(c,2),v=s[0],f=s[1],p=(0,N.un)(),h=(0,je.TL)(),m=(0,j.useCallback)(function(){var e=(0,Ze.Z)((0,be.Z)().mark((function e(n){var i,t;return(0,be.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.refresh,t=n.update,u){e.next=3;break}return e.abrupt("return");case 3:a.getAllPrices({data:{params:{offerId:null===u||void 0===u?void 0:u._id},refreshCurrent:i,updateCurrent:t},onLoading:null===p||void 0===p?void 0:p.onLoading("prices")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u,p,a]),x=(0,j.useMemo)((function(){return{onRowClick:function(e){var n;(f(null===e||void 0===e?void 0:e.rowData),i)&&i({_id:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e||null===(n=e.rowData)||void 0===n?void 0:n._id)||""})},actionsCreator:r?function(e){var n,i=(null===(n=e.selectedRow)||void 0===n?void 0:n._id)||(null===v||void 0===v?void 0:v._id);return[{icon:"refresh",type:"onlyIcon",onClick:function(){return m({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!0},{icon:"copy",type:"onlyIcon",disabled:!0},{icon:"edit",type:"onlyIcon",disabled:!i,onClick:function(){h((0,ye.SN)({data:{params:{_id:i}},onLoading:p.onLoading("price",void 0,{content:"Refreshing price info..."}),onSuccess:function(){l.open({ModalChildren:Ce.Z,modalChildrenProps:{offer:u,updateId:i}})}}))}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){l.open({ModalChildren:Ce.Z,modalChildrenProps:{offer:u}})}}]}:void 0}}),[r,i,null===v||void 0===v?void 0:v._id,m,h,p,l,u]);return(0,j.useEffect)((function(){m({refresh:!0})}),[]),(0,S.jsx)(E.ZP,(0,R.Z)((0,R.Z)({},x),{},{isSearch:!1,isFilter:!1,isLoading:null===p||void 0===p||null===(n=p.isLoading)||void 0===n?void 0:n.prices,selectedRow:t,tableData:null===u||void 0===u?void 0:u.prices,tableTitles:we.po}))},Se=i(758),ke=i(3664),_e=i(387),Be=function(e){var n=e.onSelect,i=e.selected,t=e.withActions,o=(0,W.nr)().currentOffer,r=(0,T.f9)(),l=(0,y.xc)()[y.EJ.offers],a=(0,j.useState)(!1),d=(0,b.Z)(a,2),u=d[0],c=d[1],s=(0,j.useCallback)((function(e){var n=e.refresh;e.update;if(o){var i=(0,_e.rE)(o);l.getAllInventories({data:{refreshCurrent:n,params:{offer:i}},onLoading:c})}}),[o,l]),v=(0,j.useMemo)((function(){return{tableData:null===o||void 0===o?void 0:o.inventories,tableTitles:Se.QX,onRowClick:function(e){if(n){if(null!==e&&void 0!==e&&e.rowData)return void n((0,_e.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&n({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:t?function(e){return[{icon:"refresh",type:"onlyIcon",onClick:function(){return s({refresh:!0})}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){r.open({ModalChildren:ke.Z.CreateWarehouseDocument,modalChildrenProps:{}})}}]}:void 0}}),[null===o||void 0===o?void 0:o.inventories,s,r,n,t]);return(0,j.useEffect)((function(){s({refresh:!0})}),[]),(0,S.jsx)(E.ZP,(0,R.Z)((0,R.Z)({},v),{},{isSearch:!1,isFilter:!1,isLoading:u,selectedRow:i}))},Ae=i(1251),De=function(e){return(0,S.jsx)(M.ZP,{padding:"16px",children:(0,S.jsx)(I.x,{$size:16,$weight:600,children:"In work"})})},Ie=function(e){return e.Prices="Prices",e.Variations="Variations",e.Warehousing="Warehousing",e.Sales="Sales",e}(Ie||{}),Oe=(0,D.H1)(Ie),Me=(0,Z.ZP)(M.ZP)(v||(v=(0,g.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.25);\n  }\n"])),(function(e){return e.theme.globals.timingFunctionMain}),(function(e){return e.theme.backgroundColorLight}),(function(e){return e.isVisible?0:100})),Re=(0,Z.ZP)(M.ZP)(f||(f=(0,g.Z)(["\n  border-top: 1px solid ",";\n  //border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),Le=function(e){var n,i,t=e.isVisible,o=e.toggleVisibility,r=_(),l=(0,ee.J)(),a=(0,j.useState)(Oe[0].value),d=(0,b.Z)(a,2),u=d[0],c=d[1],s=(0,j.useMemo)((function(){var e,n;if(!r.currentOffer)return null;var i=(e={},(0,A.Z)(e,Ie.Variations,(0,S.jsx)(ge,{withActions:!0})),(0,A.Z)(e,Ie.Warehousing,(0,S.jsx)(Be,{withActions:!0})),(0,A.Z)(e,Ie.Prices,(0,S.jsx)(Pe,{withActions:!0})),(0,A.Z)(e,Ie.Sales,(0,S.jsx)(De,{withActions:!0})),e);return null!==(n=null===i||void 0===i?void 0:i[u])&&void 0!==n?n:null}),[u,r.currentOffer]);return(0,S.jsx)(N.f4,{value:l,children:(0,S.jsxs)(Me,{overflow:"hidden",fillHeight:!0,isVisible:t,children:[t&&(0,S.jsx)(Ae.xB,{onBackPress:o,renderTitle:(0,S.jsxs)(M.ZP,{padding:"0 8px",fxDirection:"row",alignItems:"center",justifyContent:"center",gap:8,children:[(0,S.jsx)(I.x,{$weight:600,$size:14,children:null===r||void 0===r||null===(n=r.currentOffer)||void 0===n?void 0:n.label}),(0,S.jsx)(I.x,{$size:14,children:null===r||void 0===r||null===(i=r.currentOffer)||void 0===i?void 0:i.sku})]})}),(0,S.jsxs)(Re,{overflow:"hidden",fillWidth:!0,flex:1,children:[(0,S.jsx)(O.Z,{filterOptions:Oe,onOptSelect:function(e,n,i){c(n)},preventDefault:!0}),s]})]})})},Te=i(2483),Ee=i(4109),Ve=i(4781),Ue=i(5227),Ne=i(763),He=i(870),We=i(6753),$e=i(6493),Fe=i(9184),ze=(0,Z.ZP)(M.ZP)(p||(p=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),Ge=function(e){var n,i,t,o=e.onClose,r=(0,y.xc)()[y.EJ.offers],l=(0,P.G2)(),a=(0,W.q$)(He.cA.CATEGORIES_PROD).directory,d=(0,ee.J)({update:{content:"Loadings..."}}),u=(0,U.sK)(null===l||void 0===l||null===(n=l.categories)||void 0===n?void 0:n.map((function(e){return e._id}))),c=(0,j.useState)(u),s=(0,b.Z)(c,2),v=s[0],f=s[1],p=(0,j.useMemo)((function(){return(null===u||void 0===u?void 0:u.join(","))!==(0,U.sK)(v).join(",")}),[u,v]);return(0,j.useEffect)((function(){null!==l&&void 0!==l&&l.categories&&f(null===l||void 0===l?void 0:l.categories.map((function(e){return e._id})))}),[]),(0,S.jsxs)(z.dF,{onSubmit:function(e){e.preventDefault(),l&&r.updateById({onLoading:d.onLoading("update"),data:(0,R.Z)((0,R.Z)({},(0,U.rE)(l)),{},{data:{categories:v},refreshCurrent:!0}),onSuccess:function(e,n){o&&o()}})},children:[(0,S.jsx)(z.iw,{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",onBackPress:o,canSubmit:p,okButton:!0,isLoading:null===(i=d.isLoading)||void 0===i?void 0:i.update}),(0,S.jsx)(ze,{padding:"0 0 8px 0",flex:1,overflow:"auto",children:(0,S.jsx)(Fe.Z,{onChangeIds:f,options:a,defaultData:v,offer:l})}),(0,S.jsx)(z.AT,{canSubmit:p,loading:null===(t=d.isLoading)||void 0===t?void 0:t.update})]})},Je=function e(n){var i,t,o=n.item,r=n.lvl,l=void 0===r?0:r,a=n.selectedIds,d=(0,j.useMemo)((function(){var n;return null===o||void 0===o||null===(n=o.childrenList)||void 0===n?void 0:n.map((function(n,i){return(0,S.jsx)(e,{item:n,index:i,lvl:l+1,selectedIds:a},"item_lvl_".concat(l,"_").concat(n._id))}))}),[null===o||void 0===o?void 0:o.childrenList,l,a]),u=(0,j.useMemo)((function(){return a.includes(o._id)}),[o._id,a]);return(0,S.jsxs)(S.Fragment,{children:[u&&(0,S.jsxs)(We.U.CategoryItem,{fxDirection:"row",alignItems:"center",padding:"0 2px 0 12px",gap:2,children:[(null===o||void 0===o||null===(i=o.parent)||void 0===i?void 0:i.label)&&"".concat(null===o||void 0===o||null===(t=o.parent)||void 0===t?void 0:t.label,"/"),"".concat(null===o||void 0===o?void 0:o.label)]}),d]})},qe=i(3433),Ke=["onClose","title","defaultState","onSubmit","updateId","offer","template","onSelect","onChange"],Ye=(0,Z.ZP)(M.ZP)(h||(h=(0,g.Z)(["\n  padding-bottom: 8px;\n"]))),Xe=function(e){var n,i=e.onClose,t=e.title,o=(e.defaultState,e.onSubmit),r=e.updateId,l=e.offer,a=(e.template,e.onSelect,e.onChange,(0,H.Z)(e,Ke)),d=(0,P.G2)(l),u=(0,W.nr)(),c=(0,y.xc)()[y.EJ.offers],s=(0,j.useState)(),v=(0,b.Z)(s,2),f=v[0],p=v[1],h=(0,j.useState)(!1),m=(0,b.Z)(h,2),x=m[0],g=m[1],Z=(0,j.useState)([]),C=(0,b.Z)(Z,2),w=C[0],k=C[1],_=(0,j.useMemo)((function(){var e;return(0,U.sK)(null===d||void 0===d||null===(e=d.properties)||void 0===e?void 0:e.map((function(e){return e._id})))}),[null===d||void 0===d?void 0:d.properties]);(0,j.useEffect)((function(){null!==_&&void 0!==_&&_.length&&k(_)}),[]);var B=(0,j.useMemo)((function(){var e,n,i,t=null===f||void 0===f?void 0:f._id,o=[],r=null!==(e=null===(n=u.propertiesKeysMap)||void 0===n?void 0:n[null!==t&&void 0!==t?t:"def"])&&void 0!==e?e:[],l=(0,L.Z)(r);try{for(l.s();!(i=l.n()).done;){var a,d=i.value,c=null===(a=u.propertiesDataMap)||void 0===a?void 0:a[d];if(c&&(null===c||void 0===c||!c.isSelectable)){var s=u.propertiesKeysMap[null===c||void 0===c?void 0:c._id];null!==s&&void 0!==s&&s.length&&o.push(c)}}}catch(v){l.e(v)}finally{l.f()}return o}),[null===f||void 0===f?void 0:f._id,u.propertiesDataMap,u.propertiesKeysMap]),A=(0,j.useMemo)((function(){var e;return(null===(e=(0,U.sK)(_))||void 0===e?void 0:e.join(","))!==(0,U.sK)(w).join(",")}),[_,w]),D=(0,j.useCallback)((function(e){e.preventDefault();var n=null!==r&&void 0!==r?r:null===d||void 0===d?void 0:d._id;n?c.updateById({data:{_id:n,data:{properties:w}},onLoading:g,onSuccess:function(e,n){$.kl.success("Product updated"),i&&i()}}):console.debug("selectedIds",w),o&&o(w)}),[null===d||void 0===d?void 0:d._id,i,o,w,c,r]),I=(0,j.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";k((function(e){return e.includes(n)?e.filter((function(e){return e!==n})):[].concat((0,qe.Z)(e),[n])}))}),[]),O=(0,j.useMemo)((function(){return null===B||void 0===B?void 0:B.map((function(e){return(0,S.jsx)(Q.Z,{item:e,selectedIds:w,onSelect:I},"prop_".concat(e._id))}))}),[B,w,I]);return(0,j.useEffect)((function(){null!==d&&void 0!==d&&d.properties&&k(null===d||void 0===d?void 0:d.properties.map((function(e){return e._id})))}),[null===d||void 0===d?void 0:d.properties]),(0,S.jsxs)(z.dF,(0,R.Z)((0,R.Z)({onSubmit:D},a),{},{children:[(0,S.jsx)(z.iw,{onBackPress:i,canSubmit:A,title:null!==(n=t||(null===f||void 0===f?void 0:f.label))&&void 0!==n?n:"",okButton:!0}),(0,S.jsx)(le.U,{onSelect:p,selected:f}),(0,S.jsx)(Ye,{flex:1,overflow:"auto",children:O}),(0,S.jsx)(z.AT,{canSubmit:A,loading:x,submitButtonText:x?"Loading...":"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]}))},Qe=function(e){var n=e.item,i=e.selectedIds,t=e.selectedItems,o=(0,j.useMemo)((function(){var e,o=null!==t&&void 0!==t&&t.length?t:null===(e=n.childrenList)||void 0===e?void 0:e.filter((function(e){return null===i||void 0===i?void 0:i.includes(e._id)}));return null===o||void 0===o?void 0:o.map((function(e,n){return(0,S.jsx)(We.U.CategoryItem,{className:"PROP_VALUE",maxWidth:"130px",children:e.label},"prop-v-".concat(e._id))}))}),[n.childrenList,i,t]);return(0,S.jsxs)(M.ZP,{className:"PROPERTY",gap:8,alignItems:"flex-end",children:[(0,S.jsx)(M.ZP,{alignItems:"center",fxDirection:"row",fillWidth:!0,gap:8,children:(0,S.jsx)(We.U.CellText,{$size:13,$weight:600,children:null===n||void 0===n?void 0:n.label})}),(0,S.jsx)(M.ZP,{fxDirection:"row",flexWrap:"wrap",fillWidth:!0,gap:6,children:o&&(null===o||void 0===o?void 0:o.length)>0?o:(0,S.jsx)(I.x,{$size:12,children:"---"})})]})},en=i(9069),nn=function(e){var n=e.onSelect,i=e.withActions,t=(e.selected,e.types),o=(0,j.useState)(!1),r=(0,b.Z)(o,1)[0],l=(0,W.q$)(He.cA.CONTRACTORS).directory,a=(0,j.useMemo)((function(){return l.filter((function(e){return t&&t.includes(e.type)}))}),[l,t]),d=(0,j.useMemo)((function(){return{tableData:a,tableTitles:en.PU,onRowClick:function(e){if(n){if(null!==e&&void 0!==e&&e.rowData)return void n((0,_e.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&n({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:i?function(e){return[]}:void 0}}),[a,n,i]);return(0,S.jsx)(E.ZP,(0,R.Z)({isSearch:!1,isLoading:r},d))},tn=function(e){return e.CUSTOMER="CUSTOMER",e.SUPPLIER="SUPPLIER",e.EMPLOYEE="EMPLOYEE",e.CONTRACTOR="CONTRACTOR",e.SUB_CONTRACTOR="SUB_CONTRACTOR",e.COMMISSION_AGENT="COMMISSION_AGENT",e.CONSIGNOR="CONSIGNOR",e.TRANSPORTER="TRANSPORTER",e.DELIVER="DELIVER",e}({}),on=function(e){var n,i=e.onSelect,t=e.selected,o=(e.withActions,(0,y.xc)().warehouses),r=(0,N.un)(),l=(0,W.eO)().warehouses,a=(0,j.useCallback)((function(){o.getAll({onLoading:r.onLoading("warehouses"),data:{refresh:!0}})}),[r,o]);(0,j.useEffect)((function(){a()}),[]);var d=(0,j.useMemo)((function(){return{tableData:l,tableTitles:Se.A7,onRowClick:function(e){if(i){if(null!==e&&void 0!==e&&e.rowData)return void i((0,U.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&i({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:function(e){return[{icon:"refresh",onClick:a}]}}}),[a,i,l]);return(0,S.jsx)(E.ZP,(0,R.Z)((0,R.Z)({isSearch:!1},d),{},{isLoading:null===(n=r.isLoading)||void 0===n?void 0:n.warehouses,selectedRow:t}))},rn=function(e){return e.price="price",e.variation="variation",e.warehouse="warehouse",e.inventory="inventory",e.supplier="supplier",e}({}),ln=(0,U.H1)(rn),an=Z.ZP.form(m||(m=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  flex: 1;\n\n  padding: 0 8px;\n\n  width: 480px;\n  max-width: 100%;\n\n  height: 100%;\n\n  background-color: ",";\n"])),(function(e){return e.theme.modalBackgroundColor})),dn=(0,Z.ZP)(M.ZP)(x||(x=(0,g.Z)(["\n  border-top: 1px solid ",";\n\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),un=function(e){var n,i=e.onClose,t=(e.onSubmit,(0,ee.J)()),o=null===(n=(0,P.Zx)())||void 0===n?void 0:n.offerId,r=(0,P.G2)({_id:o}),l=(0,y.xc)()[y.EJ.offers],a=(0,j.useState)(0),d=(0,b.Z)(a,2),u=d[0],c=d[1],s=(0,P.hN)(),v=s.setValue,f=s.formValues,p=s.handleSubmit,h=(0,j.useCallback)((function(e){v(ln[u].value,e)}),[u,v]),m=(0,j.useMemo)((function(){var e,n,i;return null!==(n=(e={},(0,A.Z)(e,rn.warehouse,(0,S.jsx)(on,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.warehouse})),(0,A.Z)(e,rn.price,(0,S.jsx)(Pe,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.price})),(0,A.Z)(e,rn.variation,(0,S.jsx)(ge,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.variation})),(0,A.Z)(e,rn.inventory,(0,S.jsx)(Be,{withActions:!0,onSelect:h,selected:null===f||void 0===f?void 0:f.inventory})),(0,A.Z)(e,rn.supplier,(0,S.jsx)(nn,{withActions:!0,types:[tn.SUPPLIER],onSelect:h,selected:null===f||void 0===f?void 0:f.supplier})),e)[null===(i=ln[u])||void 0===i?void 0:i.value])&&void 0!==n?n:null}),[u,null===f||void 0===f?void 0:f.inventory,null===f||void 0===f?void 0:f.price,null===f||void 0===f?void 0:f.supplier,null===f||void 0===f?void 0:f.variation,null===f||void 0===f?void 0:f.warehouse,h]),x=(0,j.useMemo)((function(){var e,n,i,t,o,l,a,d=null===r||void 0===r?void 0:r.defaults,c=(0,A.Z)({},null!==(e=null===ln||void 0===ln||null===(n=ln[u])||void 0===n?void 0:n.value)&&void 0!==e?e:"",!0);return c.variation?f.variation&&f.variation._id!==(null===d||void 0===d||null===(i=d.variation)||void 0===i?void 0:i._id):c.price?f.price&&f.price._id!==(null===d||void 0===d||null===(t=d.price)||void 0===t?void 0:t._id):c.warehouse?f.warehouse&&f.warehouse._id!==(null===d||void 0===d||null===(o=d.warehouse)||void 0===o?void 0:o._id):c.inventory?f.inventory&&f.inventory._id!==(null===d||void 0===d||null===(l=d.inventory)||void 0===l?void 0:l._id):c.supplier?f.supplier&&f.supplier._id!==(null===d||void 0===d||null===(a=d.supplier)||void 0===a?void 0:a._id):void 0}),[null===r||void 0===r?void 0:r.defaults,u,f.inventory,f.price,f.supplier,f.variation,f.warehouse]);return(0,S.jsx)(N.f4,{value:t,children:(0,S.jsxs)(an,{onSubmit:p((function(e){(null===r||void 0===r?void 0:r._id)&&l.setDefaults({data:{_id:null===r||void 0===r?void 0:r._id,defaults:(0,U.vg)(e),updateCurrent:!0},onSuccess:function(e,n){console.log(e,n)},onLoading:t.onLoading("submiting")})})),children:[(0,S.jsx)(Ae.xB,{onBackPress:i,title:(0,Y.t)("Default values"),canSubmit:x}),(0,S.jsx)(O.Z,{filterOptions:ln,currentIndex:u,onChangeIndex:c}),(0,S.jsx)(dn,{flex:1,fillWidth:!0,overflow:"hidden",children:m}),(0,S.jsx)(Ae.AT,{loading:t.hasLoading,onCreatePress:function(){},canSubmit:x})]})})},cn=i(3299);var sn,vn,fn,pn,hn,mn,xn=i(4717),gn=i(8790),bn=Z.ZP.form(sn||(sn=(0,g.Z)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 480px;\n\n  padding: 0 8px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),Zn=function(e){var n=e.onClose,i=(0,W.nr)().currentOffer,t=(0,y.xc)()[y.EJ.offers],o=(0,j.useState)((null===i||void 0===i?void 0:i.images)||[]),r=(0,b.Z)(o,2),l=r[0],a=r[1],d=(0,j.useState)(!1),u=(0,b.Z)(d,2),c=u[0],s=u[1],v=(0,Z.Fg)();return(0,S.jsx)(bn,{onSubmit:function(e){e.preventDefault(),i&&t.updateById({data:(0,R.Z)((0,R.Z)({},(0,_e.rE)(i)),{},{data:{images:l},refreshCurrent:!0}),onSuccess:function(){n&&n()},onLoading:s})},children:(0,S.jsx)(gn.Z,{initialData:l,onClose:n,onChangeState:a,contentContainerStyle:{flex:1,borderTop:"1px solid ".concat(v.sideBarBorderColor),borderBottom:"1px solid ".concat(v.sideBarBorderColor)},renderHeader:(0,S.jsx)(z.iw,{title:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",onBackPress:n,okButton:!0,canSubmit:l.length>0}),FooterComponent:function(e){return(0,S.jsx)(z.AT,{onCreatePress:e.onAddNewImageSetPress,loading:c,canSubmit:l.length>0})}})})},Cn=i(4436),wn=["className"],jn=["CellComponent"],yn=function(e){return e.General="General",e.Properties="Properties",e.Defaults="Defaults",e.Images="Images",e.Futures="Futures",e.Cms="Cms",e}({}),Pn=(0,U.H1)(yn),Sn=(0,Z.ZP)(M.ZP)(vn||(vn=(0,g.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),kn=(0,Z.ZP)(M.ZP)(fn||(fn=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),_n=(0,Z.ZP)(M.ZP)(pn||(pn=(0,g.Z)([""]))),Bn=(0,Z.ZP)(Ee.Z)(hn||(hn=(0,g.Z)(["\n  fill: ",";\n"])),(function(e){return e.theme.globals.colors.error})),An=(0,Z.ZP)(Ee.Z)(mn||(mn=(0,g.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),Dn=[{title:(0,Y.t)("Label"),getValue:function(e){return null===e||void 0===e?void 0:e.label},gridArea:"label",tab:yn.General},{title:(0,Y.t)("status"),getValue:function(e){return null===e||void 0===e?void 0:e.approved},gridArea:"approved",tab:yn.General},{title:(0,Y.t)("Type"),getValue:function(e){return null===e||void 0===e?void 0:e.type},gridArea:"type",tab:yn.General},{title:(0,Y.t)("SKU"),getValue:function(e){return null===e||void 0===e?void 0:e.sku},gridArea:"sku",tab:yn.General},{title:(0,Y.t)("Bar-code"),getValue:function(e){return null===e||void 0===e?void 0:e.barCode},gridArea:"barCode",tab:yn.General},{title:(0,Y.t)("Categories"),CellComponent:function(e){var n=e.cell,i=e.overlayHandler,t=e.data,o=(0,W.q$)(He.cA.CATEGORIES_PROD).directory,r=(0,j.useMemo)((function(){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.categories)||void 0===n?void 0:n.map((function(e){return e._id})))&&void 0!==e?e:[]}),[null===t||void 0===t?void 0:t.categories]),l=(0,j.useMemo)((function(){return o.map((function(e,n){return(0,S.jsx)(Je,{selectedIds:r,item:e},"cat_".concat(e._id))}))}),[o,r]);return(0,S.jsxs)(We.U.Cell,{style:{minHeight:"max-content"},children:[(0,S.jsx)($e.p,{title:null===n||void 0===n?void 0:n.title,openOverlayButtonTitle:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438",onOpenOverlayPress:function(){i({RenderComponent:Ge})}}),(0,S.jsx)(M.ZP,{fillWidth:!0,fxDirection:"row",justifyContent:"flex-end",flexWrap:"wrap",gap:8,style:{height:"max-content",minHeight:26},children:l})]})},gridArea:"categories",tab:yn.Properties},{title:(0,Y.t)("Brand"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.brand)||void 0===n?void 0:n.label},gridArea:"brand",tab:yn.General},{title:(0,Y.t)("Measurement"),gridArea:"measurement",getValue:function(e){try{var n=null!==e&&void 0!==e&&e.measurement?JSON.parse(null===e||void 0===e?void 0:e.measurement):{};return["".concat((0,Y.t)("unit"),": ").concat((null===n||void 0===n?void 0:n.unit)||0),"".concat((0,Y.t)("min"),": ").concat((null===n||void 0===n?void 0:n.min)||0),"".concat((0,Y.t)("max"),": ").concat((null===n||void 0===n?void 0:n.max)||0),"".concat((0,Y.t)("step"),": ").concat((null===n||void 0===n?void 0:n.step)||0)].join(" | ")}catch(i){return""}},tab:yn.General},{title:(0,Y.t)("Description"),getValue:function(e){return null===e||void 0===e?void 0:e.description},gridArea:"description",tab:yn.General},{title:(0,Y.t)("Negative sales"),getValue:function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&n.negativeSale?"Yes":"No"},gridArea:"reservation",tab:yn.Futures},{title:(0,Y.t)("Reservation"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(i=n.reservation)&&void 0!==i&&i.isAvailable?"Yes":"No"},gridArea:"reservation",tab:yn.Futures},{title:(0,Y.t)("Custom production"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(i=n.customProduction)&&void 0!==i&&i.isAvailable?"Yes":"No"},gridArea:"customProduction",tab:yn.Futures},{title:(0,Y.t)("Custom order"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(i=n.customOrder)&&void 0!==i&&i.isAvailable?"Yes":"No"},gridArea:"customOrder",tab:yn.Futures},{title:(0,Y.t)("Pre-order"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(i=n.preOrder)&&void 0!==i&&i.isAvailable?"Yes":"No"},gridArea:"preOrder",tab:yn.Futures},{title:(0,Y.t)("Is promo"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.futures)||void 0===n?void 0:n.isPromo},gridArea:"isPromo",tab:yn.Futures},{title:(0,Y.t)("Properties"),CellComponent:function(e){var n,i,t,o,r=e.cell,l=e.overlayHandler,a=e.data,d=(0,W.nr)(),u=(0,P.G2)(a),c=(0,j.useRef)(new Set(null!==(n=null===u||void 0===u||null===(i=u.properties)||void 0===i?void 0:i.map((function(e){return e._id})))&&void 0!==n?n:[])),s=(0,j.useRef)(new Set(null!==(t=null===u||void 0===u||null===(o=u.properties)||void 0===o?void 0:o.map((function(e){var n;return null===e||void 0===e||null===(n=e.parent)||void 0===n?void 0:n._id})))&&void 0!==t?t:[])),v=(0,j.useMemo)((function(){for(var e=[],n={},i=0,t=Array.from(s.current);i<t.length;i++){var o,r=t[i],l=r?null===(o=d.propertiesDataMap)||void 0===o?void 0:o[r]:void 0;l&&(e.push(l),n[l._id]=[])}for(var a=0,u=Array.from(c.current);a<u.length;a++){var v,f,p,h=u[a],m=h?null===(v=d.propertiesDataMap)||void 0===v?void 0:v[h]:void 0;if(m&&null!==(f=m.parent)&&void 0!==f&&f._id)n[null===(p=m.parent)||void 0===p?void 0:p._id].push(m)}return{propertiesList:e,valuesListMap:n}}),[d.propertiesDataMap]),f=v.propertiesList,p=v.valuesListMap,h=(0,j.useMemo)((function(){return null===f||void 0===f?void 0:f.map((function(e,n){return(0,S.jsx)(Qe,{index:n,overlayHandler:l,item:e,selectedItems:p[e._id],data:a},"prop-".concat(null===e||void 0===e?void 0:e._id))}))}),[f,l,p,a]);return(0,S.jsxs)(We.U.Cell,{padding:"4px 4px 8px",gap:8,className:"PROPERTIES_LIST_CELL",style:{minHeight:h&&(null===h||void 0===h?void 0:h.length)>0?"max-content":50},children:[(0,S.jsx)($e.p,{title:null===r||void 0===r?void 0:r.title,onOpenOverlayPress:function(){l({RenderComponent:Xe,props:{offer:a}})}}),(0,S.jsx)(M.ZP,{fillWidth:!0,gap:8,alignItems:h&&(null===h||void 0===h?void 0:h.length)>0?"stretch":"flex-end",children:(null===f||void 0===f?void 0:f.length)>0?h:(0,S.jsx)(We.U.CellText,{$weight:500,children:(0,Y.t)("undefined")})})]})},gridArea:"properties",tab:yn.Properties},{title:(0,Y.t)("Default values"),CellComponent:function(e){var n=e.data,i=e.cell,t=e.overlayHandler,o=(0,Z.Fg)(),r=null===n||void 0===n?void 0:n.warehouse,l=null===n||void 0===n?void 0:n.supplier,a=null===n||void 0===n?void 0:n.price,d=(0,j.useMemo)((function(){var e,i=null===n||void 0===n?void 0:n.variation;return[{title:(0,Y.t)("Label"),value:null===i||void 0===i?void 0:i.label},{title:(0,Y.t)("Bar-code"),value:null===i||void 0===i?void 0:i.barCode},{title:(0,Y.t)("SKU"),value:null===i||void 0===i?void 0:i.sku},{title:(0,Y.t)("Props q-ty"),value:null===i||void 0===i||null===(e=i.properties)||void 0===e?void 0:e.length}].map((function(e,n){var i;return(0,S.jsxs)(M.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,S.jsx)(I.x,{$size:14,children:"".concat(null===e||void 0===e?void 0:e.title,": ")}),(0,S.jsx)(I.x,{$size:14,$weight:600,$align:"right",children:null!==(i=null===e||void 0===e?void 0:e.value)&&void 0!==i?i:"---"})]},null===e||void 0===e?void 0:e.title)}))}),[null===n||void 0===n?void 0:n.variation]),u=(0,j.useMemo)((function(){return function(e){var n,i,t,o,r,l;return[{title:(0,Y.t)("Input"),amount:(0,cn.pU)(null===e||void 0===e?void 0:e.in)},{title:(0,Y.t)("Output"),amount:(0,cn.pU)(null===e||void 0===e?void 0:e.out)},{title:(0,Y.t)("Commission"),amount:(0,cn.pU)(null===e||void 0===e||null===(n=e.commission)||void 0===n?void 0:n.amount),percentage:null!==e&&void 0!==e&&null!==(i=e.commission)&&void 0!==i&&i.percentage?(0,cn.pU)(null===e||void 0===e||null===(t=e.commission)||void 0===t?void 0:t.percentage):void 0},{title:(0,Y.t)("Markup"),amount:(0,cn.pU)(null===e||void 0===e||null===(o=e.markup)||void 0===o?void 0:o.amount),percentage:null!==e&&void 0!==e&&null!==(r=e.markup)&&void 0!==r&&r.percentage?(0,cn.pU)(null===e||void 0===e||null===(l=e.markup)||void 0===l?void 0:l.percentage):void 0}]}(a).map((function(e,n){return(0,S.jsxs)(M.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,S.jsx)(I.x,{children:"".concat(null===e||void 0===e?void 0:e.title,": ")}),(0,S.jsxs)(I.x,{$weight:600,children:[null===e||void 0===e?void 0:e.amount,(null===e||void 0===e?void 0:e.percentage)&&" | ".concat(null===e||void 0===e?void 0:e.percentage,"%")]})]},null===e||void 0===e?void 0:e.title)}))}),[a]);return(0,S.jsxs)(We.U.Cell,{style:{minHeight:"max-content"},children:[(0,S.jsx)($e.p,{title:null===i||void 0===i?void 0:i.title,onOpenOverlayPress:function(){t({RenderComponent:un})}}),(0,S.jsxs)(M.ZP,{fillWidth:!0,children:[(0,S.jsx)(We.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,Y.t)("warehouse")}),(0,S.jsx)(M.ZP,{fillWidth:!0,flexWrap:"wrap",fxDirection:"row",children:[{label:(0,Y.t)("Label"),value:null===r||void 0===r?void 0:r.label},{label:(0,Y.t)("Code"),value:null===r||void 0===r?void 0:r.code}].map((function(e){return(0,S.jsxs)(M.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,S.jsx)(I.x,{children:"".concat(e.label)}),(0,S.jsx)(I.x,{$weight:600,children:(null===e||void 0===e?void 0:e.value)||"---"})]},e.label)}))})]}),(0,S.jsxs)(M.ZP,{fillWidth:!0,children:[(0,S.jsx)(We.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,Y.t)("supplier")}),[{label:(0,Y.t)("Label"),value:null===l||void 0===l?void 0:l.label},{label:(0,Y.t)("Code"),value:null===l||void 0===l?void 0:l.code}].map((function(e){return(0,S.jsxs)(M.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,S.jsx)(I.x,{children:"".concat(e.label)}),(0,S.jsx)(I.x,{$weight:600,children:(null===e||void 0===e?void 0:e.value)||"---"})]},e.label)}))]}),(0,S.jsxs)(M.ZP,{fillWidth:!0,gap:6,children:[(0,S.jsx)(We.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,Y.t)("variation")}),(0,S.jsx)(M.ZP,{fillWidth:!0,children:d})]}),(0,S.jsxs)(M.ZP,{fillWidth:!0,gap:6,children:[(0,S.jsx)(We.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,Y.t)("price")}),(0,S.jsx)(M.ZP,{fillWidth:!0,children:u})]})]})},gridArea:"defaults",tab:yn.Defaults},{title:(0,Y.t)("Created by / Date / Time"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&e.author?"".concat(null===e||void 0===e||null===(n=e.author)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.email," / ").concat(null!==e&&void 0!==e&&e.createdAt&&(0,Ne.isString)(null===e||void 0===e?void 0:e.createdAt)?(0,U.M7)(Date.parse(null===e||void 0===e?void 0:e.createdAt)):""):null},gridArea:"created",tab:yn.General},{title:(0,Y.t)("Updated by / Date / Time"),getValue:function(e){var n,i;return null!==e&&void 0!==e&&e.editor?"".concat(null===e||void 0===e||null===(n=e.editor)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.email," / ").concat(null!==e&&void 0!==e&&e.updatedAt&&(0,Ne.isString)(null===e||void 0===e?void 0:e.updatedAt)?(0,U.M7)(Date.parse(null===e||void 0===e?void 0:e.updatedAt)):""):null},gridArea:"updated",tab:yn.General},{title:(0,Y.t)("Images"),CellComponent:function(e){var n=e.data,i=e.cell,t=e.overlayHandler,o=(0,j.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.images)||void 0===e?void 0:e.map((function(e,n){return(0,S.jsx)(We.U.ImagesSetBox,{fxDirection:"row",gap:2,overflow:"auto",children:Cn.E_.map((function(n){return(0,S.jsx)(xn.Z,{src:e[n.value]||"",disabled:!0},"img_".concat(n.value))}))},"set_".concat((null===e||void 0===e?void 0:e._id)||n))}))}),[null===n||void 0===n?void 0:n.images]);return(0,S.jsxs)(We.U.Cell,{style:{minHeight:"max-content",padding:"4px 0"},children:[(0,S.jsx)($e.p,{title:null===i||void 0===i?void 0:i.title,onOpenOverlayPress:function(){t({RenderComponent:Zn})}}),(0,S.jsx)(M.ZP,{gap:2,height:"max-content",padding:"8px 0",style:{minHeight:26},children:o})]})},gridArea:"images",tab:yn.Images}];var In,On,Mn=function(e){var n,i=e.className,t=(0,H.Z)(e,wn),o=(0,P.xj)(),r=_().currentOffer,l=(0,Ve.on)(),a=function(){var e={};return Dn.forEach((function(n){var i,t=n.tab;t&&(e[t]?null===(i=e[t])||void 0===i||i.push(n):e[t]=[n])})),e}(),d=(0,j.useState)(yn.General),u=(0,b.Z)(d,2),c=u[0],s=u[1],v=(0,j.useMemo)((function(){var e;return a[c]?null===(e=a[c])||void 0===e?void 0:e.map((function(e){var n=e.CellComponent,i=(0,H.Z)(e,jn);return n?(0,S.jsx)(n,{overlayHandler:l.open,cell:i,data:r},i.title):(0,S.jsx)(Ue.k,{overlayHandler:l.open,cell:i,data:r},i.title)})):null}),[a,c,l.open,r]);return(0,S.jsxs)(Sn,{fillWidth:!0,flex:1,className:i,padding:"0 8px",children:[(0,S.jsx)(z.iw,{title:(0,Y.t)("Offer overview"),onBackPress:o.goBack}),(0,S.jsx)(O.Z,{optionProps:{fitContentH:!0},filterOptions:Pn,onOptSelect:function(e){o.replace({hash:null===e||void 0===e?void 0:e.value}),s(null===e||void 0===e?void 0:e.value)}}),(0,S.jsx)(kn,{fillWidth:!0,flex:1,overflow:"auto",children:v}),(0,S.jsxs)(_n,{fillWidth:!0,fxDirection:"row",gap:6,padding:"6px 0",children:[(0,S.jsx)(Ee.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==t&&void 0!==t&&t.onEdit),onClick:null===t||void 0===t?void 0:t.onEdit}),(0,S.jsx)(Ee.Z,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:null!==t&&void 0!==t&&null!==(n=t.product)&&void 0!==n&&n.visible?"visibilityOn":"visibilityOff",disabled:!(null!==t&&void 0!==t&&t.onHide),onClick:null===t||void 0===t?void 0:t.onHide}),(0,S.jsx)(Bn,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==t&&void 0!==t&&t.onDelete),onClick:null===t||void 0===t?void 0:t.onDelete}),(0,S.jsxs)(M.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,S.jsx)(Ee.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",disabled:!(null!==t&&void 0!==t&&t.onRefresh),onClick:null===t||void 0===t?void 0:t.onRefresh}),(0,S.jsx)(An,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==t&&void 0!==t&&t.onOpenRightSide),onClick:null===t||void 0===t?void 0:t.onOpenRightSide})]})]})]})},Rn=i(9029),Ln=(0,Z.ZP)(M.ZP)(In||(In=(0,g.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),Tn=function(e){var n=e.toggleRightSideVisibility,i=_(),t=En(),o=(0,T.f9)(),r=(0,y.xc)().offers;return(0,S.jsxs)(Ln,{children:[(0,S.jsx)(Mn,{product:null===i||void 0===i?void 0:i.currentOffer,onEdit:function(){var e;i.currentOffer&&o.openModal({Modal:Rn.n.EditOffer,props:{_id:null===i||void 0===i||null===(e=i.currentOffer)||void 0===e?void 0:e._id,title:(0,Y.t)("Edit offer")}})},onRefresh:function(){var e,n;null!==(e=i.currentOffer)&&void 0!==e&&e._id&&r.getOne({data:{params:{_id:null===(n=i.currentOffer)||void 0===n?void 0:n._id,getPrices:!1,getVariations:!1}},onLoading:t.onLoading("offer")})},onOpenRightSide:n}),(0,S.jsx)(Te.j,{})]})},En=function(){return(0,N.un)()},Vn=Z.ZP.div(On||(On=(0,g.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),C.VU),Un=function(e){var n=e.path,i=(0,ee.J)({offer:{content:(0,Y.t)("Loading product info")},prices:{content:"Loading prices"},variations:{content:"Loading variations"}}),t=(0,j.useState)(!1),o=(0,b.Z)(t,2),r=o[0],l=o[1],a=(0,j.useCallback)((function(){l((function(e){return!e}))}),[]);return(0,S.jsx)(N.f4,{value:i,children:(0,S.jsx)(B,{children:(0,S.jsx)(Ve.ZP,{children:(0,S.jsx)(w.default,{path:n,children:(0,S.jsxs)(Vn,{children:[(0,S.jsx)(Tn,{toggleRightSideVisibility:a}),(0,S.jsx)(Le,{isVisible:r,toggleVisibility:a})]})})})})})}},8495:function(e,n,i){i.d(n,{SI:function(){return u},VU:function(){return d}});var t,o,r,l=i(168),a=i(2360),d=(0,a.iv)(t||(t=(0,l.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),u=(0,a.iv)(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,a.iv)(r||(r=(0,l.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(e,n,i){i.d(n,{U:function(){return Z}});var t,o,r,l,a,d,u,c=i(168),s=i(2360),v=i(8095),f=i(6492),p=s.ZP.button(t||(t=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.modalBorderColor})),h=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor})),m=(0,s.ZP)(v.ZP)(r||(r=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fieldBackgroundColor}),(function(e){return e.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(l||(l=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(e){return e.$isTitle||e.$disabled?e.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.fieldBackgroundColor})),Z={CategoryItem:(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.field.backgroundColor}),(function(e){return e.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:m,HeaderButton:p,Cell:h,DefaultTag:b}},6493:function(e,n,i){i.d(n,{p:function(){return a}});var t=i(6522),o=i(8095),r=(i(2791),i(6753)),l=i(3329),a=function(e){var n=e.title,i=void 0===n?"Title":n,a=e.openOverlayButtonTitle,d=void 0===a?(0,t.t)("Change"):a,u=e.onOpenOverlayPress,c=e.editButtonText,s=void 0===c?(0,t.t)("Change"):c,v=e.onEditPress,f=e.acceptButtonText,p=void 0===f?(0,t.t)("Ok"):f,h=e.onAcceptPress,m=e.editMode,x=void 0!==m&&m,g=e.canAccept,b=void 0!==g&&g,Z=e.cancelButtonText,C=void 0===Z?(0,t.t)("Cancel"):Z,w=e.onCancelPress;return(0,l.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,l.jsx)(r.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:i}),u&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:u,children:d}),!x&&v&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:v,children:s}),x&&w&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:w,children:C}),x&&h&&(0,l.jsx)(r.U.HeaderButton,{type:"button",disabled:!b,onClick:h,children:p})]})}},5227:function(e,n,i){i.d(n,{k:function(){return d}});var t=i(8095),o=i(6522),r=i(2791),l=i(6753),a=i(3329),d=function(e){var n=e.cell,i=e.data,d=(0,r.useMemo)((function(){return n.getValue?n.getValue(i):null}),[n,i]);return(0,a.jsxs)(l.U.Cell,{children:[(0,a.jsx)(l.U.CellText,{$isTitle:!0,$size:12,children:null===n||void 0===n?void 0:n.title}),(0,a.jsx)(t.ZP,{fillWidth:!0,flex:1,fxDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:24},children:(0,a.jsx)(l.U.CellText,{$isTitle:!d,$weight:500,children:d||(0,o.t)("undefined")})})]})}},758:function(e,n,i){i.d(n,{A7:function(){return r},QX:function(){return l},fK:function(){return d}});var t=i(6522),o=i(8382),r=[{top:{name:(0,t.t)("label"),getData:function(e){return e.label}},bottom:{name:(0,t.t)("code"),getData:function(e){return e.code}},width:"220px",action:"valueByPath"},{top:{name:(0,t.t)("type"),getData:function(e){return null===e||void 0===e?void 0:e.type}},width:"125px",action:"valueByPath"},{top:{name:(0,t.t)("email"),path:"email"},bottom:{name:(0,t.t)("phone"),path:"phone"},width:"180px",action:"contacts"},{top:{name:(0,t.t)("Address"),getData:function(e){return e.address||"\u043d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}},bottom:{name:"".concat((0,t.t)("longitude"),"/").concat((0,t.t)("latitude")),getData:function(e){var n,i;return"".concat(((null===(n=e.location)||void 0===n?void 0:n.longitude)||"---")+", "+((null===(i=e.location)||void 0===i?void 0:i.latitude)||"---"))}},width:"175px",action:"valueByPath"},{top:{name:(0,t.t)("Manager"),getData:function(e){var n,i;return"".concat((null===(n=e.manager)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.name)||"---")}},bottom:{name:(0,t.t)("email"),getData:function(e){var n,i;return"".concat((null===(n=e.manager)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.email)||"---")}},width:"150px",action:"valueByPath"},{top:{name:(0,t.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,t.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}],l=[{top:{name:(0,t.t)("variationLabel"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},getImgPreview:function(e){var n,i,t;return null!==(n=e.offer)&&void 0!==n&&n.images?null===(i=e.offer)||void 0===i||null===(t=i.images[0])||void 0===t?void 0:t.img_preview:""},width:"270px",action:"doubleDataWithAvatar"},{top:{name:(0,t.t)("sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},bottom:{name:(0,t.t)("barCode"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,t.t)("type"),path:"type"},bottom:{name:(0,t.t)("status"),path:"status"},width:"120px",action:"status"},{top:{name:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c",align:"end",getData:function(e){return e.stock||0}},bottom:{name:"\u0420\u0435\u0437\u0435\u0440\u0432",align:"end",getData:function(e){return e.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u0447\u0456\u043a\u0443\u0454\u0442\u044c\u0441\u044f",align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.awaiting)||0}},bottom:{name:"\u0412\u0442\u0440\u0430\u0447\u0435\u043d\u043e",align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,t.t)("warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,t.t)("code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:"\u041e\u043f\u0438\u0441",path:"description"},width:"190px",action:"valueByPath"},{top:{name:"\u0410\u0432\u0442\u043e\u0440",path:"author.name"},bottom:{name:"\u0415\u043c\u0435\u0439\u043b",path:"author.email"},width:"190px",action:"valueByPath"},{top:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},bottom:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},width:"150px",action:"dateSimple"}],a=[{top:{name:(0,t.t)("Price OUT"),align:"end",getData:function(e){var n;return(0,o.__)(Number((null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.in)||0))}},bottom:{name:(0,t.t)("Price IN"),align:"end",getData:function(e){var n;return(0,o.__)(Number((null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.out)||0))}},width:"170px",action:"valueByPath"},{top:{name:(0,t.t)("comment"),align:"start",path:"description"},width:"150px",action:"valueByPath"}],d=[{top:{name:(0,t.t)("batch")},width:"150px",action:"valueByPath"},{top:{name:(0,t.t)("warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,t.t)("code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:(0,t.t)("Stock"),align:"end",getData:function(e){return e.stock||0}},bottom:{name:(0,t.t)("Reserved"),align:"end",getData:function(e){return e.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:(0,t.t)("Awaiting"),align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.awaiting)||0}},bottom:{name:(0,t.t)("Lost"),align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,t.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,t.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}].concat(a)}}]);
//# sourceMappingURL=807.46e2976c.chunk.js.map