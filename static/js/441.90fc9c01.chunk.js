"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[441,487],{8495:function(e,t,i){i.d(t,{SI:function(){return s},VU:function(){return c}});var n,o,r,l=i(168),a=i(2360),c=(0,a.iv)(n||(n=(0,l.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),s=(0,a.iv)(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,a.iv)(r||(r=(0,l.Z)(["\n  outline: 1px solid tomato;\n"])))},9441:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var n,o=i(168),r=i(1413),l=i(9439),a=i(3363),c=i(8495),s=i(2360),d=i(2791),u=i(9322),f=i(7348),p=i(8314),h=i(4165),Z=i(5861),m=i(5188),v=function(e){return e.PURCHASES="purchases",e.SALES="sales",e}({}),P=i(9806),S=i(9085),x=(i(763),i(6211),i(8332)),b=i(7689),y=(0,i(8553).H1)(v),g=function(){var e=(0,m.f9)(),t=(0,x.xc)()[x.EJ.priceManagement],i=(0,b.s0)();return(0,d.useCallback)((function(n){var o=n.selectedRow;return[{name:"openPriceList",title:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438",icon:"openInNew",iconSize:"90%",type:"onlyIcon",disabled:!(null!==o&&void 0!==o&&o._id),onClick:function(){(null===o||void 0===o?void 0:o._id)&&i("".concat(null===o||void 0===o?void 0:o._id))}},{name:"editPriceList",title:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon:"edit",iconSize:"90%",type:"onlyIcon",disabled:!0},{name:"copyPriceList",title:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438",icon:"copy",iconSize:"90%",type:"onlyIcon",disabled:!0},{name:"archivePriceList",title:"\u0410\u0440\u0445\u0456\u0432",icon:"archive",iconSize:"90%",type:"onlyIcon",disabled:!0},{separator:!0},{name:"createPriceList",title:"\u041d\u043e\u0432\u0438\u0439",icon:"plus",iconSize:"90%",type:"onlyIconFilled",disabled:!1,onClick:function(){var i=(0,Z.Z)((0,h.Z)().mark((function i(){var n;return(0,h.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=e.handleOpenModal({ModalChildren:P.default,modalChildrenProps:{filterOptions:y,defaultData:{type:"purchases"},onSubmit:function(e,i){t.createList({data:e,onSuccess:function(e){(null===i||void 0===i?void 0:i.onSuccess)&&(null===i||void 0===i||i.onSuccess(e)),(null===i||void 0===i?void 0:i.closeAfterSave)&&(null===n||void 0===n||n.onClose()),S.Am.success("Created price list: ".concat(e.label))}})}}});case 1:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()}]}),[e,i,t])},j=i(6981),C=i(3329),_=s.ZP.div(n||(n=(0,o.Z)(["\n  ","\n"])),c.VU),k=function(e){var t=(0,p.Z)(),i=(0,f.N_)(),n=(0,b.s0)(),o=t.getAll,c=g(),s=(0,d.useState)(!1),h=(0,l.Z)(s,2),Z=h[0],m=h[1],v=(0,d.useState)(),P=(0,l.Z)(v,2),S=P[0],x=P[1],y=(0,d.useState)(),k=(0,l.Z)(y,2),L=k[0],w=k[1],A=(0,d.useMemo)((function(){return{tableData:i.lists,tableTitles:j.QJ,isFilter:!1,isSearch:!0,footer:!1,checkBoxes:!0,actionsCreator:c,onRowDoubleClick:function(e){(null===e||void 0===e?void 0:e._id)&&n("".concat(null===e||void 0===e?void 0:e._id))},onFilterSubmit:function(e){w(e),o({data:{refresh:!0,query:{filterParams:e,sortParams:S}},onLoading:m}).then()},handleTableSort:function(e,t){x({dataPath:e.dataPath,sortOrder:t}),o({data:{refresh:!0,query:{sortParams:{dataPath:e.dataPath,sortOrder:t},filterParams:L}},onLoading:m}).then()}}}),[c,L,o,n,S,i.lists]);return(0,d.useEffect)((function(){S||L||S||L||0===i.lists.length&&o({data:{refresh:!0},onLoading:m,onSuccess:function(e){console.log("PagePriceManagement onSuccess getAll")}})}),[L,o,S,i.lists.length]),(0,C.jsx)(u.default,{path:e.path,children:(0,C.jsx)(_,{children:(0,C.jsx)(a.ZP,(0,r.Z)((0,r.Z)({},A),{},{isLoading:Z}))})})}},9806:function(e,t,i){i.r(t);var n=i(1413),o=i(9439),r=i(4925),l=i(9656),a=i(7426),c=i(763),s=i(8095),d=i(4990),u=i(6681),f=i(6522),p=i(4475),h=i(2791),Z=i(6757),m=i(4343),v=i(3329),P=["filterOptions","onSubmit","defaultData","edit"];t.default=function(e){var t=e.filterOptions,i=e.onSubmit,S=e.defaultData,x=(e.edit,(0,r.Z)(e,P)),b=(0,Z.d)(),y=(0,h.useState)(!1),g=(0,o.Z)(y,1)[0],j=(0,a.hN)({defaultValues:(0,c.omit)(S,["createdAt","updatedAt","_id"])}),C=j.formState,_=C.errors,k=C.isValid,L=j.register,w=j.setValue,A=j.handleSubmit;return(0,v.jsx)(l.Z,(0,n.Z)((0,n.Z)({isValid:k,onSubmit:A((function(e){return i&&i({data:e,_id:null===S||void 0===S?void 0:S._id},{closeAfterSave:b.state.close,onSuccess:function(e){},onError:function(){}})})),title:"Create price list"},x),{},{fitContentV:!0,filterOptions:t,defaultFilterValue:null===S||void 0===S?void 0:S.type,onOptSelect:function(e,t){w("type",t)},extraFooter:(0,v.jsxs)(s.ZP,{fxDirection:"column",fillWidth:!0,children:[g&&(0,v.jsx)(p.Z,{buttonText:"Add prices",onClick:function(){}}),(0,v.jsx)(Z.Z,(0,n.Z)({},b))]}),children:(0,v.jsxs)(s.ZP,{fxDirection:"column",gap:4,padding:"8px 16px 16px",children:[(0,v.jsx)(d.Z,{label:(0,f.ZP)("label"),direction:"vertical",error:_.label,required:!0,children:(0,v.jsx)(u.ZP,(0,n.Z)((0,n.Z)({placeholder:(0,f.ZP)("label")},L("label")),{},{required:!0,autoFocus:!0}))}),(0,v.jsxs)(s.ZP,{fxDirection:"row",gap:16,children:[(0,v.jsx)(d.Z,{label:(0,f.ZP)("timeFrom"),direction:"vertical",error:_.timeFrom,required:!0,children:(0,v.jsx)(u.ZP,(0,n.Z)({placeholder:(0,f.ZP)("timeFrom"),type:"datetime-local"},L("timeFrom")))}),(0,v.jsx)(d.Z,{label:(0,f.ZP)("timeTo"),direction:"vertical",error:_.timeTo,required:!0,children:(0,v.jsx)(u.ZP,(0,n.Z)({placeholder:(0,f.ZP)("timeTo"),type:"datetime-local"},L("timeTo")))})]}),(0,v.jsx)(d.Z,{label:(0,f.ZP)("description"),direction:"vertical",error:_.description,children:(0,v.jsx)(m.Z,(0,n.Z)({placeholder:(0,f.ZP)("description")},L("description")))})]})}))}}}]);
//# sourceMappingURL=441.90fc9c01.chunk.js.map