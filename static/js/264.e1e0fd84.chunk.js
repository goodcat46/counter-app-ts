"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[264],{7264:function(e,o,a){a.r(o);var i=a(1413),d=a(6600),t=a(8050),f=a(6522),l=a(8382),n=a(2791),r=a(3691),u=a(4826),s=a(9701),v=a(8095),c=a(6653),p=a(6492),m=a(9953),D=a(3383),_=a(9541),x=a(7578),h=a(7109),j=a(2913),g=a(2353),Z=a(8376),b=a(3023),y=a(3329);o.default=function(e){var o,a,V,C,S,k,I,L,O,T,A,P,w,G=e.onClose,H=e._id,R=e.copy,U=(0,Z.G2)({_id:H}),q=(0,j.Z)(),z=(0,_.J)({offer_refresh:{content:"Refreshing..."},offer_update:{content:"Updating..."}},{formData:U?(0,l.xT)(U):{type:r.iv.GOODS}}),B=z.setData,E=z.state,F=R?null===(o=E.formData)||void 0===o?void 0:o._id:H,J=(0,Z.xj)();return(0,n.useEffect)((function(){q.getProductFullInfo({data:{_id:H},onSuccess:z.onSuccess("offer_refresh",(function(e){R&&(e._id=""),B("formData",(0,l.xT)(e)),J.push({query:{offerId:H}})})),onLoading:z.onLoading("offer_refresh")})}),[H,R]),(0,y.jsx)(t.Z,{fillHeight:!0,title:R?(0,f.t)("Copy offer"):(0,f.t)("Update offer"),onClose:G,extraHeader:(0,y.jsx)(m.Z,{filterOptions:D.jI,defaultValue:null!==(a=null===E||void 0===E||null===(V=E.formData)||void 0===V?void 0:V.type)&&void 0!==a?a:void 0,preventDefault:!0,onOptSelect:function(e){B("formData",(function(o){return(0,i.Z)((0,i.Z)({},o),{},{type:e.value})}))}}),children:(0,y.jsx)(x.f4,{value:z,children:null!==(C=z.isLoading)&&void 0!==C&&C.offer?(0,y.jsxs)(v.ZP,{fillWidth:!0,padding:"24px",alignItems:"center",gap:16,children:[(0,y.jsx)(c.$,{size:52}),(0,y.jsx)(p.x,{children:(0,f.t)("Loading info about offer...")})]}):(0,y.jsxs)(v.ZP,{padding:"0 8px 16px",children:[(0,y.jsx)(s.B,{_id:F,edit:!R,type:null===(S=E.formData)||void 0===S?void 0:S.type,defaultValues:null===E||void 0===E?void 0:E.formData,onSuccess:function(e){B("formData",R?(0,i.Z)((0,i.Z)({},(0,l.xT)(e)),{},{_id:e._id}):(0,l.xT)(e))}}),(0,y.jsx)(b.A,{_id:F,offer:U,defaultValues:null===(k=E.formData)||void 0===k?void 0:k.categories,disabled:!E.formData}),(0,y.jsx)(h.R,{_id:F,offer:U,defaultValues:null===(I=E.formData)||void 0===I?void 0:I.properties,disabled:!E.formData}),(0,y.jsx)(g.A,{offer:U,defaultValues:null===E||void 0===E||null===(L=E.formData)||void 0===L?void 0:L.images,disabled:!(null!==E&&void 0!==E&&E.formData),_id:R?null===E||void 0===E||null===(O=E.formData)||void 0===O?void 0:O._id:H}),(0,y.jsx)(d.A,{offer:U,defaultValues:null===(T=E.formData)||void 0===T?void 0:T.dimensions,disabled:R?!(null!==(A=E.formData)&&void 0!==A&&A._id&&E.formData):!H,_id:F}),(0,y.jsx)(u.n,{offer:U,defaultValues:null===(P=E.formData)||void 0===P?void 0:P.measurement,disabled:R?!(null!==(w=E.formData)&&void 0!==w&&w._id&&E.formData):!H,_id:F})]})})})}}}]);
//# sourceMappingURL=264.e1e0fd84.chunk.js.map