"use strict";(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[989,495],{2483:function(n,e,t){t.d(e,{j:function(){return f}});var i,o,l=t(168),r=t(1413),a=t(4781),d=t(2791),u=t(2360),c=t(8095),s=t(3329),v=(0,d.createContext)({}),f=function(n){var e=(0,a.on)(),t=(0,d.useCallback)((function(n){return function(t){t.target===t.currentTarget&&e.remove(n)}}),[e]),i=(0,d.useMemo)((function(){return e.getStack().map((function(n,i){var o=n.RenderComponent,l=n.props,a=n.id;return(0,s.jsx)(m,{className:"overlay-".concat(a),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(a),children:(0,s.jsx)(v.Provider,{value:{onClose:function(){e.remove(a)},compId:a,index:i},children:(0,s.jsx)(o,(0,r.Z)((0,r.Z)({},l),{},{onClose:function(){e.remove(a)},compId:a,index:i}),"overlay-".concat(a))})},"overlay-".concat(a))}))}),[t,e]);return(0,s.jsx)(p,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},p=(0,u.ZP)(c.ZP)(i||(i=(0,l.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(n){return n.isActive?0:"100%"}),(function(n){return n.isActive?1:0}),(function(n){return n.isActive?"visible":"hidden"}),(function(n){return n.isActive?"all":"none"}),(function(n){return n.theme.backdropColorDark}),(function(n){return n.theme.globals.timingFunctionMain})),m=(0,u.ZP)(c.ZP)(o||(o=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  height: 100%;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(n,e,t){t.d(e,{on:function(){return c}});var i=t(1413),o=t(3433),l=t(9439),r=t(2791),a=t(6382),d=t(3329),u=(0,r.createContext)({}),c=function(){return(0,r.useContext)(u)};e.ZP=function(n){var e=n.children,t=(0,r.useState)([]),c=(0,l.Z)(t,2),s=c[0],v=c[1],f=(0,r.useCallback)((function(n){v((function(e){return e.filter((function(e){return e.id!==n}))}))}),[]),p=(0,r.useCallback)((function(){v([])}),[]),m=(0,r.useCallback)((function(n){var e="".concat(n.RenderComponent.name,"_").concat((0,a.x0)(8));return"function"===typeof n.RenderComponent&&v((function(t){var l=t.find((function(e){return e.id.includes(n.RenderComponent.name)}));if(l){var r=t.filter((function(n){var e,t;return(null===(e=n.RenderComponent)||void 0===e?void 0:e.name)!==(null===(t=l.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(r),[(0,i.Z)((0,i.Z)({},n),{},{id:e})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},n),{},{id:e})])})),{onClose:function(){return f(e)},compId:e}}),[f]),h={getStack:function(){return s},remove:f,clearStack:p,open:m,create:function(n,e){return m({RenderComponent:n,props:e})}};return(0,d.jsx)(u.Provider,{value:h,children:e})}},8350:function(n,e,t){t.r(e),t.d(e,{default:function(){return gn}});var i,o,l,r,a,d,u=t(168),c=t(9439),s=t(2791),v=t(2360),f=t(8495),p=t(6146),m=t(2989),h=t(4781),x=t(8095),g=t(7348),b=t(1819),C=t(2483),Z=t(1251),y=t(7689),P=t(2928),j=t(6522),w=t(959),D=t(9953),k=t(4925),B=t(5227),S=t(6753),I=t(6493),T=t(6492),A=t(3329),R=function(n){var e=n.cell,t=n.data,i=(0,s.useMemo)((function(){var n,e,i,o,l,r=null===t||void 0===t?void 0:t.customer;return[{label:(0,j.t)("First name"),value:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.first,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,j.t)("Second name"),value:null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.second,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,j.t)("Middle name"),value:null===r||void 0===r||null===(i=r.name)||void 0===i?void 0:i.middle,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,j.t)("Base label"),value:null===r||void 0===r||null===(o=r.name)||void 0===o?void 0:o.first,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,j.t)("Print"),value:null===r||void 0===r||null===(l=r.name)||void 0===l?void 0:l.second,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,j.t)("Email"),value:null===r||void 0===r?void 0:r.email,visible:!0},{label:(0,j.t)("Phone"),value:null===r||void 0===r?void 0:r.phone,visible:!0},{label:(0,j.t)("Business type"),value:null===r||void 0===r?void 0:r.businessType,visible:!0},{label:(0,j.t)("Sex type"),value:null===r||void 0===r?void 0:r.sexType,visible:!0},{label:(0,j.t)("Engagement type"),value:null===r||void 0===r?void 0:r.engagementSource,visible:!0},{label:(0,j.t)("Age"),value:null===r||void 0===r?void 0:r.age,visible:!0},{label:(0,j.t)("Tags"),value:null,visible:!0}].map((function(n){var e;return n.visible&&(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===n||void 0===n?void 0:n.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(e=null===n||void 0===n?void 0:n.value)&&void 0!==e?e:(0,j.t)("undefined")})]},n.label)}))}),[null===t||void 0===t?void 0:t.customer]);return(0,A.jsxs)(S.U.Cell,{children:[(null===e||void 0===e?void 0:e.title)&&(0,A.jsx)(I.p,{title:null===e||void 0===e?void 0:e.title}),i]})},z=["CellComponent"],O=function(n){return n.General="General",n.Customer="Customer",n.Invoicing="Invoicing",n.Delivery="Delivery",n.Additional="Additional",n}(O||{}),$=(0,w.Dl)(O),V=(0,v.ZP)(x.ZP)(i||(i=(0,u.Z)([""]))),M=function(n){var e=(0,h.on)(),t=(0,g.xA)().currentOrder,i=(0,s.useState)(O.General),o=(0,c.Z)(i,2),l=o[0],r=o[1],a=function(){var n={};return U.forEach((function(e){var t,i=e.tab;i&&(n[i]?null===(t=n[i])||void 0===t||t.push(e):n[i]=[e])})),n}(),d=(0,s.useMemo)((function(){var n;return a[l]?null===(n=a[l])||void 0===n?void 0:n.map((function(n){var i=n.CellComponent,o=(0,k.Z)(n,z);return i?(0,A.jsx)(i,{overlayHandler:e.open,cell:o,data:t},o.title):(0,A.jsx)(B.k,{overlayHandler:e.open,cell:o,data:t},o.title)})):null}),[a,l,e.open,t]);return(0,A.jsxs)(V,{fillWidth:!0,flex:1,overflow:"auto",children:[(0,A.jsx)(D.Z,{optionProps:{fitContentH:!0},options:$,onOptSelect:function(n){r(null===n||void 0===n?void 0:n.value)}}),d]})},U=[{title:(0,j.t)("Manager"),getValue:function(n){var e,t;return null===n||void 0===n||null===(e=n.manager)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.email},tab:O.General},{title:(0,j.t)("Reference"),getValue:function(n){var e;return null===n||void 0===n||null===(e=n.reference)||void 0===e?void 0:e.internal},tab:O.General},{title:(0,j.t)("Group reference"),getValue:function(n){var e,t;return null===n||void 0===n||null===(e=n.group)||void 0===e||null===(t=e.reference)||void 0===t?void 0:t.internal},tab:O.General},{title:(0,j.t)("Group strategy"),getValue:function(n){var e;return null===n||void 0===n||null===(e=n.group)||void 0===e?void 0:e.strategy},tab:O.General},{title:(0,j.t)("Totals"),CellComponent:function(n){var e,t,i=n.data,o=n.cell,l=(0,s.useMemo)((function(){var n,e;return[{label:(0,j.t)("Amount"),value:(0,w.__)(null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.amount)},{label:(0,j.t)("Items count"),value:null===i||void 0===i||null===(e=i.total)||void 0===e?void 0:e.items}].map((function(n){return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",justifyContent:"space-between",fillWidth:!0,gap:8,children:[(0,A.jsx)(T.x,{$size:11,children:n.label}),(0,A.jsx)(S.U.CellText,{$weight:600,children:null===n||void 0===n?void 0:n.value})]})}))}),[null===i||void 0===i||null===(e=i.total)||void 0===e?void 0:e.amount,null===i||void 0===i||null===(t=i.total)||void 0===t?void 0:t.items]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:o.title}),l]})},tab:O.General},{title:(0,j.t)("Status"),getValue:function(n){return null===n||void 0===n?void 0:n.status},tab:O.General},{CellComponent:R,tab:O.Customer},{title:(0,j.t)("Receiver"),CellComponent:R,tab:O.Delivery},{title:(0,j.t)("Invoicing"),CellComponent:function(n){n.cell;var e,t=n.data,i=(0,s.useMemo)((function(){var n;return[{label:(0,j.t)("Count"),value:null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length}].map((function(n){var e;return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===n||void 0===n?void 0:n.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(e=null===n||void 0===n?void 0:n.value)&&void 0!==e?e:(0,j.t)("undefined")})]},n.label)}))}),[null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:(0,j.t)("General info")}),i]})},tab:O.Invoicing},{title:(0,j.t)("Delivery"),CellComponent:function(n){n.cell;var e,t=n.data,i=(0,s.useMemo)((function(){var n;return[{label:(0,j.t)("Count"),value:null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length}].map((function(n){var e;return(0,A.jsxs)(x.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(T.x,{$size:11,children:null===n||void 0===n?void 0:n.label}),(0,A.jsx)(T.x,{$size:13,$weight:500,children:null!==(e=null===n||void 0===n?void 0:n.value)&&void 0!==e?e:(0,j.t)("undefined")})]},n.label)}))}),[null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length]);return(0,A.jsxs)(S.U.Cell,{children:[(0,A.jsx)(I.p,{title:(0,j.t)("General info")}),i]})},tab:O.Delivery},{title:(0,j.t)("Additional"),tab:O.Additional}];var H,E,G,W,_=function(n){return n.info="Info",n.chat="Chat",n.statuses="Statuses",n.comments="Comments",n.tasks="tasks",n}({}),L=(0,w.H1)(_),F=(0,v.ZP)(x.ZP)(o||(o=(0,u.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(n){return n.theme.sideBarBackgroundColor})),q=(0,v.ZP)(x.ZP)(l||(l=(0,u.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.sideBarBorderColor}),(function(n){return n.theme.sideBarBorderColor})),K=(0,v.ZP)(x.ZP)(r||(r=(0,u.Z)([""]))),N=(0,v.ZP)(P.ZP)(a||(a=(0,u.Z)(["\n  fill: ",";\n"])),(function(n){return n.theme.globals.colors.error})),X=(0,v.ZP)(P.ZP)(d||(d=(0,u.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),J=function(n){var e,t=(0,s.useState)(0),i=(0,c.Z)(t,2),o=i[0],l=i[1],r=null===(e=(0,m.Zx)())||void 0===e?void 0:e.orderId,a=(0,g.xA)().currentOrder,d=(0,y.s0)(),u=(0,y.TH)(),v=(0,s.useMemo)((function(){return L[o].value===_.info?(0,A.jsx)(M,{}):null}),[o]);return(0,A.jsxs)(F,{flex:1,fillWidth:!0,padding:"0 8px",children:[(0,A.jsx)(Z.xB,{title:(0,j.t)("Order overview"),onBackPress:function(){if(null!==u&&void 0!==u&&u.pathname){var n,e=null===u||void 0===u||null===(n=u.pathname)||void 0===n?void 0:n.replace("/".concat((null===a||void 0===a?void 0:a._id)||r),"");e&&d(e)}}}),(0,A.jsxs)(q,{flex:1,fillWidth:!0,overflow:"auto",children:[(0,A.jsx)(D.Z,{options:L,optionProps:{fitContentH:!0},onOptSelect:function(n,e,t){return l(t)}}),v]}),(0,A.jsxs)(K,{fxDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"8px 0",children:[(0,A.jsx)(P.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==n&&void 0!==n&&n.onEdit),onClick:null===n||void 0===n?void 0:n.onEdit}),(0,A.jsx)(N,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==n&&void 0!==n&&n.onDelete),onClick:null===n||void 0===n?void 0:n.onDelete}),(0,A.jsxs)(x.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,A.jsx)(P.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",isLoading:null===n||void 0===n?void 0:n.isRefresh,disabled:!(null!==n&&void 0!==n&&n.onRefresh),onClick:null===n||void 0===n?void 0:n.onRefresh}),(0,A.jsx)(X,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==n&&void 0!==n&&n.onOpenRightSide),onClick:null===n||void 0===n?void 0:n.onOpenRightSide})]})]})]})},Q=(0,v.ZP)(x.ZP)(H||(H=(0,u.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor})),Y=function(n){var e=n.toggleRightSideVisibility,t=(0,g.xA)().currentOrder,i=(0,s.useState)(!1)[1],o=(0,b.xc)().orders;return(0,A.jsxs)(Q,{children:[(0,A.jsx)(J,{order:t,onRefresh:function(){(null===t||void 0===t?void 0:t._id)&&o.getById({data:{_id:null===t||void 0===t?void 0:t._id,options:{refreshCurrent:!0}},onLoading:i})},onOpenRightSide:e}),(0,A.jsx)(C.j,{})]})},nn=t(1413),en=t(8589),tn=t(2517),on=t(3383),ln=t(7824),rn=function(n){var e=(0,b.xc)()[ln.d.orders],t=(0,s.useState)(!1),i=(0,c.Z)(t,2),o=i[0],l=i[1],r=(0,s.useState)(0),a=(0,c.Z)(r,2),d=a[0],u=a[1],v=(0,g.xA)().currentOrder,f=(0,s.useMemo)((function(){var n;return null===v||void 0===v||null===(n=v.slots)||void 0===n?void 0:n.filter((function(n){var e,t;return(null===(e=n.product)||void 0===e?void 0:e.type)===(null===(t=on.LC[d])||void 0===t?void 0:t.value)}))}),[null===v||void 0===v?void 0:v.slots,d]),p=(0,s.useMemo)((function(){return{actionsCreator:function(n){return[{icon:"refresh",name:"refresh",onClick:function(){null!==v&&void 0!==v&&v._id&&e.getSlots({data:{params:{order:(0,w.rE)(v)}},onLoading:l})}}]}}}),[v,e]);return(0,s.useEffect)((function(){null!==v&&void 0!==v&&v._id&&e.getSlots({data:{params:{order:(0,w.rE)(v)}}})}),[]),(0,A.jsxs)(x.ZP,{fillWidth:!0,overflow:"hidden",flex:1,children:[(0,A.jsx)(x.ZP,{fillWidth:!0,children:(0,A.jsx)(D.Z,{options:on.LC,currentIndex:d,onOptSelect:function(n,e,t){u(t)}})}),(0,A.jsx)(en.ZP,(0,nn.Z)((0,nn.Z)({hasSearch:!1,hasFilter:!1},p),{},{tableData:f,isLoading:o,tableTitles:tn.$4}))]})},an=t(7946),dn=function(n){var e=n.order,t=(0,g.xA)(),i=null!==e&&void 0!==e?e:null===t||void 0===t?void 0:t.currentOrder,o=(0,b.xc)().get(ln.d.orders),l=(0,s.useState)(!1),r=(0,c.Z)(l,2),a=r[0],d=r[1],u=(0,s.useMemo)((function(){return{actionsCreator:function(n){return[{name:"refresh",icon:"refresh",onClick:function(){null!==i&&void 0!==i&&i._id&&o.getInvoicesByOrderId({data:{params:{order:(0,w.rE)(i)}}})}}]}}}),[i,o]);return(0,s.useEffect)((function(){null!==i&&void 0!==i&&i._id&&o.getInvoicesByOrderId({data:{params:{order:(0,w.rE)(i)}},onLoading:d})}),[]),(0,A.jsx)(en.ZP,(0,nn.Z)((0,nn.Z)({},u),{},{hasSearch:!1,hasFilter:!1,isLoading:a,tableData:null===i||void 0===i?void 0:i.invoices,tableTitles:an.x}))},un=function(){return(0,A.jsx)(en.ZP,{hasSearch:!1,hasFilter:!1})},cn=function(n){return n.Content="Content",n.Invoices="Invoices",n.Payments="Payments",n}(cn||{}),sn=(0,w.H1)(cn),vn=(0,v.ZP)(x.ZP)(E||(E=(0,u.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.25);\n  }\n"])),(function(n){return n.theme.globals.timingFunctionMain}),(function(n){return n.theme.backgroundColorLight}),(function(n){return n.isVisible?0:100})),fn=(0,v.ZP)(x.ZP)(G||(G=(0,u.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n  border-bottom: 1px solid ",";\n"])),(function(n){return n.theme.modalBorderColor})),pn=function(n){var e,t=n.toggleVisibility,i=n.isVisible,o=null===(e=(0,m.Zx)())||void 0===e?void 0:e.orderId,l=(0,g.xA)().currentOrder,r=(0,s.useState)(cn.Content),a=(0,c.Z)(r,2),d=a[0],u=a[1],v=(0,s.useMemo)((function(){return d===cn.Content?(0,A.jsx)(rn,{}):d===cn.Invoices?(0,A.jsx)(dn,{}):d===cn.Payments?(0,A.jsx)(un,{}):void 0}),[d]);return(0,A.jsxs)(vn,{overflow:"hidden",fillHeight:!0,isVisible:i,children:[(0,A.jsxs)(fn,{fillWidth:!0,gap:4,isVisible:i,fxDirection:"row",justifyContent:"space-between",children:[(0,A.jsx)(P.ZP,{variant:"textExtraSmall",icon:"SmallArrowLeft",style:{padding:6},onClick:t,children:"Back"}),(0,A.jsxs)(x.ZP,{padding:"0 8px",children:[(0,A.jsx)(T.x,{$weight:600,$size:14,children:null===l||void 0===l?void 0:l.code}),(0,A.jsx)(T.x,{$size:10,children:o})]})]}),(0,A.jsx)(x.ZP,{children:(0,A.jsx)(D.Z,{options:sn,defaultValue:d,onOptSelect:function(n,e,t){u(e)},preventDefault:!0})}),v]})},mn=(0,s.createContext)({}),hn=function(n){var e=n.children,t=(0,g.xA)().currentOrder,i=(0,s.useMemo)((function(){return{currentOrder:t}}),[t]);return(0,A.jsx)(mn.Provider,{value:i,children:e})},xn=v.ZP.div(W||(W=(0,u.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),f.VU),gn=function(n){var e=n.path,t=(0,b.xc)()[ln.d.orders],i=(0,s.useState)(!1),o=(0,c.Z)(i,2),l=o[0],r=o[1],a=(0,m.Zx)().orderId,d=(0,s.useCallback)((function(){r((function(n){return!n}))}),[]);return(0,s.useEffect)((function(){a&&t.getById({data:{_id:a,options:{refreshCurrent:!0}}})}),[a,t]),(0,A.jsx)(p.vI,{path:e,children:(0,A.jsx)(hn,{children:(0,A.jsx)(h.ZP,{children:(0,A.jsxs)(xn,{children:[(0,A.jsx)(Y,{toggleRightSideVisibility:d}),(0,A.jsx)(pn,{toggleVisibility:d,isVisible:l})]})})})})}},8495:function(n,e,t){t.d(e,{SI:function(){return u},VU:function(){return d}});var i,o,l,r=t(168),a=t(2360),d=(0,a.iv)(i||(i=(0,r.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),u=(0,a.iv)(o||(o=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,a.iv)(l||(l=(0,r.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(n,e,t){t.d(e,{U:function(){return C}});var i,o,l,r,a,d,u,c=t(168),s=t(2360),v=t(8095),f=t(6492),p=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(n){return n.theme.accentColor.base}),(function(n){return n.theme.modalBorderColor})),m=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(n){return n.theme.sideBarBorderColor})),h=(0,s.ZP)(v.ZP)(l||(l=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(n){return n.theme.fieldBackgroundColor}),(function(n){return n.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(r||(r=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(n){return n.$isTitle||n.$disabled?n.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(n){return n.theme.fieldBackgroundColor})),C={CategoryItem:(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(n){return n.theme.fontColorSidebar}),(function(n){return n.theme.field.backgroundColor}),(function(n){return n.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:h,HeaderButton:p,Cell:m,DefaultTag:b}},6493:function(n,e,t){t.d(e,{p:function(){return a}});var i=t(6522),o=t(8095),l=(t(2791),t(6753)),r=t(3329),a=function(n){var e=n.title,t=void 0===e?"Title":e,a=n.openOverlayButtonTitle,d=void 0===a?(0,i.t)("Change"):a,u=n.onOpenOverlayPress,c=n.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=n.onEditPress,f=n.acceptButtonText,p=void 0===f?(0,i.t)("Ok"):f,m=n.onAcceptPress,h=n.editMode,x=void 0!==h&&h,g=n.canAccept,b=void 0!==g&&g,C=n.cancelButtonText,Z=void 0===C?(0,i.t)("Cancel"):C,y=n.onCancelPress;return(0,r.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,r.jsx)(l.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),u&&(0,r.jsx)(l.U.HeaderButton,{type:"button",onClick:u,children:d}),!x&&v&&(0,r.jsx)(l.U.HeaderButton,{type:"button",onClick:v,children:s}),x&&y&&(0,r.jsx)(l.U.HeaderButton,{type:"button",onClick:y,children:Z}),x&&m&&(0,r.jsx)(l.U.HeaderButton,{type:"button",disabled:!b,onClick:m,children:p})]})}},5227:function(n,e,t){t.d(e,{k:function(){return d}});var i=t(8095),o=t(6522),l=t(2791),r=t(6753),a=t(3329),d=function(n){var e=n.cell,t=n.data,d=(0,l.useMemo)((function(){return e.getValue?e.getValue(t):null}),[e,t]);return(0,a.jsxs)(r.U.Cell,{children:[(0,a.jsx)(r.U.CellText,{$isTitle:!0,$size:13,$padding:"6px 8px",children:null===e||void 0===e?void 0:e.title}),(0,a.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"column",gap:8,justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:32},children:!d||["string","number"].includes(typeof d)?(0,a.jsx)(r.U.CellText,{$isTitle:!d,$weight:500,children:d||(0,o.t)("undefined")}):d})]})}},2517:function(n,e,t){t.d(e,{$4:function(){return f},KS:function(){return p},ni:function(){return c},qo:function(){return s}});var i=t(3433),o=t(2973),l=t(6522),r=t(5481),a=t(6981),d=t(3299),u={top:{name:(0,l.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,l.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"},c=((0,r.Gg)(o.D),o.D.new,(0,l.t)(o.D.new),o.D.inWork,(0,l.t)(o.D.inWork),o.D.rejectedByCustomer,(0,l.t)(o.D.rejectedByCustomer),o.D.rejectedByManager,(0,l.t)(o.D.rejectedByManager),o.D.active,(0,l.t)(o.D.active),o.D.fulfilled,(0,l.t)(o.D.fulfilled),o.D.fulfilledWithRefund,(0,l.t)(o.D.fulfilledWithRefund),o.D.archived,(0,l.t)(o.D.archived),o.D.expired,(0,l.t)(o.D.expired),[{top:{name:"".concat((0,l.t)("Status")),getData:function(n){return n.status}},bottom:{name:(0,l.t)("Priority"),getData:function(n){return(0,l.t)("undefined")}},width:"150px",action:"status"},{top:{name:(0,l.t)("Total amount"),align:"end",getData:function(n){var e,t;return(0,d.pU)(null!==(e=null===(t=n.summary)||void 0===t?void 0:t.netto)&&void 0!==e?e:0)}},bottom:{name:(0,l.t)("Slots count"),align:"end",getData:function(n){var e,t;return(null===(e=n.slots)||void 0===e?void 0:e.length)||(null===(t=n.summary)||void 0===t?void 0:t.slotsCount)}},width:"120px",action:"numberWithSpaces"},{top:{name:(0,l.t)("Reference / Internal"),getData:function(n){var e;return null===n||void 0===n||null===(e=n.reference)||void 0===e?void 0:e.internal}},bottom:{name:(0,l.t)("Reference / External"),getData:function(n){var e;return null===n||void 0===n||null===(e=n.reference)||void 0===e?void 0:e.external}},width:"190px",action:"valueByPath"},{top:{name:(0,l.t)("Group"),getData:function(n){var e,t;return null===n||void 0===n||null===(e=n.group)||void 0===e||null===(t=e.reference)||void 0===t?void 0:t.internal}},bottom:{name:(0,l.t)("Strategy"),getData:function(n){var e;return null===n||void 0===n||null===(e=n.group)||void 0===e?void 0:e.strategy}},width:"180px",action:"valueByPath"},{top:{name:(0,l.t)("Customer"),getData:function(n){var e,t,i,o,l,r,a;return(null===(e=n.customer)||void 0===e?void 0:e.name)&&(null===(t=n.customer)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=n.customer)||void 0===o||null===(l=o.name)||void 0===l?void 0:l.second)||(null===(r=n.customer)||void 0===r?void 0:r.label)&&(null===(a=n.customer)||void 0===a?void 0:a.label.base)||"--- ---"}},bottom:{name:(0,l.t)("Phone"),path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,l.t)("Receiver"),getData:function(n){var e,t,i,o,l,r,a;return(null===(e=n.receiver)||void 0===e?void 0:e.name)&&(null===(t=n.receiver)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=n.receiver)||void 0===o||null===(l=o.name)||void 0===l?void 0:l.second)||(null===(r=n.receiver)||void 0===r?void 0:r.label)&&(null===(a=n.receiver)||void 0===a?void 0:a.label.base)||"--- ---"}},bottom:{name:(0,l.t)("Phone"),path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,l.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,l.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,l.t)("Deliveries")},width:"200px",action:"valueByPath"},{top:{name:(0,l.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,l.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,l.t)("Manager"),path:"manager.name"},bottom:{name:(0,l.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},u]),s=[{label:"\u0414\u0430\u0442\u0430",dataPath:"eventDate",filter:!1,search:!1,sort:!0},{label:"\u041c\u0456\u0442\u043a\u0430",dataPath:"mark.label",filter:!1,search:!0,sort:!0},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",dataPath:"status",filter:!1,search:!1,sort:!0},{label:(0,l.t)("type"),dataPath:"type",filter:!1,search:!0,sort:!0},{label:(0,l.t)("amount"),dataPath:"total",filter:!1,search:!0,sort:!0},{label:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",dataPath:"createdAt",filter:!1,search:!1,sort:!0},{label:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataPath:"updatedAt",filter:!1,search:!1,sort:!0}],v=["cashback","bonus","discount"];var f=[{top:{name:(0,l.t)("Offer label"),getData:function(n){var e;return null===(e=n.offer)||void 0===e?void 0:e.label}},bottom:{name:(0,l.t)("Variation label"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.label}},action:"valueByPath",width:"210px"},{top:{name:(0,l.t)("Total amount"),getData:function(n){return n.netto}},bottom:{name:(0,l.t)("Total q-ty"),getData:function(n){return n.quantity}},action:"valueByPath",width:"125px"}].concat((0,i.Z)((0,a.yL)()),(0,i.Z)(v.map((function(n){return{top:{name:(0,l.t)(n),align:"end",getData:function(e){var t;return(0,d.pU)(null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.amount)}},bottom:{name:(0,l.t)(n),align:"end",getData:function(e){var t;return(0,d.pU)(null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.percentage)}},action:"valueByPath",width:"90px"}}))),[{top:{name:(0,l.t)("Offer sku"),getData:function(n){var e;return null===(e=n.offer)||void 0===e?void 0:e.sku}},bottom:{name:(0,l.t)("Variation sku"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.sku}},action:"valueByPath",width:"150px"},{top:{name:(0,l.t)("Offer bar-code"),getData:function(n){var e;return null===(e=n.offer)||void 0===e?void 0:e.barCode}},bottom:{name:(0,l.t)("Variation bar-code"),getData:function(n){var e;return null===(e=n.variation)||void 0===e?void 0:e.barCode}},action:"valueByPath",width:"150px"},u]),p=f}}]);
//# sourceMappingURL=989.65e7bc76.chunk.js.map