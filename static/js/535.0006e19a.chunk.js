"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[535],{535:function(t,e,n){n.r(e),n.d(e,{default:function(){return B},useOrderTableConfigs:function(){return S}});var r,a=n(168),o=n(1413),i=n(9439),u=n(4360),c=n(8495),s=n(2360),l=n(2791),d=n(9254),p=n(7348),f=n(6522),h=[{top:{name:(0,f.Z)("date"),align:"center",path:"eventDate"},bottom:{name:(0,f.Z)("time"),align:"center"},width:"90px",action:"dateSimple"},{top:{name:(0,f.Z)("status"),align:"start",path:"status"},bottom:{name:(0,f.Z)("type"),align:"start",path:"type"},width:"100px",action:"status"},{top:{name:(0,f.Z)("amount"),align:"end",path:"total"},bottom:{name:"\u0412\u0430\u043b\u044e\u0442\u0430",align:"end",path:"currency"},width:"120px",action:"numberWithSpaces"},{top:{name:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",align:"start",path:"manager.name"},bottom:{name:"\u041a\u043e\u0434",align:"start",path:"manager.code"},width:"180px",action:"valueByPath"},{top:{name:"\u0417\u0430\u043c\u043e\u0432\u043d\u0438\u043a",align:"start",path:"customer.name"},bottom:{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",align:"start",path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:"\u041e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0447",align:"start",path:"receiver.name"},bottom:{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",align:"start",path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:"\u0406\u043d\u0432\u043e\u0439\u0441\u0438",align:"start",path:"invoices"},width:"200px",action:"valueByPath"},{top:{name:"\u041e\u043f\u043b\u0430\u0442\u0438",align:"start",path:"payments"},width:"200px",action:"valueByPath"},{top:{name:"\u041f\u0435\u0440\u0435\u0432\u0456\u0437\u043d\u0438\u043a\u0438",align:"start",path:"transporters"},width:"200px",action:"valueByPath"},{top:{name:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",align:"start",path:"comment"},width:"170px",action:"valueByPath"},{top:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},bottom:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},width:"150px",action:"dateDbl"}],m=[{label:"\u0414\u0430\u0442\u0430",dataPath:"eventDate",filter:!1,search:!1,sort:!0},{label:"\u041c\u0456\u0442\u043a\u0430",dataPath:"mark.label",filter:!1,search:!0,sort:!0},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",dataPath:"status",filter:!1,search:!1,sort:!0},{label:(0,f.Z)("type"),dataPath:"type",filter:!1,search:!0,sort:!0},{label:(0,f.Z)("amount"),dataPath:"total",filter:!1,search:!0,sort:!0},{label:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",dataPath:"createdAt",filter:!1,search:!1,sort:!0},{label:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataPath:"updatedAt",filter:!1,search:!1,sort:!0}],v=n(4165),Z=n(5861),b=n(5304),g=function(){var t=(0,b.TL)();return(0,l.useMemo)((function(){return{createOne:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAll:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteOne:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateOne:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSlotsByOrderId:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getShipmentsByOrderId:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPaymentsByOrderId:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getInvoicesByOrderId:function(){var e=(0,Z.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t((function(){})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[t])},w=n(4354),y=function(t){return t.SIMPLE="SIMPLE",t.SET="SET",t}({}),P=n(2307),x=[{label:y.SIMPLE,value:y.SIMPLE},{label:y.SET,value:y.SET}],O=function(){var t=(0,w.f9)();return(0,l.useCallback)((function(e){var n,r,a;return[{name:"archiveOrder",icon:"archive",disabled:!(null!==e&&void 0!==e&&null!==(n=e.selectedRow)&&void 0!==n&&n._id),onClick:function(){var t,n;null!==e&&void 0!==e&&null!==(t=e.selectedRow)&&void 0!==t&&t._id&&window.confirm("\u0410\u0440\u0445\u0456\u0432\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u0435\u043d\u043d\u044f: ".concat(null===e||void 0===e||null===(n=e.selectedRow)||void 0===n?void 0:n._id))}},{name:"editOrder",icon:"edit",disabled:!(null!==e&&void 0!==e&&null!==(r=e.selectedRow)&&void 0!==r&&r._id),onClick:function(){t.handleOpenModal({Modal:P.n.FormCreateOrder,props:{title:"Edit order",filterOptions:x}})}},{name:"copyOrder",icon:"copy",disabled:!(null!==e&&void 0!==e&&null!==(a=e.selectedRow)&&void 0!==a&&a._id),onClick:function(){var n;t.handleOpenModal({Modal:P.n.FormCreateOrder,props:{title:"Copy order: ".concat(null===e||void 0===e||null===(n=e.selectedRow)||void 0===n?void 0:n._id),filterOptions:x}})}},{separator:!0},{name:"createOrder",icon:"plus",type:"onlyIconFilled",onClick:function(){t.handleOpenModal({Modal:P.n.FormCreateOrder,props:{title:"Create order",filterOptions:x}})}}]}),[t])},k=n(184),S=function(){var t=g(),e=(0,p.xA)(),n=t.getAll,r=O(),a=(0,l.useState)(!1),o=(0,i.Z)(a,2),u=o[0],c=o[1],s=(0,l.useState)(),d=(0,i.Z)(s,2),f=d[0],v=d[1],Z=(0,l.useState)(),b=(0,i.Z)(Z,2),w=b[0],y=b[1],P=(0,l.useMemo)((function(){return{tableData:e.orders,tableTitles:h,tableSortParams:m.filter((function(t){return t.sort})),isFilter:!0,isSearch:!0,footer:!0,checkBoxes:!0,actionsCreator:r,onFilterSubmit:function(t){y(t),n({data:{refresh:!0,query:{filterParams:t,sortParams:f}},onLoading:c}).then()},handleTableSort:function(t,e){v({dataPath:t.dataPath,sortOrder:e}),n({data:{refresh:!0,query:{sortParams:{dataPath:t.dataPath,sortOrder:e},filterParams:w}},onLoading:c}).then()}}}),[r,w,n,f,e.orders]);return(0,l.useEffect)((function(){f||w||f||w||0===e.orders.length&&n({data:{refresh:!0},onLoading:c})}),[w,n,u,f,e.orders.length,P]),{tableConfig:P,isLoading:u,sortParams:f,filterParams:w}},C=s.ZP.div(r||(r=(0,a.Z)(["\n  ","\n"])),c.VU),B=function(t){var e=S(),n=e.tableConfig,r=e.isLoading;return(0,k.jsx)(d.default,{path:t.path,children:(0,k.jsx)(C,{children:(0,k.jsx)(u.ZP,(0,o.Z)((0,o.Z)({},n),{},{isLoading:r}))})})}},8495:function(t,e,n){n.d(e,{SI:function(){return s},VU:function(){return c}});var r,a,o,i=n(168),u=n(2360),c=(0,u.iv)(r||(r=(0,i.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),s=(0,u.iv)(a||(a=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,u.iv)(o||(o=(0,i.Z)(["\n  outline: 1px solid tomato;\n"])))}}]);
//# sourceMappingURL=535.0006e19a.chunk.js.map