"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[237],{2237:function(e,r,n){n.r(r);var l,a=n(168),o=n(1413),s=n(4925),t=n(2791),u=n(2360),d=n(6727),i=n(4695),c=n(9085),p=n(7038),Z=n(9656),m=n(4990),h=n(6681),b=n(8332),x=n(9964),j=n(6522),f=n(7426),y=n(6785),C=n(457),S=n(867),T=n(8105),v=n(7824),N=n(3329),_=["defaultState"],g=["businessSubjectType","type"],G=d.Ry().shape({name:d.Z_(),fullName:d.Z_(),email:d.Z_().required(),businessSubjectType:d.Z_().oneOf(Object.values(p.G),"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f").required(),ownershipType:d.Ry().shape({label:d.Z_(),value:d.Z_().oneOf(Object.values(p.L),"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f")}),taxCode:d.Z_(),label:d.Z_(),fullLabel:d.Z_(),phone:d.Z_()}),P=(0,u.ZP)(Z.Z)(l||(l=(0,a.Z)([""])));r.default=function(e){var r=e.defaultState,n=(0,s.Z)(e,_),l=(0,b.xc)()[v.d.permissions],a=(0,f.hN)({defaultValues:(0,o.Z)({businessSubjectType:p.G.company},r),reValidateMode:"onChange",resolver:(0,i.X)(G),shouldUnregister:!0}),u=a.register,d=a.unregister,Z=a.formState.errors,q=a.handleSubmit,w=a.formValues,I=w.businessSubjectType,O=w.type,L=(0,s.Z)(w,g),k=a.registerSelect,E=a.setValue;(0,t.useEffect)((function(){console.debug(L)}),[L]);var F=(0,t.useMemo)((function(){return{renderOwnershipTypeSelect:I===p.G.company,renderLabelInput:I&&[p.G.company,p.G.entrepreneur].includes(I),renderNamesInputs:I&&[p.G.person,p.G.entrepreneur].includes(I),renderPersonalTaxCode:I&&[p.G.person,p.G.entrepreneur].includes(I),renderTaxCode:I&&[p.G.company,p.G.entrepreneur].includes(I),renderAttractionSourceSelect:O===S.I.CUSTOMER}}),[O,I]);return(0,N.jsx)(P,(0,o.Z)((0,o.Z)({fillHeight:!0,width:"480px"},n),{},{onSubmit:q((function(e){l.createCompany({data:e,onSuccess:function(e){console.log("Company created",e),c.Am.success("Company created: ".concat((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.label))),(null===n||void 0===n?void 0:n.onClose)&&(null===n||void 0===n||n.onClose())},onError:function(){c.Am.error("Error")},onLoading:function(){}}).then()}),(function(e){console.error("FormCreateCompany",e)})),children:(0,N.jsxs)(T.C,{flex:1,fillWidth:!0,padding:"8px 4px",overflow:"auto",children:[(0,N.jsx)(m.Z,{label:(0,j.t)("businessSubjectType"),error:Z.businessSubjectType,required:!0,children:(0,N.jsx)(x.Z,{options:C.Wk,currentOption:{value:I},onSelect:function(e){var r=e.value;E("businessSubjectType",r),r!==p.G.company&&d("ownershipType")}})}),F.renderOwnershipTypeSelect&&(0,N.jsx)(y.Z,(0,o.Z)({},k("ownershipType",{options:C.YJ,label:"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456",placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"}))),F.renderNamesInputs&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{label:(0,j.t)("name"),error:Z.name,required:!0,children:(0,N.jsx)(h.ZP,(0,o.Z)((0,o.Z)({placeholder:(0,j.t)("insertLabel")},u("name")),{},{required:!0,autoFocus:F.renderNamesInputs}))}),(0,N.jsx)(m.Z,{label:(0,j.t)("secondName"),error:Z.secondName,required:!0,children:(0,N.jsx)(h.ZP,(0,o.Z)((0,o.Z)({placeholder:(0,j.t)("insertSecondName")},u("secondName")),{},{required:!0}))})]}),F.renderLabelInput&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m.Z,{label:(0,j.t)("label"),error:Z.label,required:!F.renderNamesInputs,children:(0,N.jsx)(h.ZP,(0,o.Z)((0,o.Z)({placeholder:(0,j.t)("insertLabel")},u("label")),{},{required:!F.renderNamesInputs,autoFocus:!F.renderNamesInputs}))}),(0,N.jsx)(m.Z,{label:(0,j.t)("Print name"),error:Z.fullName,children:(0,N.jsx)(h.ZP,(0,o.Z)({placeholder:(0,j.t)("Enter print name")},u("fullName")))})]}),(0,N.jsx)(m.Z,{label:"\u0415\u043c\u0435\u0439\u043b (\u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439)",error:Z.email,required:!0,children:(0,N.jsx)(h.ZP,(0,o.Z)((0,o.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439 \u0435\u043c\u0435\u0439\u043b"},u("email")),{},{type:"email",required:!0}))}),(0,N.jsx)(m.Z,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d (\u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439)",error:Z.phone,children:(0,N.jsx)(h.ZP,(0,o.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u0441\u043d\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"},u("phone")))}),F.renderTaxCode&&(0,N.jsx)(m.Z,{label:(0,j.t)("taxCode"),error:Z.taxCode,children:(0,N.jsx)(h.ZP,(0,o.Z)({placeholder:(0,j.t)("taxCode")},u("taxCode")))}),F.renderPersonalTaxCode&&(0,N.jsx)(m.Z,{label:(0,j.t)("personalTaxCode"),error:Z.taxCode,children:(0,N.jsx)(h.ZP,(0,o.Z)({placeholder:(0,j.t)("personalTaxCode")},u("personalTaxCode")))})]})}))}}}]);
//# sourceMappingURL=237.5c1971ee.chunk.js.map