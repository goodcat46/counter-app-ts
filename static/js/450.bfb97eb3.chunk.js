"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[450],{2450:function(e,l,n){n.r(l),n.d(l,{default:function(){return E}});var t,i,r,o=n(1413),a=n(4925),d=n(2791),u=n(9656),s=n(4990),c=n(6681),p=n(4343),m=n(6785),h=n(9872),v=n(8095),f=n(6522),x=n(870),b=n(7426),Z=n(5371),g=n(2655),j=n(6757),S=n(168),y=n(3433),P=n(9439),C=n(2360),_=n(8302),w=n(6492),W=n(3329),k=(0,C.ZP)(v.ZP)(t||(t=(0,S.Z)(["\n  margin: 8px 0 0;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),B=(0,C.ZP)(v.ZP)(i||(i=(0,S.Z)(["\n  border-top: 1px solid ",";\n  //border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),D=function(e){var l=e.children,n=e.onSelect,t=e.onChange,i=e.template,r=e.defaultData,o=(0,d.useState)([]),a=(0,P.Z)(o,2),u=a[0],s=a[1];(0,d.useEffect)((function(){r&&s(r)}),[r]);var c=(0,d.useCallback)((function(e,l){s((function(l){var i=l.includes(e)?l.filter((function(l){return l!==e})):[].concat((0,y.Z)(l),[e]);return n&&n(e),t&&t(i),i}))}),[t,n]),p=(0,d.useMemo)((function(){var e;return null===i||void 0===i||null===(e=i.childrenList)||void 0===e?void 0:e.filter((function(e){return!e.isSelectable}))}),[null===i||void 0===i?void 0:i.childrenList]),m=(0,d.useMemo)((function(){return null===p||void 0===p?void 0:p.map((function(e){var l;return(0,W.jsxs)(B,{gap:8,fillWidth:!0,padding:"8px 0",children:[(0,W.jsx)(w.x,{$weight:500,$size:12,style:{marginInline:8},children:null===e||void 0===e?void 0:e.label}),(0,W.jsx)(v.ZP,{fillWidth:!0,gap:8,fxDirection:"row",flexWrap:"wrap",children:null===e||void 0===e||null===(l=e.childrenList)||void 0===l?void 0:l.map((function(e){return(0,W.jsx)(_.Z,{variant:u.includes(null===e||void 0===e?void 0:e._id)?"filledSmall":"outlinedSmall",onClick:function(){c(null===e||void 0===e?void 0:e._id)},children:null===e||void 0===e?void 0:e.label},"prop-value-".concat(null===e||void 0===e?void 0:e._id))}))})]},"prop-".concat(null===e||void 0===e?void 0:e._id))}))}),[p,c,u]);return(0,W.jsxs)(k,{fillWidth:!0,children:[(0,W.jsx)(v.ZP,{padding:"8px 8px 0",children:(0,W.jsx)(w.x,{$size:14,$weight:600,children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0445\u0430\u0440\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"})}),l&&(0,W.jsx)(v.ZP,{fillWidth:!0,padding:"6px 0",children:l}),m]})},A=n(8961),I=n(1771),M=n(8553),N=[{name:"height",label:(0,f.t)("Height"),placeholder:(0,f.t)("Sm")},{name:"width",label:(0,f.t)("Width"),placeholder:(0,f.t)("Sm")},{name:"length",label:(0,f.t)("Length"),placeholder:(0,f.t)("Sm")},{name:"weight",label:(0,f.t)("Weight"),placeholder:(0,f.t)("Kg")}],V=(0,C.ZP)(v.ZP)(r||(r=(0,S.Z)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  column-gap: 8px;\n\n  @media screen and (min-width: 480px) and (max-width: 768px) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n"]))),F=function(e){var l=e.form;return(0,W.jsx)(V,{fillWidth:!0,children:N.map((function(e){return(0,W.jsx)(s.Z,{label:e.label,children:(0,W.jsx)(c.ZP,(0,o.Z)({placeholder:e.placeholder,min:1,type:"number"},l.register("dimensions.".concat(e.name),{valueAsNumber:!0,min:1})))},e.name)}))})},H=(0,M.H1)(Z.qU),L=[{name:"measurement.unit",label:(0,f.t)("unit"),placeholder:(0,f.t)("unit"),options:H},{name:"measurement.min",label:(0,f.t)("min"),placeholder:(0,f.t)("min"),type:"number"},{name:"measurement.max",label:(0,f.t)("max"),placeholder:(0,f.t)("max"),type:"number"}],T=function(e){var l=e.appForm;return(0,W.jsx)(v.ZP,{fillWidth:!0,style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",columnGap:8},children:L.map((function(e){var n;return e.options?(0,W.jsx)(m.Z,(0,o.Z)({},l.registerSelect(null===e||void 0===e?void 0:e.name,{options:null===e||void 0===e?void 0:e.options,label:null===e||void 0===e?void 0:e.label,placeholder:null===e||void 0===e?void 0:e.label,dropDownIsAbsolute:!0,onlyValue:!0})),e.name):(0,W.jsx)(s.Z,{label:e.label,error:null===l||void 0===l||null===(n=l.formState)||void 0===n?void 0:n.errors[e.name],children:(0,W.jsx)(c.ZP,(0,o.Z)({placeholder:e.placeholder,min:"number"===(null===e||void 0===e?void 0:e.type)?1:void 0,type:null===e||void 0===e?void 0:e.type},l.register(e.name,{valueAsNumber:"number"===(null===e||void 0===e?void 0:e.type),min:"number"===(null===e||void 0===e?void 0:e.type)?1:void 0})))},e.name)}))})},$=["edit","_id","onSubmit","copy","defaultState","addInputs"],q=(0,M.H1)(Z.X),E=function(e){e.edit;var l,n=e._id,t=e.onSubmit,i=(e.copy,e.defaultState),r=(e.addInputs,(0,a.Z)(e,$)),Z=(0,j.d)(),S=(0,h.CG)(),y=S.directories.directories,P=S.products.properties,C=(0,b.hN)({defaultValues:i}),_=C.formState.errors,w=C.formValues,k=C.register,B=C.setValue,M=C.registerSelect,N=C.handleSubmit,V=(0,d.useMemo)((function(){return y[x.cA.CATEGORIES_PROD].filter((function(e){return e.type===w.type}))}),[y,w.type]),H=(0,d.useMemo)((function(){return P.find((function(e){var l;return e._id===(null===w||void 0===w||null===(l=w.template)||void 0===l?void 0:l._id)}))}),[null===w||void 0===w||null===(l=w.template)||void 0===l?void 0:l._id,P]);return(0,W.jsx)(u.Z,(0,o.Z)((0,o.Z)({},r),{},{onSubmit:N((function(e){var l=(0,g.vg)(e,{ignorePaths:["measurement"]});t&&t({_id:n,data:l},(0,o.Z)({},Z.state))}),(function(e){return console.log(e)})),onOptSelect:function(e){var l=e.value;return l&&B("type",l)},extraFooter:(0,W.jsx)(j.Z,(0,o.Z)({},Z)),children:(0,W.jsxs)(v.ZP,{className:"inputs",flex:"1",fillWidth:!0,maxHeight:"100%",padding:"0 8px 8px",overflow:"auto",children:[(0,W.jsx)(s.Z,{label:(0,f.t)("label"),error:_.label,required:!0,children:(0,W.jsx)(c.ZP,(0,o.Z)((0,o.Z)({placeholder:(0,f.t)("label")},k("label")),{},{required:!0,autoFocus:!0}))}),(0,W.jsxs)(v.ZP,{fxDirection:"row",gap:6,fillWidth:!0,children:[(0,W.jsx)(s.Z,{label:(0,f.t)("sku"),error:_.sku,children:(0,W.jsx)(c.ZP,(0,o.Z)({placeholder:(0,f.t)("sku")},k("sku")))}),(0,W.jsx)(s.Z,{label:"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434",error:_.barCode,children:(0,W.jsx)(c.ZP,(0,o.Z)({placeholder:"\u0428\u0442\u0440\u0438\u0445-\u043a\u043e\u0434"},k("barCode")))})]}),(0,W.jsx)(I.Z,{options:V,defaultData:null===w||void 0===w?void 0:w.categories,onChange:function(e){B("categories",e)}}),(0,W.jsx)(m.Z,(0,o.Z)({},M("brand",{options:y[x.cA.BRANDS],label:(0,f.t)("brand"),placeholder:(0,f.t)("selectBrand"),multipleMode:!0}))),(0,W.jsx)(m.Z,(0,o.Z)({},M("approved",{options:q,label:(0,f.t)("status"),placeholder:(0,f.t)("status")}))),(0,W.jsx)(T,{appForm:C}),(0,W.jsx)(F,{form:C}),(0,W.jsx)(s.Z,{label:(0,f.t)("description"),error:_.description,children:(0,W.jsx)(p.Z,(0,o.Z)({placeholder:(0,f.t)("description")},k("description")))}),(0,W.jsx)(D,{template:H,defaultData:null===w||void 0===w?void 0:w.properties,onChange:function(e){B("properties",e)},children:(0,W.jsx)(m.Z,(0,o.Z)({},M("template",{options:P,dropDownIsAbsolute:!0,label:(0,f.t)("variationsTemplate"),placeholder:(0,f.t)("selectVariationsTemplate")})))}),(0,W.jsx)(A.Z,{initialData:null===w||void 0===w?void 0:w.images,onChangeState:function(e){B("images",e)}})]})}))}}}]);
//# sourceMappingURL=450.bfb97eb3.chunk.js.map