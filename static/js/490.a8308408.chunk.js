"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[490],{1490:function(e,n,o){o.r(n),o.d(n,{default:function(){return P}});var t,r=o(168),a=o(1413),i=o(9439),l=o(3363),u=o(8495),s=o(2360),c=o(2791),d=o(1199),f=o(7348),v=o(5188),h=o(6551),S=o(7553),p=o(870),m=function(e,n){var o={data:{label:null===e||void 0===e?void 0:e.label}};return n?(0,a.Z)((0,a.Z)({},o),{},{_id:n}):o},g=[function(e){var n=e.service,o=e.modalService,t=e.ctx;return{icon:"plus",onClick:function(){var e=o.handleOpenModal({Modal:S.n.FormCreateWarehouse,props:{title:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0441\u043a\u043b\u0430\u0434",dirType:p.cA.WAREHOUSES,onSubmit:function(o,r){var a;n.create({data:m(o,null===t||void 0===t||null===(a=t.selectedRow)||void 0===a?void 0:a._id),onLoading:t.onRefresh,onSuccess:function(){null!==r&&void 0!==r&&r.closeAfterSave&&null!==e&&void 0!==e&&e.onClose&&(null===e||void 0===e||e.onClose())}})}}})}}},function(e){var n=e.service,o=e.modalService,t=e.ctx;return{icon:"edit",onClick:function(){var e=o.handleOpenModal({Modal:S.n.FormCreateWarehouse,props:{edit:!0,title:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0441\u043a\u043b\u0430\u0434\u0443",dirType:p.cA.WAREHOUSES,onSubmit:function(o,r){var a;n.create({data:m(o,null===t||void 0===t||null===(a=t.selectedRow)||void 0===a?void 0:a._id),onLoading:t.onRefresh,onSuccess:function(){null!==r&&void 0!==r&&r.closeAfterSave&&null!==e&&void 0!==e&&e.onClose&&(null===e||void 0===e||e.onClose())}})}}})}}},function(e){var n=e.service;e.modalService,e.ctx;return{icon:"refresh",onClick:function(){n.getAll({data:{refresh:!0}}).then()}}}],w=function(){var e=(0,v.f9)(),n=(0,h.xc)()[h.EJ.warehouses];return function(o){return g.map((function(t){return t({modalService:e,service:n,ctx:o})}))}},C=o(758),Z=o(7689),b=o(3329),A=s.ZP.div(t||(t=(0,r.Z)(["\n  ","\n"])),u.VU),P=function(e){var n=(0,Z.s0)(),o=(0,h.xc)()[h.EJ.warehouses].getAll,t=(0,f.eO)(),r=(0,c.useState)(!1),u=(0,i.Z)(r,2),s=u[0],v=u[1],S=(0,c.useState)(),p=(0,i.Z)(S,2),m=p[0],g=p[1],P=(0,c.useState)(),x=(0,i.Z)(P,2),_=x[0],k=x[1],E=w(),O=(0,c.useMemo)((function(){return{tableData:t.warehouses,tableTitles:C.A7,isFilter:!1,isSearch:!0,footer:!1,actionsCreator:E,onRowClick:function(e){(null===e||void 0===e?void 0:e._id)&&n(null===e||void 0===e?void 0:e._id)},onFilterSubmit:function(e){k(e),o({data:{refresh:!0,query:{filterParams:e,sortParams:m}},onLoading:v}).then()},handleTableSort:function(e,n){g({dataPath:e.dataPath,sortOrder:n}),o({data:{refresh:!0,query:{sortParams:{dataPath:e.dataPath,sortOrder:n},filterParams:_}},onLoading:v}).then()}}}),[E,_,o,n,m,t.warehouses]);return(0,c.useEffect)((function(){m||_||m||_||0===t.warehouses.length&&o({data:{refresh:!0},onLoading:v,onSuccess:function(e){console.log("PageWarehouses onSuccess getAll")}})}),[_,o,m,t.warehouses.length]),(0,b.jsx)(d.default,{path:e.path,children:(0,b.jsx)(A,{children:(0,b.jsx)(l.ZP,(0,a.Z)((0,a.Z)({tableTitles:C.A7},O),{},{isLoading:s}))})})}},8495:function(e,n,o){o.d(n,{SI:function(){return s},VU:function(){return u}});var t,r,a,i=o(168),l=o(2360),u=(0,l.iv)(t||(t=(0,i.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),s=(0,l.iv)(r||(r=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,l.iv)(a||(a=(0,i.Z)(["\n  outline: 1px solid tomato;\n"])))}}]);
//# sourceMappingURL=490.a8308408.chunk.js.map