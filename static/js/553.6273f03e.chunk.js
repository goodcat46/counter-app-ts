"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[553],{9184:function(e,n,t){var i,o,a,r,l=t(168),d=t(4165),u=t(4942),c=t(1413),s=t(5861),v=t(3433),p=t(9439),f=t(2791),h=t(8095),m=t(2360),g=t(870),x=t(3855),b=t(6492),Z=t(7348),w=t(2928),y=t(3329);n.Z=function(e){var n=e.onChangeIds,t=e.onChange,i=e.offer,o=(0,Z.q$)(g.cA.CATEGORIES_PROD).directory,a=(0,f.useState)({}),r=(0,p.Z)(a,2),l=r[0],m=r[1],x=(0,f.useMemo)((function(){var e;if(null!==i&&void 0!==i&&i.categories){var n={};return null===i||void 0===i||null===(e=i.categories)||void 0===e||e.forEach((function(e){var t,i=null===(t=e.parent)||void 0===t?void 0:t._id,o=null===e||void 0===e?void 0:e._id;o&&(i&&(n[i]=n[i]?[].concat((0,v.Z)(n[i]),[o]):[o]),n[o]=n[o]?[].concat((0,v.Z)(n[o]),[o]):[o])})),Object.entries(n).forEach((function(e){var t,i=(0,p.Z)(e,2),o=i[0],a=i[1];(null===(t=n[o])||void 0===t?void 0:t.length)>1&&(n[o]=Array.from(new Set(a)))})),n}}),[null===i||void 0===i?void 0:i.categories]);(0,f.useEffect)((function(){x&&m(x)}),[]);var b=(0,f.useCallback)(function(){var e=(0,s.Z)((0,d.Z)().mark((function e(i){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t(i._id),m((function(e){var t,o=i.checked?(0,c.Z)((0,c.Z)({},e),{},(0,u.Z)({},i._id,[i._id])):(0,c.Z)((0,c.Z)({},e),{},(0,u.Z)({},i._id,[]));if(i.checked){var a=i.pathIds;i.pathIds.forEach((function(e,n){var t;(a=a.slice(1,a.length),e===i._id)?o[e]=[e]:o[e]=(0,v.Z)(new Set([].concat((0,v.Z)(null!==(t=o[e])&&void 0!==t?t:[]),(0,v.Z)(a))))}))}else{var r;null===e||void 0===e||null===(r=e[i._id])||void 0===r||r.forEach((function(e){o[e]=[]})),o[i._id]=[]}return n&&n((t=o,Object.keys(t).filter((function(e){var n;return null===t||void 0===t||null===(n=t[e])||void 0===n?void 0:n.length})))),o}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,n]),w=(0,f.useMemo)((function(){var e=function(e){var n;return!(null===l||void 0===l||null===(n=l[e])||void 0===n||!n.length)};return o.map((function(n){return(0,y.jsx)(P,{children:(0,y.jsx)(S,{item:n,depth:0,pathIds:[],isChecked:e,onChange:b})},n._id)}))}),[l,b,o]);return(0,y.jsx)(h.ZP,{minWidth:"max-content",children:w})};var P=(0,m.ZP)(h.ZP)(i||(i=(0,l.Z)(["\n  //padding: 8px 0;\n  // &:not(:first-child) {\n  //   border-top: 1px solid ",";\n  // }\n"])),(function(e){return e.theme.sideBarBorderColor})),D=(0,m.ZP)(h.j6)(o||(o=(0,l.Z)([""]))),C=(0,m.ZP)(h.Ov)(a||(a=(0,l.Z)(["\n  &:not(:last-child) {\n  }\n\n  min-width: max-content;\n"]))),j=(0,m.ZP)(h.ZP)(r||(r=(0,l.Z)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor})),S=function e(n){var t,i,o,a,r=n.pathIds,l=n.item,d=n.depth,u=void 0===d?0:d,c=n.onChange,s=n.isChecked,m=(0,f.useState)(!(null===l||void 0===l||null===(t=l.childrenList)||void 0===t||!t.length)),g=(0,p.Z)(m,2),Z=g[0],P=g[1],S=null!==(i=null===l||void 0===l?void 0:l._id)&&void 0!==i?i:"",_=[].concat((0,v.Z)(r),[S]);return(0,y.jsxs)(C,{padding:u?"0 0 0 16px":"",children:[(0,y.jsxs)(j,{gap:12,fxDirection:"row",alignItems:"center",padding:"8px 0",children:[(0,y.jsx)(w.ZP,{variant:"onlyIconNoEffects",iconSize:"22px",disabled:!(null!==l&&void 0!==l&&null!==(o=l.childrenList)&&void 0!==o&&o.length),icon:Z?"SmallArrowDown":"SmallArrowRight",onClick:function(){P((function(e){return!e}))}}),(0,y.jsxs)(h.HN,{flex:1,fxDirection:"row",alignItems:"center",gap:12,padding:"4px 6px",children:[(0,y.jsx)(x.Z,{size:"22px",checked:!!s&&s(S),onChange:function(e){c&&c({pathIds:_,_id:S,checked:e.checked})}}),(0,y.jsx)(b.x,{$size:14,$weight:500,children:l.label})]})]}),Z&&(0,y.jsx)(D,{children:null===(a=l.childrenList)||void 0===a?void 0:a.map((function(n){return(0,y.jsx)(e,{depth:u+1,item:n,onChange:c,isChecked:s,pathIds:_},n._id)}))})]},"cate-value-".concat(S))}},713:function(e,n,t){t.d(n,{Z:function(){return O}});var i,o,a,r,l=t(168),d=t(4942),u=t(1413),c=t(3433),s=t(9439),v=t(8095),p=t(2791),f=t(2360),h=t(6492),m=t(3665),g=t(4925),x=t(9656),b=t(8449),Z=t(4990),w=t(6681),y=t(9964),P=t(2928),D=t(4897),C=t(3329),j=["title","fillHeight","onSubmit","onClose","defaultState","type"],S=f.ZP.div(i||(i=(0,l.Z)(["\n  flex: 1;\n\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr min-content min-content;\n  gap: 6px;\n\n  padding: 8px;\n  overflow: hidden;\n"]))),_=f.ZP.label(o||(o=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 100%;\n  width: 100%;\n  max-height: 100%;\n\n  fill: ",";\n\n  border-radius: 2px;\n  border: 2px solid ",";\n\n  transition: ",";\n\n  pointer-events: ",";\n  &:hover {\n    fill: ",";\n    border-color: ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.globals.timingFnMui}),(function(e){return e.disabled?"none":"all"}),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.accentColor.light})),k=f.ZP.img(a||(a=(0,l.Z)(["\n  //min-width: 100px;\n  //max-width: 100px;\n  //\n  //height: 145px;\n\n  max-height: 100%;\n"]))),B=function(e){var n,t=e.title,i=e.fillHeight,o=void 0===i||i,a=e.onSubmit,r=e.onClose,l=e.defaultState,c=(e.type,(0,g.Z)(e,j)),f=(0,p.useState)(D.E_[0]),h=(0,s.Z)(f,2),m=h[0],B=h[1],I=(0,p.useState)(l||{}),M=(0,s.Z)(I,2),E=M[0],W=M[1],A=(0,p.useRef)(null);return(0,C.jsx)(x.Z,(0,u.Z)((0,u.Z)({title:t||"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0441\u0435\u0442 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044c",fillHeight:o},c),{},{width:"360px",onClose:r,onSubmit:function(){a&&a(E),r&&r()},children:(0,C.jsxs)(S,{children:[(0,C.jsx)(v.ZP,{fillWidth:!0,fillHeight:!0,alignItems:"center",overflow:"hidden",children:null!==m&&void 0!==m&&m.value&&E[null===m||void 0===m?void 0:m.value]?(0,C.jsx)(k,{src:E[null===m||void 0===m?void 0:m.value]}):(0,C.jsxs)(_,{disabled:!0,children:[(0,C.jsx)(b.Z,{icon:"plus",size:"56px"}),(0,C.jsx)("input",{name:"img_preview",type:"file",className:"visually-hidden",disabled:!0})]})}),(null===m||void 0===m?void 0:m.value)&&(0,C.jsxs)(v.ZP,{fxDirection:"row",gap:6,alignItems:"flex-end",children:[(0,C.jsx)(Z.Z,{label:null===m||void 0===m||null===(n=m.label)||void 0===n?void 0:n.replace("img_","image ").toUpperCase(),required:null===m||void 0===m?void 0:m.required,children:(0,C.jsx)(w.ZP,{ref:A,name:null===m||void 0===m?void 0:m.value,value:E[null===m||void 0===m?void 0:m.value]||"",onChange:function(e){var n=e.target,t=n.name,i=n.value;W((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,d.Z)({},t,i))}))},placeholder:"\u0412\u043f\u0438\u0448\u0456\u0442\u044c \u0430\u0431\u043e \u0432\u0441\u0442\u0430\u0432\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",required:null===m||void 0===m?void 0:m.required,autoFocus:!0})}),(0,C.jsx)(P.ZP,{variant:"onlyIcon",icon:"close",size:"28px",iconSize:"100%",onClick:function(){(null===m||void 0===m?void 0:m.value)&&W((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,d.Z)({},null===m||void 0===m?void 0:m.value,""))}))}})]}),(0,C.jsx)(v.ZP,{padding:"8px 0",children:(0,C.jsx)(y.Z,{options:D.E_,currentOption:m,onSelect:function(e){B(e.option)}})})]})}))},I=t(4717),M=t(6522),E=t(755),W=t(763),A=(0,f.ZP)(v.ZP)(r||(r=(0,l.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),K=function(e){var n=e.onMoveUpPress,t=e.onMoveDownPress,i=e.currentOrder,o=e.canMoveDown,a=e.canMoveUp;return(0,C.jsxs)(v.ZP,{style:{minWidth:"fit-content"},fillHeight:!0,gap:6,justifyContent:"space-between",overflow:"hidden",children:[(0,C.jsx)(P.ZP,{variant:"onlyIcon",icon:"SmallArrowUp",disabled:!a,onClick:n}),(0,C.jsx)(h.x,{$align:"center",$weight:600,children:i||0}),(0,C.jsx)(P.ZP,{variant:"onlyIcon",icon:"SmallArrowDown",disabled:!o,onClick:t})]})},O=function(e){var n=e.onChangeState,t=e.renderHeader,i=e.initialData,o=e.canEditOrder,a=void 0===o||o,r=e.onClose,l=e.FooterComponent,f=e.contentContainerStyle,g=e.hideLabel,x=e.onlyPreviews,b=void 0===x||x,Z=(0,m.kw)(),w=(0,p.useState)([]),y=(0,s.Z)(w,2),j=y[0],S=y[1];(0,p.useEffect)((function(){i&&S(i)}),[i]);var _=(0,p.useCallback)((function(e,n){S((function(t){var i=e+n;return t.map((function(n,t){return i>j.length||i<1?n:n.order===i?(0,u.Z)((0,u.Z)({},n),{},{order:e}):n.order===e?(0,u.Z)((0,u.Z)({},n),{},{order:i}):n}))}))}),[j.length]),k=(0,p.useCallback)((function(e){var t=e.setIndex,o=e.type,a=e.uri;if(n&&i){var r=null===i||void 0===i?void 0:i.map((function(e,n){return t===n?(0,u.Z)((0,u.Z)({},e),{},(0,d.Z)({},o,a)):e}));n(r)}else S((function(e){return e.map((function(e,n){return t===n?(0,u.Z)((0,u.Z)({},e),{},(0,d.Z)({},o,a)):e}))}))}),[i,n]),O=(0,p.useCallback)((function(e){e.setId;var t=e.setIndex,i=e.type;(i!==E.Q.img_preview||window.confirm("\u0411\u0443\u0434\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0446\u0456\u043b\u0438\u0439 \u0441\u0435\u0442 \u0444\u043e\u0442\u043e.\n\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438?"))&&S((function(e){var o=e.map((function(e,n){return t===n?(0,u.Z)((0,u.Z)({},e),{},(0,d.Z)({},i,"")):e})).filter((function(e){return e.img_preview})).map((function(e,n){return(0,u.Z)((0,u.Z)({},e),{},{order:n+1})}));return n&&n(o),o}))}),[n]),z=function(){Z.open({ModalChildren:B,modalChildrenProps:{onSubmit:function(e){!function(e){if(n){var t=[].concat((0,c.Z)(null!==i&&void 0!==i?i:[]),[(0,u.Z)((0,u.Z)({},e),{},{order:j.length+1})]);n(t)}else S((function(n){return[].concat((0,c.Z)(n),[(0,u.Z)((0,u.Z)({},e),{},{order:j.length+1})])}))}(e)}}})},U=(0,p.useMemo)((function(){var e,n=j;try{n=(0,c.Z)(j).sort((function(e,n){var t,i;return(null!==(t=null===e||void 0===e?void 0:e.order)&&void 0!==t?t:0)-(null!==(i=null===n||void 0===n?void 0:n.order)&&void 0!==i?i:0)}))}catch(t){n=j}return null===(e=n)||void 0===e?void 0:e.map((function(e,t){var i,o,r,l=(b?D.E_.slice(0,1):D.E_).map((function(n,i){var o;return(0,C.jsx)(I.Z,{src:e[null===n||void 0===n?void 0:n.value],title:null!==(o=n.label)&&void 0!==o?o:"",onEditPress:function(){Z.open({ModalChildren:B,modalChildrenProps:{defaultState:e,type:n.value,onSubmit:function(i){n.value&&i[n.value]&&k({setId:null===e||void 0===e?void 0:e._id,setIndex:t,uri:i[n.value],type:n.value})}}})},onDeletePress:function(){O({setId:"",setIndex:t,type:n.value})}},"small-prev_".concat(i))}));return(0,C.jsxs)(A,{gap:6,fxDirection:"row",maxWidth:"100%",overflow:"hidden",children:[(null===(i=n)||void 0===i?void 0:i.length)>1&&a&&!b&&(0,C.jsx)(K,{currentOrder:null===e||void 0===e?void 0:e.order,canMoveUp:(null!==(o=null===e||void 0===e?void 0:e.order)&&void 0!==o?o:0)>1,onMoveUpPress:function(){(0,W.isNumber)(e.order)&&_(e.order,-1)},canMoveDown:(null!==(r=null===e||void 0===e?void 0:e.order)&&void 0!==r?r:0)<j.length,onMoveDownPress:function(){(0,W.isNumber)(e.order)&&_(e.order,1)}}),(0,C.jsx)(v.ZP,{overflow:"auto",gap:6,fxDirection:"row",children:l})]},"images-set_".concat((null===e||void 0===e?void 0:e._id)||t))}))}),[a,j,k,_,O,Z,b]);return(0,p.useEffect)((function(){i&&S(i)}),[]),(0,C.jsxs)(v.ZP,{maxWidth:"100%",overflow:"hidden",children:[t||(0,C.jsxs)(v.ZP,{padding:"4px 8px",height:"32px",fxDirection:"row",gap:2,alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(h.x,{$weight:600,$size:14,children:!g&&(0,M.t)("Images")}),(0,C.jsx)(P.ZP,{type:"button",variant:"textExtraSmall",onClick:r||z,children:r?(0,M.t)("Close"):(0,M.t)("Add")})]}),(0,C.jsx)(v.ZP,{gap:6,padding:"8px 0",style:f,fxDirection:b?"row":"column",flexWrap:b?"wrap":"unset",children:U}),l&&(0,C.jsx)(l,{onAddNewImageSetPress:z})]})}},98:function(e,n,t){var i,o,a,r,l=t(168),d=t(1413),u=t(7762),c=t(9439),s=t(4942),v=t(7533),p=t(2791),f=t(6492),h=t(2360),m=t(2928),g=t(8095),x=t(7348),b=t(6522),Z=t(3329),w=(i={},(0,s.Z)(i,v.b2.size,{numColumns:4}),(0,s.Z)(i,v.b2.color,{numColumns:2}),(0,s.Z)(i,v.b2.style,{numColumns:2}),(0,s.Z)(i,v.b2.care,{numColumns:1}),i),y=(0,h.ZP)(g.ZP)(o||(o=(0,l.Z)(["\n  border-top: 1px solid ",";\n  &:last-child {\n    border-bottom: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),P=(0,h.ZP)(g.ZP)(a||(a=(0,l.Z)(["\n  width: 100%;\n  display: grid;\n\n  grid-template-columns: repeat(",", 1fr);\n"])),(function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.numColumns)&&void 0!==n?n:2})),D=function(e){var n=e.item,t=e.isSelected,i=e.onSelect;return(0,Z.jsx)(C,{variant:t?"filledMiddle":"outlinedMiddle",padding:"6px 8px",fontWeight:500,onClick:function(){i&&i(n._id)},children:n.label})},C=(0,h.ZP)(m.ZP)(r||(r=(0,l.Z)(["\n  width: 100%;\n  max-width: 100%;\n  min-width: 50px;\n"])));n.Z=function(e){var n,t,i,o,a=e.item,r=e.selectedIds,l=e.onSelect,s=e.isOpen,v=(0,x.i7)(),h=(0,p.useState)(null!==s&&void 0!==s&&s),C=(0,c.Z)(h,2),j=C[0],S=C[1],_=(0,p.useMemo)((function(){var e,n,t;if(null!==(e=a.childrenList)&&void 0!==e&&e.length)return a.childrenList;var i,o=null===a||void 0===a?void 0:a._id,r=[],l=null!==(n=null===(t=v.propertiesKeysMap)||void 0===t?void 0:t[o])&&void 0!==n?n:[],d=(0,u.Z)(l);try{for(d.s();!(i=d.n()).done;){var c,s=i.value,p=null===(c=v.propertiesDataMap)||void 0===c?void 0:c[s];p&&r.push(p)}}catch(f){d.e(f)}finally{d.f()}return r}),[null===a||void 0===a?void 0:a._id,a.childrenList,v.propertiesDataMap,v.propertiesKeysMap]),k=(0,p.useMemo)((function(){return null===_||void 0===_?void 0:_.map((function(e){var n=null===r||void 0===r?void 0:r.includes(e._id);return(0,Z.jsx)(D,{item:e,isSelected:n,onSelect:function(n){return l&&l(a._id,n,null===e||void 0===e?void 0:e.label)}},"prop-value-".concat(e._id))}))}),[_,a._id,l,r]);return(0,p.useEffect)((function(){null!==_&&void 0!==_&&_.length&&S(!0)}),[null===_||void 0===_?void 0:_.length]),(0,Z.jsxs)(y,{gap:8,fillWidth:!0,children:[(0,Z.jsxs)(g.ZP,{gap:8,fxDirection:"row",padding:"6px 0",justifyContent:"space-between",alignItems:"flex-start",children:[(0,Z.jsx)(f.x,{$weight:500,children:a.label}),(0,Z.jsx)(m.ZP,{variant:"onlyIcon",size:"26px",iconSize:"100%",icon:j?"SmallArrowDown":"SmallArrowLeft",onClick:function(){S((function(e){return!e}))}})]}),j&&(0,Z.jsxs)(Z.Fragment,{children:[(null===(n=a.cmsConfigs)||void 0===n?void 0:n.type)&&(0,Z.jsx)(g.ZP,{gap:6,padding:"6px",justifyContent:"center",children:(0,Z.jsxs)(f.x,{$size:11,$weight:400,children:[(0,b.t)("Cms type:")," ",'"'.concat(null===(t=a.cmsConfigs)||void 0===t?void 0:t.type,'"')]})}),(0,Z.jsx)(P,(0,d.Z)((0,d.Z)({fillWidth:!0,padding:"8px 0",gap:6},null!==(i=a.cmsConfigs)&&void 0!==i&&i.type?null===w||void 0===w?void 0:w[null===(o=a.cmsConfigs)||void 0===o?void 0:o.type]:void 0),{},{isActive:j,children:k}))]})]},"property-box-".concat(a._id))}},4717:function(e,n,t){var i,o,a,r=t(168),l=t(2928),d=t(6492),u=t(2360),c=t(8095),s=(t(2791),t(3329)),v=(0,u.ZP)(c.ZP)(i||(i=(0,r.Z)(["\n  min-width: 90px;\n  width: 90px;\n\n  pointer-events: ",";\n\n  &:hover {\n    & .top {\n      min-height: 36px;\n    }\n  }\n"])),(function(e){return e.disabled?"none":"all"})),p=(0,u.ZP)(c.ZP)(o||(o=(0,r.Z)(["\n  //position: absolute;\n  //top: 0;\n  //left: 0;\n  //z-index: 5;\n\n  height: 0;\n  min-height: 0;\n  padding: 0 6px;\n  overflow: hidden;\n\n  //background-color: rgba(26, 26, 26, 0.2);\n  //backdrop-filter: blur(3px);\n\n  transition: min-height ",";\n"])),(function(e){return e.theme.globals.timingFnMain})),f=(0,u.ZP)(c.ZP)(a||(a=(0,r.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 5;\n\n  background-color: rgba(26, 26, 26, 0.2);\n  backdrop-filter: blur(3px);\n"])));n.Z=function(e){var n=e.title,t=e.src,i=e.onDeletePress,o=e.onEditPress,a=e.disabled;e.maxWidth,e.maxHeight;return(0,s.jsxs)(v,{className:"ImagePreview_".concat(n),fillWidth:!0,overflow:"hidden",gap:4,height:"115px",border:"1px solid lightgrey",borderRadius:"2px",style:{position:"relative"},disabled:a,children:[t&&(0,s.jsx)("img",{src:t,alt:n,style:{width:"100%"}}),(0,s.jsxs)(f,{fillWidth:!0,children:[(0,s.jsx)(c.ZP,{padding:"4px",children:(0,s.jsx)(d.x,{$size:12,$weight:500,color:"#fff",children:n})}),(0,s.jsxs)(p,{className:"top",fxDirection:"row",gap:6,style:{fill:"#fff"},alignItems:"center",justifyContent:"space-between",fillWidth:!0,children:[(0,s.jsx)(l.ZP,{variant:"onlyIcon",icon:"edit",iconSize:"28px",disabled:!o,onClick:o}),(0,s.jsx)(l.ZP,{variant:"onlyIcon",icon:"delete",iconSize:"28px",disabled:!i,onClick:i})]})]})]})}},5998:function(e,n,t){t.d(n,{U:function(){return m}});var i=t(1413),o=t(7762),a=t(9439),r=t(3691),l=t(7348),d=t(2791),u=t(3423),c=t(8095),s=t(4990),v=t(6522),p=t(9964),f=t(3383),h=t(3329),m=function(e){var n=e.selected,t=e.onSelect,m=e.filterValue,g=void 0===m?{type:r.iv.GOODS,isSelectable:!0}:m,x=e.hasFilter,b=void 0!==x&&x,Z=(0,l.i7)(),w=(0,d.useState)(g),y=(0,a.Z)(w,2),P=y[0],D=y[1],C=(0,d.useState)(),j=(0,a.Z)(C,2),S=j[0],_=j[1],k=(0,d.useMemo)((function(){var e,n=Z.propertiesByTypeKeysMap[P.type],t=[],i=(0,o.Z)(n);try{for(i.s();!(e=i.n()).done;){var a,r=e.value,l=null===(a=Z.propertiesDataMap)||void 0===a?void 0:a[r];l&&t.push(l)}}catch(d){i.e(d)}finally{i.f()}return t}),[P,Z.propertiesByTypeKeysMap,Z.propertiesDataMap]);return(0,d.useEffect)((function(){n&&_(n)}),[n]),(0,d.useEffect)((function(){null!==k&&void 0!==k&&k.length&&!S&&(t&&k[0]?t(k[0]):_(k[0]))}),[S,t,k]),(0,h.jsxs)(c.ZP,{margin:"8px 0",gap:8,children:[b&&(0,h.jsx)(s.Z,{label:(0,v.t)("Select type"),children:(0,h.jsx)(p.Z,{options:f.LC,value:P.type,onSelect:function(e){var n=e.value;D((function(e){return(0,i.Z)((0,i.Z)({},e),{},{type:n})}))}})}),(0,h.jsx)(u.Z,{label:(0,v.t)("Select properties group"),selectedOption:S,onSelect:function(e){t&&e?t(e):_(e)},options:k,placeholder:(0,v.t)("Select properties group")})]})}},4897:function(e,n,t){t.d(n,{SQ:function(){return u},E_:function(){return c},Dr:function(){return p},Cs:function(){return v},Y5:function(){return s},qo:function(){return f.qo},ni:function(){return f.ni},KS:function(){return f.KS}});var i=t(6522),o=t(3691),a=t(5481),r=t(959),l=t(755),d=t(3299),u=((0,a.Gg)(o.Hb),(0,r.H1)(o.Hb)),c=[{label:"Preview",value:l.Q.img_preview,required:!0},{label:"1x",value:l.Q.img_1x},{label:"2x",value:l.Q.img_2x},{label:"Webp",value:l.Q.webp}],s=[{top:{name:(0,i.t)("label"),getData:function(e){return null===e||void 0===e?void 0:e.label}},getImgPreview:function(e){var n,t;return e.images?null===(n=e.images)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.img_preview:void 0},width:"270px",action:"dataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(e){return null===e||void 0===e?void 0:e.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(e){return null===e||void 0===e?void 0:e.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},bottom:{name:(0,i.t)("status"),getData:function(e){return e.approved}},width:"100px",action:"status"},{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(e){var n;return(0,d.pU)(null===(n=e.price)||void 0===n?void 0:n.out)}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(e){var n;return(0,d.pU)(null===(n=e.price)||void 0===n?void 0:n.in)}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Variation label"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.label)||"---"}},bottom:{name:(0,i.t)("SKU"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.sku)||"---"}},width:"190px",action:"valueByPath"},{top:{name:(0,i.t)("Warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("Code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"150px",action:"valueByPath"},{top:{name:"\u0411\u0440\u0435\u043d\u0434",path:"brand.label"},bottom:{name:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",path:"manufacturer.name"},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043f\u0438\u0441",path:"description"},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043d\u043e\u0432\u0438\u0432",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.editor)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},bottom:{name:"\u0410\u0432\u0442\u043e\u0440",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.author)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},bottom:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},width:"150px",action:"dateDbl"}],v=[{dataKey:"sku",label:"SKU"},{dataKey:"label",label:(0,i.t)("Label")},{dataKey:"barCode",label:(0,i.t)("Bar-code")},{dataKey:"status",label:(0,i.t)("Status")},{dataKey:"price",label:(0,i.t)("Price")}],p=[{dataKey:"sku",label:"SKU"},{dataKey:"label",label:(0,i.t)("Label")},{dataKey:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")}],f=(t(4006),t(2517))},2517:function(e,n,t){t.d(n,{$4:function(){return p},KS:function(){return f},ni:function(){return c},qo:function(){return s}});var i=t(3433),o=t(2973),a=t(6522),r=t(5481),l=t(6981),d=t(3299),u={top:{name:(0,a.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,a.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"},c=((0,r.Gg)(o.D),o.D.new,(0,a.t)(o.D.new),o.D.inWork,(0,a.t)(o.D.inWork),o.D.rejectedByCustomer,(0,a.t)(o.D.rejectedByCustomer),o.D.rejectedByManager,(0,a.t)(o.D.rejectedByManager),o.D.active,(0,a.t)(o.D.active),o.D.fulfilled,(0,a.t)(o.D.fulfilled),o.D.fulfilledWithRefund,(0,a.t)(o.D.fulfilledWithRefund),o.D.archived,(0,a.t)(o.D.archived),o.D.expired,(0,a.t)(o.D.expired),[{top:{name:"".concat((0,a.t)("Status")),getData:function(e){return e.status}},bottom:{name:(0,a.t)("Priority"),getData:function(e){return(0,a.t)("undefined")}},width:"150px",action:"status"},{top:{name:(0,a.t)("Total amount"),align:"end",getData:function(e){var n,t;return(0,d.pU)(null!==(n=null===(t=e.summary)||void 0===t?void 0:t.netto)&&void 0!==n?n:0)}},bottom:{name:(0,a.t)("Slots count"),align:"end",getData:function(e){var n,t;return(null===(n=e.slots)||void 0===n?void 0:n.length)||(null===(t=e.summary)||void 0===t?void 0:t.slotsCount)}},width:"120px",action:"numberWithSpaces"},{top:{name:(0,a.t)("Reference / Internal"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal}},bottom:{name:(0,a.t)("Reference / External"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.external}},width:"190px",action:"valueByPath"},{top:{name:(0,a.t)("Group"),getData:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal}},bottom:{name:(0,a.t)("Strategy"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy}},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Customer"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.customer)||void 0===n?void 0:n.name)&&(null===(t=e.customer)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.customer)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.customer)||void 0===r?void 0:r.label)&&(null===(l=e.customer)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Receiver"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.receiver)||void 0===n?void 0:n.name)&&(null===(t=e.receiver)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.receiver)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.receiver)||void 0===r?void 0:r.label)&&(null===(l=e.receiver)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,a.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Deliveries")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,a.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Manager"),path:"manager.name"},bottom:{name:(0,a.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},u]),s=[{label:"\u0414\u0430\u0442\u0430",dataPath:"eventDate",filter:!1,search:!1,sort:!0},{label:"\u041c\u0456\u0442\u043a\u0430",dataPath:"mark.label",filter:!1,search:!0,sort:!0},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",dataPath:"status",filter:!1,search:!1,sort:!0},{label:(0,a.t)("type"),dataPath:"type",filter:!1,search:!0,sort:!0},{label:(0,a.t)("amount"),dataPath:"total",filter:!1,search:!0,sort:!0},{label:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",dataPath:"createdAt",filter:!1,search:!1,sort:!0},{label:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",dataPath:"updatedAt",filter:!1,search:!1,sort:!0}],v=["cashback","bonus","discount"];var p=[{top:{name:(0,a.t)("Offer label"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.label}},bottom:{name:(0,a.t)("Variation label"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},action:"valueByPath",width:"210px"},{top:{name:(0,a.t)("Total amount"),getData:function(e){return e.netto}},bottom:{name:(0,a.t)("Total q-ty"),getData:function(e){return e.quantity}},action:"valueByPath",width:"125px"}].concat((0,i.Z)((0,l.yL)()),(0,i.Z)(v.map((function(e){return{top:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,d.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.amount)}},bottom:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,d.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.percentage)}},action:"valueByPath",width:"90px"}}))),[{top:{name:(0,a.t)("Offer sku"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.sku}},bottom:{name:(0,a.t)("Variation sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},action:"valueByPath",width:"150px"},{top:{name:(0,a.t)("Offer bar-code"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.barCode}},bottom:{name:(0,a.t)("Variation bar-code"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},action:"valueByPath",width:"150px"},u]),f=p},755:function(e,n,t){t.d(n,{Q:function(){return i}});var i=function(e){return e.img_preview="img_preview",e.img_1x="img_1x",e.img_2x="img_2x",e.webp="webp",e}({})}}]);
//# sourceMappingURL=553.6273f03e.chunk.js.map