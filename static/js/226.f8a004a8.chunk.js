"use strict";(self.webpackChunkcounter_app_ts=self.webpackChunkcounter_app_ts||[]).push([[226],{2483:function(e,n,t){t.d(n,{j:function(){return f}});var i,o,r=t(168),l=t(1413),a=t(4781),d=t(2791),u=t(2360),c=t(8095),s=t(3329),v=(0,d.createContext)({}),f=function(e){var n=(0,a.on)(),t=(0,d.useCallback)((function(e){return function(t){t.target===t.currentTarget&&n.remove(e)}}),[n]),i=(0,d.useMemo)((function(){return n.getStack().map((function(e,i){var o=e.RenderComponent,r=e.props,a=e.id;return(0,s.jsx)(h,{className:"overlay-".concat(a),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(a),children:(0,s.jsx)(v.Provider,{value:{onClose:function(){n.remove(a)},compId:a,index:i},children:(0,s.jsx)(o,(0,l.Z)((0,l.Z)({},r),{},{onClose:function(){n.remove(a)},compId:a,index:i}),"overlay-".concat(a))})},"overlay-".concat(a))}))}),[t,n]);return(0,s.jsx)(p,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},p=(0,u.ZP)(c.ZP)(i||(i=(0,r.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(e){return e.isActive?0:"100%"}),(function(e){return e.isActive?1:0}),(function(e){return e.isActive?"visible":"hidden"}),(function(e){return e.isActive?"all":"none"}),(function(e){return e.theme.backdropColor}),(function(e){return e.theme.globals.timingFunctionMain})),h=(0,u.ZP)(c.ZP)(o||(o=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  height: 100%;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(e,n,t){t.d(n,{on:function(){return c}});var i=t(1413),o=t(3433),r=t(9439),l=t(2791),a=t(6382),d=t(3329),u=(0,l.createContext)({}),c=function(){return(0,l.useContext)(u)};n.ZP=function(e){var n=e.children,t=(0,l.useState)([]),c=(0,r.Z)(t,2),s=c[0],v=c[1],f=(0,l.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]),p=(0,l.useCallback)((function(){v([])}),[]),h=(0,l.useCallback)((function(e){var n="".concat(e.RenderComponent.name,"_").concat((0,a.x0)(8));return"function"===typeof e.RenderComponent&&v((function(t){var r=t.find((function(n){return n.id.includes(e.RenderComponent.name)}));if(r){var l=t.filter((function(e){var n,t;return(null===(n=e.RenderComponent)||void 0===n?void 0:n.name)!==(null===(t=r.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(l),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])})),{onClose:function(){return f(n)},compId:n}}),[f]),m={getStack:function(){return s},remove:f,clearStack:p,open:h,create:function(e,n){return h({RenderComponent:e,props:n})}};return(0,d.jsx)(u.Provider,{value:m,children:n})}},9663:function(e,n,t){t.r(n),t.d(n,{default:function(){return ln},useOfferOverviewLoaders:function(){return on}});var i,o,r,l,a,d,u=t(168),c=t(9439),s=t(2360),v=t(8495),f=t(6931),p=t(2791),h=t(3226),m=t(4942),x=t(8553),g=t(6492),b=t(9953),Z=t(8095),C=t(8189),w=t(1413),j=t(4165),P=t(5861),y=t(1819),S=t(400),k=t(3665),_=t(2989),B=t(7578),A=t(8767),D=t(6981),I=t(4293),O=t(9978),M=t(3329),R=function(e){var n,t=e.onSelect,i=e.selected,o=e.withActions,r=void 0===o||o,l=(0,k.f9)(),a=(0,y.xc)()[y.EJ.offers],d=(0,_.Zx)().offerId,u=(0,_.G2)({_id:d}),s=(0,p.useState)(),v=(0,c.Z)(s,2),f=v[0],h=v[1],m=(0,B.un)(),x=(0,I.TL)(),g=(0,p.useCallback)(function(){var e=(0,P.Z)((0,j.Z)().mark((function e(n){var t,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.refresh,i=n.update,u){e.next=3;break}return e.abrupt("return");case 3:a.getAllPrices({data:{params:{offerId:null===u||void 0===u?void 0:u._id},refreshCurrent:t,updateCurrent:i},onLoading:null===m||void 0===m?void 0:m.onLoading("prices")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u,m,a]),b=(0,p.useMemo)((function(){return{onRowClick:function(e){var n;(h(null===e||void 0===e?void 0:e.rowData),t)&&t({_id:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e||null===(n=e.rowData)||void 0===n?void 0:n._id)||""})},actionsCreator:r?function(e){var n,t=(null===(n=e.selectedRow)||void 0===n?void 0:n._id)||(null===f||void 0===f?void 0:f._id);return[{icon:"refresh",type:"onlyIcon",onClick:function(){return g({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!0},{icon:"copy",type:"onlyIcon",disabled:!0},{icon:"edit",type:"onlyIcon",disabled:!t,onClick:function(){x((0,O.SN)({data:{params:{_id:t}},onLoading:m.onLoading("price",void 0,{content:"Refreshing price info..."}),onSuccess:function(){l.open({ModalChildren:A.Z,modalChildrenProps:{offer:u,updateId:t}})}}))}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){l.open({ModalChildren:A.Z,modalChildrenProps:{offer:u}})}}]}:void 0}}),[r,t,null===f||void 0===f?void 0:f._id,g,x,m,l,u]);return(0,p.useEffect)((function(){g({refresh:!0})}),[]),(0,M.jsx)(S.ZP,(0,w.Z)((0,w.Z)({},b),{},{hasSearch:!1,hasFilter:!1,isLoading:null===m||void 0===m||null===(n=m.isLoading)||void 0===n?void 0:n.prices,selectedRow:i,tableData:null===u||void 0===u?void 0:u.prices,tableTitles:D.po}))},L=t(758),T=t(3664),E=t(7348),V=t(387),U=function(e){var n=e.onSelect,t=e.selected,i=e.withActions,o=(0,E.i7)().currentOffer,r=(0,k.f9)(),l=(0,y.xc)()[y.EJ.offers],a=(0,p.useState)(!1),d=(0,c.Z)(a,2),u=d[0],s=d[1],v=(0,p.useCallback)((function(e){var n=e.refresh;e.update;if(o){var t=(0,V.rE)(o);l.getAllInventories({data:{refreshCurrent:n,params:{offer:t}},onLoading:s})}}),[o,l]),f=(0,p.useMemo)((function(){return{tableData:null===o||void 0===o?void 0:o.inventories,tableTitles:L.QX,onRowClick:function(e){if(n){if(null!==e&&void 0!==e&&e.rowData)return void n((0,V.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&n({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:i?function(e){return[{icon:"refresh",type:"onlyIcon",onClick:function(){return v({refresh:!0})}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){r.open({ModalChildren:T.Z.CreateWarehouseDocument,modalChildrenProps:{}})}}]}:void 0}}),[null===o||void 0===o?void 0:o.inventories,v,r,n,i]);return(0,p.useEffect)((function(){v({refresh:!0})}),[]),(0,M.jsx)(S.ZP,(0,w.Z)((0,w.Z)({},f),{},{hasSearch:!1,hasFilter:!1,isLoading:u,selectedRow:t}))},N=t(1251),H=function(e){return(0,M.jsx)(Z.ZP,{padding:"16px",children:(0,M.jsx)(g.x,{$size:16,$weight:600,children:"In work"})})},W=t(9541),$=function(e){return e.Prices="Prices",e.Variations="Variations",e.Warehousing="Warehousing",e.Sales="Sales",e}($||{}),F=(0,x.H1)($),z=(0,s.ZP)(Z.ZP)(i||(i=(0,u.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.25);\n  }\n"])),(function(e){return e.theme.globals.timingFunctionMain}),(function(e){return e.theme.backgroundColorLight}),(function(e){return e.isVisible?0:100})),G=(0,s.ZP)(Z.ZP)(o||(o=(0,u.Z)(["\n  border-top: 1px solid ",";\n  //border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),J=function(e){var n,t,i=e.isVisible,o=e.toggleVisibility,r=(0,h.rh)(),l=(0,W.J)(),a=(0,p.useState)(F[0].value),d=(0,c.Z)(a,2),u=d[0],s=d[1],v=(0,p.useMemo)((function(){var e,n;if(!r.currentOffer)return null;var t=(e={},(0,m.Z)(e,$.Variations,(0,M.jsx)(C.Z,{withActions:!0})),(0,m.Z)(e,$.Warehousing,(0,M.jsx)(U,{withActions:!0})),(0,m.Z)(e,$.Prices,(0,M.jsx)(R,{withActions:!0})),(0,m.Z)(e,$.Sales,(0,M.jsx)(H,{withActions:!0})),e);return null!==(n=null===t||void 0===t?void 0:t[u])&&void 0!==n?n:null}),[u,r.currentOffer]);return(0,M.jsx)(B.f4,{value:l,children:(0,M.jsxs)(z,{overflow:"hidden",fillHeight:!0,isVisible:i,children:[i&&(0,M.jsx)(N.xB,{onBackPress:o,renderTitle:(0,M.jsxs)(Z.ZP,{padding:"0 8px",fxDirection:"row",alignItems:"center",justifyContent:"center",gap:8,children:[(0,M.jsx)(g.x,{$weight:600,$size:14,children:null===r||void 0===r||null===(n=r.currentOffer)||void 0===n?void 0:n.label}),(0,M.jsx)(g.x,{$size:14,children:null===r||void 0===r||null===(t=r.currentOffer)||void 0===t?void 0:t.sku})]})}),(0,M.jsxs)(G,{overflow:"hidden",fillWidth:!0,flex:1,children:[(0,M.jsx)(b.Z,{filterOptions:F,onOptSelect:function(e,n,t){s(n)},preventDefault:!0}),v]})]})})},q=t(2483),K=t(4925),Y=t(2928),X=t(6522),Q=t(7121),ee=t(4781),ne=t(5227),te=t(1483),ie=t(763),oe=t(870),re=t(6753),le=t(6493),ae=t(9184),de=(0,s.ZP)(Z.ZP)(r||(r=(0,u.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),ue=function(e){var n,t,i,o=e.onClose,r=(0,y.xc)()[y.EJ.offers],l=(0,_.G2)(),a=(0,E.q$)(oe.cA.CATEGORIES_PROD).directory,d=(0,W.J)({update:{content:"Loadings..."}}),u=(0,te.sK)(null===l||void 0===l||null===(n=l.categories)||void 0===n?void 0:n.map((function(e){return e._id}))),s=(0,p.useState)(u),v=(0,c.Z)(s,2),f=v[0],h=v[1],m=(0,p.useMemo)((function(){return(null===u||void 0===u?void 0:u.join(","))!==(0,te.sK)(f).join(",")}),[u,f]);return(0,p.useEffect)((function(){null!==l&&void 0!==l&&l.categories&&h(null===l||void 0===l?void 0:l.categories.map((function(e){return e._id})))}),[]),(0,M.jsxs)(Q.dF,{onSubmit:function(e){e.preventDefault(),l&&r.updateById({onLoading:d.onLoading("update"),data:(0,w.Z)((0,w.Z)({},(0,te.rE)(l)),{},{data:{categories:f},refreshCurrent:!0}),onSuccess:function(e,n){o&&o()}})},children:[(0,M.jsx)(Q.iw,{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457",onBackPress:o,canSubmit:m,okButton:!0,isLoading:null===(t=d.isLoading)||void 0===t?void 0:t.update}),(0,M.jsx)(de,{padding:"0 0 8px 0",flex:1,overflow:"auto",children:(0,M.jsx)(ae.Z,{onChangeIds:h,options:a,defaultData:f,offer:l})}),(0,M.jsx)(Q.AT,{canSubmit:m,loading:null===(i=d.isLoading)||void 0===i?void 0:i.update})]})},ce=function e(n){var t,i,o=n.item,r=n.lvl,l=void 0===r?0:r,a=n.selectedIds,d=(0,p.useMemo)((function(){var n;return null===o||void 0===o||null===(n=o.childrenList)||void 0===n?void 0:n.map((function(n,t){return(0,M.jsx)(e,{item:n,index:t,lvl:l+1,selectedIds:a},"item_lvl_".concat(l,"_").concat(n._id))}))}),[null===o||void 0===o?void 0:o.childrenList,l,a]),u=(0,p.useMemo)((function(){return a.includes(o._id)}),[o._id,a]);return(0,M.jsxs)(M.Fragment,{children:[u&&(0,M.jsxs)(re.U.CategoryItem,{fxDirection:"row",alignItems:"center",padding:"0 2px 0 12px",gap:2,children:[(null===o||void 0===o||null===(t=o.parent)||void 0===t?void 0:t.label)&&"".concat(null===o||void 0===o||null===(i=o.parent)||void 0===i?void 0:i.label,"/"),"".concat(null===o||void 0===o?void 0:o.label)]}),d]})},se=t(3433),ve=t(7762),fe=t(1383),pe=t(98),he=t(5998),me=["onClose","title","defaultState","onSubmit","updateId","offer","template","onSelect","onChange"],xe=(0,s.ZP)(Z.ZP)(l||(l=(0,u.Z)(["\n  padding-bottom: 8px;\n"]))),ge=function(e){var n,t=e.onClose,i=e.title,o=(e.defaultState,e.onSubmit),r=e.updateId,l=e.offer,a=(e.template,e.onSelect,e.onChange,(0,K.Z)(e,me)),d=(0,_.G2)(l),u=(0,E.i7)(),s=(0,y.xc)()[y.EJ.offers],v=(0,p.useState)(),f=(0,c.Z)(v,2),h=f[0],m=f[1],x=(0,p.useState)(!1),g=(0,c.Z)(x,2),b=g[0],Z=g[1],C=(0,p.useState)([]),j=(0,c.Z)(C,2),P=j[0],S=j[1],k=(0,p.useMemo)((function(){var e;return(0,te.sK)(null===d||void 0===d||null===(e=d.properties)||void 0===e?void 0:e.map((function(e){return e._id})))}),[null===d||void 0===d?void 0:d.properties]);(0,p.useEffect)((function(){null!==k&&void 0!==k&&k.length&&S(k)}),[]);var B=(0,p.useMemo)((function(){var e,n,t,i=null===h||void 0===h?void 0:h._id,o=[],r=null!==(e=null===(n=u.propertiesKeysMap)||void 0===n?void 0:n[null!==i&&void 0!==i?i:"def"])&&void 0!==e?e:[],l=(0,ve.Z)(r);try{for(l.s();!(t=l.n()).done;){var a,d=t.value,c=null===(a=u.propertiesDataMap)||void 0===a?void 0:a[d];if(c&&(null===c||void 0===c||!c.isSelectable)){var s=u.propertiesKeysMap[null===c||void 0===c?void 0:c._id];null!==s&&void 0!==s&&s.length&&o.push(c)}}}catch(v){l.e(v)}finally{l.f()}return o}),[null===h||void 0===h?void 0:h._id,u.propertiesDataMap,u.propertiesKeysMap]),A=(0,p.useMemo)((function(){var e;return(null===(e=(0,te.sK)(k))||void 0===e?void 0:e.join(","))!==(0,te.sK)(P).join(",")}),[k,P]),D=(0,p.useCallback)((function(e){e.preventDefault();var n=null!==r&&void 0!==r?r:null===d||void 0===d?void 0:d._id;n?s.updateById({data:{_id:n,data:{properties:P}},onLoading:Z,onSuccess:function(e,n){fe.kl.success("Product updated"),t&&t()}}):console.debug("selectedIds",P),o&&o(P)}),[null===d||void 0===d?void 0:d._id,t,o,P,s,r]),I=(0,p.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";S((function(e){return e.includes(n)?e.filter((function(e){return e!==n})):[].concat((0,se.Z)(e),[n])}))}),[]),O=(0,p.useMemo)((function(){return null===B||void 0===B?void 0:B.map((function(e){return(0,M.jsx)(pe.Z,{item:e,selectedIds:P,onSelect:I},"prop_".concat(e._id))}))}),[B,P,I]);return(0,p.useEffect)((function(){null!==d&&void 0!==d&&d.properties&&S(null===d||void 0===d?void 0:d.properties.map((function(e){return e._id})))}),[null===d||void 0===d?void 0:d.properties]),(0,M.jsxs)(Q.dF,(0,w.Z)((0,w.Z)({onSubmit:D},a),{},{children:[(0,M.jsx)(Q.iw,{onBackPress:t,canSubmit:A,title:null!==(n=i||(null===h||void 0===h?void 0:h.label))&&void 0!==n?n:"",okButton:!0}),(0,M.jsx)(he.U,{onSelect:m,selected:h}),(0,M.jsx)(xe,{flex:1,overflow:"auto",children:O}),(0,M.jsx)(Q.AT,{canSubmit:A,loading:b,submitButtonText:b?"Loading...":"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]}))},be=function(e){var n=e.item,t=e.selectedIds,i=e.selectedItems,o=(0,p.useMemo)((function(){var e,o=null!==i&&void 0!==i&&i.length?i:null===(e=n.childrenList)||void 0===e?void 0:e.filter((function(e){return null===t||void 0===t?void 0:t.includes(e._id)}));return null===o||void 0===o?void 0:o.map((function(e,n){return(0,M.jsx)(re.U.CategoryItem,{className:"PROP_VALUE",maxWidth:"130px",children:e.label},"prop-v-".concat(e._id))}))}),[n.childrenList,t,i]);return(0,M.jsxs)(Z.ZP,{className:"PROPERTY",gap:8,alignItems:"flex-end",children:[(0,M.jsx)(Z.ZP,{alignItems:"center",fxDirection:"row",fillWidth:!0,gap:8,children:(0,M.jsx)(re.U.CellText,{$size:13,$weight:600,children:null===n||void 0===n?void 0:n.label})}),(0,M.jsx)(Z.ZP,{fxDirection:"row",flexWrap:"wrap",fillWidth:!0,gap:6,children:o&&(null===o||void 0===o?void 0:o.length)>0?o:(0,M.jsx)(g.x,{$size:12,children:"---"})})]})},Ze=t(9069),Ce=function(e){var n=e.onSelect,t=e.withActions,i=(e.selected,e.types),o=(0,p.useState)(!1),r=(0,c.Z)(o,1)[0],l=(0,E.q$)(oe.cA.CONTRACTORS).directory,a=(0,p.useMemo)((function(){return l.filter((function(e){return i&&i.includes(e.type)}))}),[l,i]),d=(0,p.useMemo)((function(){return{tableData:a,tableTitles:Ze.PU,onRowClick:function(e){if(n){if(null!==e&&void 0!==e&&e.rowData)return void n((0,V.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&n({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:t?function(e){return[]}:void 0}}),[a,n,t]);return(0,M.jsx)(S.ZP,(0,w.Z)({hasSearch:!1,isLoading:r},d))},we=function(e){return e.CUSTOMER="CUSTOMER",e.SUPPLIER="SUPPLIER",e.EMPLOYEE="EMPLOYEE",e.CONTRACTOR="CONTRACTOR",e.SUB_CONTRACTOR="SUB_CONTRACTOR",e.COMMISSION_AGENT="COMMISSION_AGENT",e.CONSIGNOR="CONSIGNOR",e.TRANSPORTER="TRANSPORTER",e.DELIVER="DELIVER",e}({}),je=function(e){var n,t=e.onSelect,i=e.selected,o=(e.withActions,(0,y.xc)().warehouses),r=(0,B.un)(),l=(0,E.eO)().warehouses,a=(0,p.useCallback)((function(){o.getAll({onLoading:r.onLoading("warehouses"),data:{refresh:!0}})}),[r,o]);(0,p.useEffect)((function(){a()}),[]);var d=(0,p.useMemo)((function(){return{tableData:l,tableTitles:L.A7,onRowClick:function(e){if(t){if(null!==e&&void 0!==e&&e.rowData)return void t((0,te.rE)(null===e||void 0===e?void 0:e.rowData));null!==e&&void 0!==e&&e._id&&t({_id:null===e||void 0===e?void 0:e._id})}},actionsCreator:function(e){return[{icon:"refresh",onClick:a}]}}}),[a,t,l]);return(0,M.jsx)(S.ZP,(0,w.Z)((0,w.Z)({hasSearch:!1},d),{},{isLoading:null===(n=r.isLoading)||void 0===n?void 0:n.warehouses,selectedRow:i}))},Pe=function(e){return e.price="price",e.variation="variation",e.warehouse="warehouse",e.inventory="inventory",e.supplier="supplier",e}({}),ye=(0,te.H1)(Pe),Se=s.ZP.form(a||(a=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  flex: 1;\n\n  padding: 0 8px;\n\n  width: 480px;\n  max-width: 100%;\n\n  height: 100%;\n\n  background-color: ",";\n"])),(function(e){return e.theme.modalBackgroundColor})),ke=(0,s.ZP)(Z.ZP)(d||(d=(0,u.Z)(["\n  border-top: 1px solid ",";\n\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),_e=function(e){var n,t=e.onClose,i=(e.onSubmit,(0,W.J)()),o=null===(n=(0,_.Zx)())||void 0===n?void 0:n.offerId,r=(0,_.G2)({_id:o}),l=(0,y.xc)()[y.EJ.offers],a=(0,p.useState)(0),d=(0,c.Z)(a,2),u=d[0],s=d[1],v=(0,_.hN)(),f=v.setValue,h=v.formValues,x=v.handleSubmit,g=(0,p.useCallback)((function(e){f(ye[u].value,e)}),[u,f]),Z=(0,p.useMemo)((function(){var e,n,t;return null!==(n=(e={},(0,m.Z)(e,Pe.warehouse,(0,M.jsx)(je,{withActions:!0,onSelect:g,selected:null===h||void 0===h?void 0:h.warehouse})),(0,m.Z)(e,Pe.price,(0,M.jsx)(R,{withActions:!0,onSelect:g,selected:null===h||void 0===h?void 0:h.price})),(0,m.Z)(e,Pe.variation,(0,M.jsx)(C.Z,{withActions:!0,onSelect:g,selected:null===h||void 0===h?void 0:h.variation})),(0,m.Z)(e,Pe.inventory,(0,M.jsx)(U,{withActions:!0,onSelect:g,selected:null===h||void 0===h?void 0:h.inventory})),(0,m.Z)(e,Pe.supplier,(0,M.jsx)(Ce,{withActions:!0,types:[we.SUPPLIER],onSelect:g,selected:null===h||void 0===h?void 0:h.supplier})),e)[null===(t=ye[u])||void 0===t?void 0:t.value])&&void 0!==n?n:null}),[u,null===h||void 0===h?void 0:h.inventory,null===h||void 0===h?void 0:h.price,null===h||void 0===h?void 0:h.supplier,null===h||void 0===h?void 0:h.variation,null===h||void 0===h?void 0:h.warehouse,g]),w=(0,p.useMemo)((function(){var e,n,t,i,o,l,a,d=null===r||void 0===r?void 0:r.defaults,c=(0,m.Z)({},null!==(e=null===ye||void 0===ye||null===(n=ye[u])||void 0===n?void 0:n.value)&&void 0!==e?e:"",!0);return c.variation?h.variation&&h.variation._id!==(null===d||void 0===d||null===(t=d.variation)||void 0===t?void 0:t._id):c.price?h.price&&h.price._id!==(null===d||void 0===d||null===(i=d.price)||void 0===i?void 0:i._id):c.warehouse?h.warehouse&&h.warehouse._id!==(null===d||void 0===d||null===(o=d.warehouse)||void 0===o?void 0:o._id):c.inventory?h.inventory&&h.inventory._id!==(null===d||void 0===d||null===(l=d.inventory)||void 0===l?void 0:l._id):c.supplier?h.supplier&&h.supplier._id!==(null===d||void 0===d||null===(a=d.supplier)||void 0===a?void 0:a._id):void 0}),[null===r||void 0===r?void 0:r.defaults,u,h.inventory,h.price,h.supplier,h.variation,h.warehouse]);return(0,M.jsx)(B.f4,{value:i,children:(0,M.jsxs)(Se,{onSubmit:x((function(e){(null===r||void 0===r?void 0:r._id)&&l.setDefaults({data:{_id:null===r||void 0===r?void 0:r._id,defaults:(0,te.vg)(e),updateCurrent:!0},onSuccess:function(e,n){console.log(e,n)},onLoading:i.onLoading("submiting")})})),children:[(0,M.jsx)(N.xB,{onBackPress:t,title:(0,X.t)("Default values"),canSubmit:w}),(0,M.jsx)(b.Z,{filterOptions:ye,currentIndex:u,onChangeIndex:s}),(0,M.jsx)(ke,{flex:1,fillWidth:!0,overflow:"hidden",children:Z}),(0,M.jsx)(N.AT,{loading:i.hasLoading,onCreatePress:function(){},canSubmit:w})]})})},Be=t(3299);var Ae,De,Ie,Oe,Me,Re,Le=t(4717),Te=t(713),Ee=s.ZP.form(Ae||(Ae=(0,u.Z)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 480px;\n\n  padding: 0 8px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),Ve=function(e){var n=e.onClose,t=(0,E.i7)().currentOffer,i=(0,y.xc)()[y.EJ.offers],o=(0,p.useState)((null===t||void 0===t?void 0:t.images)||[]),r=(0,c.Z)(o,2),l=r[0],a=r[1],d=(0,p.useState)(!1),u=(0,c.Z)(d,2),v=u[0],f=u[1],h=(0,s.Fg)();return(0,M.jsx)(Ee,{onSubmit:function(e){e.preventDefault(),t&&i.updateById({data:(0,w.Z)((0,w.Z)({},(0,V.rE)(t)),{},{data:{images:l},refreshCurrent:!0}),onSuccess:function(){n&&n()},onLoading:f})},children:(0,M.jsx)(Te.Z,{initialData:l,onClose:n,onChangeState:a,contentContainerStyle:{flex:1,borderTop:"1px solid ".concat(h.sideBarBorderColor),borderBottom:"1px solid ".concat(h.sideBarBorderColor)},renderHeader:(0,M.jsx)(Q.iw,{title:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",onBackPress:n,okButton:!0,canSubmit:l.length>0}),FooterComponent:function(e){return(0,M.jsx)(Q.AT,{onCreatePress:e.onAddNewImageSetPress,loading:v,canSubmit:l.length>0})}})})},Ue=t(4897),Ne=["className"],He=["CellComponent"],We=function(e){return e.General="General",e.Properties="Properties",e.Defaults="Defaults",e.Images="Images",e.Futures="Futures",e.Cms="Cms",e}({}),$e=(0,te.H1)(We),Fe=(0,s.ZP)(Z.ZP)(De||(De=(0,u.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),ze=(0,s.ZP)(Z.ZP)(Ie||(Ie=(0,u.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),Ge=(0,s.ZP)(Z.ZP)(Oe||(Oe=(0,u.Z)([""]))),Je=(0,s.ZP)(Y.Z)(Me||(Me=(0,u.Z)(["\n  fill: ",";\n"])),(function(e){return e.theme.globals.colors.error})),qe=(0,s.ZP)(Y.Z)(Re||(Re=(0,u.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),Ke=[{title:(0,X.t)("Label"),getValue:function(e){return null===e||void 0===e?void 0:e.label},gridArea:"label",tab:We.General},{title:(0,X.t)("status"),getValue:function(e){return null===e||void 0===e?void 0:e.approved},gridArea:"approved",tab:We.General},{title:(0,X.t)("Type"),getValue:function(e){return null===e||void 0===e?void 0:e.type},gridArea:"type",tab:We.General},{title:(0,X.t)("SKU"),getValue:function(e){return null===e||void 0===e?void 0:e.sku},gridArea:"sku",tab:We.General},{title:(0,X.t)("Bar-code"),getValue:function(e){return null===e||void 0===e?void 0:e.barCode},gridArea:"barCode",tab:We.General},{title:(0,X.t)("Categories"),CellComponent:function(e){var n=e.cell,t=e.overlayHandler,i=e.data,o=(0,E.q$)(oe.cA.CATEGORIES_PROD).directory,r=(0,p.useMemo)((function(){var e,n;return null!==(e=null===i||void 0===i||null===(n=i.categories)||void 0===n?void 0:n.map((function(e){return e._id})))&&void 0!==e?e:[]}),[null===i||void 0===i?void 0:i.categories]),l=(0,p.useMemo)((function(){return o.map((function(e,n){return(0,M.jsx)(ce,{selectedIds:r,item:e},"cat_".concat(e._id))}))}),[o,r]);return(0,M.jsxs)(re.U.Cell,{style:{minHeight:"max-content"},children:[(0,M.jsx)(le.p,{title:null===n||void 0===n?void 0:n.title,openOverlayButtonTitle:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438",onOpenOverlayPress:function(){t({RenderComponent:ue})}}),(0,M.jsx)(Z.ZP,{fillWidth:!0,fxDirection:"row",justifyContent:"flex-end",flexWrap:"wrap",gap:8,style:{height:"max-content",minHeight:26},children:l})]})},gridArea:"categories",tab:We.Properties},{title:(0,X.t)("Brand"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.brand)||void 0===n?void 0:n.label},gridArea:"brand",tab:We.General},{title:(0,X.t)("Measurement"),gridArea:"measurement",getValue:function(e){try{var n=null!==e&&void 0!==e&&e.measurement?JSON.parse(null===e||void 0===e?void 0:e.measurement):{};return["".concat((0,X.t)("unit"),": ").concat((null===n||void 0===n?void 0:n.unit)||0),"".concat((0,X.t)("min"),": ").concat((null===n||void 0===n?void 0:n.min)||0),"".concat((0,X.t)("max"),": ").concat((null===n||void 0===n?void 0:n.max)||0),"".concat((0,X.t)("step"),": ").concat((null===n||void 0===n?void 0:n.step)||0)].join(" | ")}catch(t){return""}},tab:We.General},{title:(0,X.t)("Description"),getValue:function(e){return null===e||void 0===e?void 0:e.description},gridArea:"description",tab:We.General},{title:(0,X.t)("Negative sales"),getValue:function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&n.negativeSale?"Yes":"No"},gridArea:"reservation",tab:We.Futures},{title:(0,X.t)("Reservation"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(t=n.reservation)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"reservation",tab:We.Futures},{title:(0,X.t)("Custom production"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(t=n.customProduction)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"customProduction",tab:We.Futures},{title:(0,X.t)("Custom order"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(t=n.customOrder)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"customOrder",tab:We.Futures},{title:(0,X.t)("Pre-order"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&null!==(n=e.futures)&&void 0!==n&&null!==(t=n.preOrder)&&void 0!==t&&t.isAvailable?"Yes":"No"},gridArea:"preOrder",tab:We.Futures},{title:(0,X.t)("Is promo"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.futures)||void 0===n?void 0:n.isPromo},gridArea:"isPromo",tab:We.Futures},{title:(0,X.t)("Properties"),CellComponent:function(e){var n,t,i,o,r=e.cell,l=e.overlayHandler,a=e.data,d=(0,E.i7)(),u=(0,_.G2)(a),c=(0,p.useRef)(new Set(null!==(n=null===u||void 0===u||null===(t=u.properties)||void 0===t?void 0:t.map((function(e){return e._id})))&&void 0!==n?n:[])),s=(0,p.useRef)(new Set(null!==(i=null===u||void 0===u||null===(o=u.properties)||void 0===o?void 0:o.map((function(e){var n;return null===e||void 0===e||null===(n=e.parent)||void 0===n?void 0:n._id})))&&void 0!==i?i:[])),v=(0,p.useMemo)((function(){for(var e=[],n={},t=0,i=Array.from(s.current);t<i.length;t++){var o,r=i[t],l=r?null===(o=d.propertiesDataMap)||void 0===o?void 0:o[r]:void 0;l&&(e.push(l),n[l._id]=[])}for(var a=0,u=Array.from(c.current);a<u.length;a++){var v,f,p,h=u[a],m=h?null===(v=d.propertiesDataMap)||void 0===v?void 0:v[h]:void 0;if(m&&null!==(f=m.parent)&&void 0!==f&&f._id)n[null===(p=m.parent)||void 0===p?void 0:p._id].push(m)}return{propertiesList:e,valuesListMap:n}}),[d.propertiesDataMap]),f=v.propertiesList,h=v.valuesListMap,m=(0,p.useMemo)((function(){return null===f||void 0===f?void 0:f.map((function(e,n){return(0,M.jsx)(be,{index:n,overlayHandler:l,item:e,selectedItems:h[e._id],data:a},"prop-".concat(null===e||void 0===e?void 0:e._id))}))}),[f,l,h,a]);return(0,M.jsxs)(re.U.Cell,{padding:"4px 4px 8px",gap:8,className:"PROPERTIES_LIST_CELL",style:{minHeight:m&&(null===m||void 0===m?void 0:m.length)>0?"max-content":50},children:[(0,M.jsx)(le.p,{title:null===r||void 0===r?void 0:r.title,onOpenOverlayPress:function(){l({RenderComponent:ge,props:{offer:a}})}}),(0,M.jsx)(Z.ZP,{fillWidth:!0,gap:8,alignItems:m&&(null===m||void 0===m?void 0:m.length)>0?"stretch":"flex-end",children:(null===f||void 0===f?void 0:f.length)>0?m:(0,M.jsx)(re.U.CellText,{$weight:500,children:(0,X.t)("undefined")})})]})},gridArea:"properties",tab:We.Properties},{title:(0,X.t)("Default values"),CellComponent:function(e){var n=e.data,t=e.cell,i=e.overlayHandler,o=(0,s.Fg)(),r=null===n||void 0===n?void 0:n.warehouse,l=null===n||void 0===n?void 0:n.supplier,a=null===n||void 0===n?void 0:n.price;console.log("OfferOverviewDefaultsCell",{price:a,data:n});var d=(0,p.useMemo)((function(){var e,t=null===n||void 0===n?void 0:n.variation;return[{title:(0,X.t)("Label"),value:null===t||void 0===t?void 0:t.label},{title:(0,X.t)("Bar-code"),value:null===t||void 0===t?void 0:t.barCode},{title:(0,X.t)("SKU"),value:null===t||void 0===t?void 0:t.sku},{title:(0,X.t)("Props q-ty"),value:null===t||void 0===t||null===(e=t.properties)||void 0===e?void 0:e.length}].map((function(e,n){var t;return(0,M.jsxs)(Z.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,M.jsx)(g.x,{$size:14,children:"".concat(null===e||void 0===e?void 0:e.title,": ")}),(0,M.jsx)(g.x,{$size:14,$weight:600,$align:"right",children:null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"---"})]},null===e||void 0===e?void 0:e.title)}))}),[null===n||void 0===n?void 0:n.variation]),u=(0,p.useMemo)((function(){return function(e){var n,t,i,o,r,l;return[{title:(0,X.t)("Input"),amount:(0,Be.pU)(null===e||void 0===e?void 0:e.in)},{title:(0,X.t)("Output"),amount:(0,Be.pU)(null===e||void 0===e?void 0:e.out)},{title:(0,X.t)("Commission"),amount:(0,Be.pU)(null===e||void 0===e||null===(n=e.commission)||void 0===n?void 0:n.amount),percentage:null!==e&&void 0!==e&&null!==(t=e.commission)&&void 0!==t&&t.percentage?(0,Be.pU)(null===e||void 0===e||null===(i=e.commission)||void 0===i?void 0:i.percentage):void 0},{title:(0,X.t)("Markup"),amount:(0,Be.pU)(null===e||void 0===e||null===(o=e.markup)||void 0===o?void 0:o.amount),percentage:null!==e&&void 0!==e&&null!==(r=e.markup)&&void 0!==r&&r.percentage?(0,Be.pU)(null===e||void 0===e||null===(l=e.markup)||void 0===l?void 0:l.percentage):void 0}]}(a).map((function(e,n){return(0,M.jsxs)(Z.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,M.jsx)(g.x,{children:"".concat(null===e||void 0===e?void 0:e.title,": ")}),(0,M.jsxs)(g.x,{$weight:600,children:[null===e||void 0===e?void 0:e.amount,(null===e||void 0===e?void 0:e.percentage)&&" | ".concat(null===e||void 0===e?void 0:e.percentage,"%")]})]},null===e||void 0===e?void 0:e.title)}))}),[a]);return(0,M.jsxs)(re.U.Cell,{style:{minHeight:"max-content"},children:[(0,M.jsx)(le.p,{title:null===t||void 0===t?void 0:t.title,onOpenOverlayPress:function(){i({RenderComponent:_e})}}),(0,M.jsxs)(Z.ZP,{fillWidth:!0,children:[(0,M.jsx)(re.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,X.t)("warehouse")}),(0,M.jsx)(Z.ZP,{fillWidth:!0,flexWrap:"wrap",fxDirection:"row",children:[{label:(0,X.t)("Label"),value:null===r||void 0===r?void 0:r.label},{label:(0,X.t)("Code"),value:null===r||void 0===r?void 0:r.code}].map((function(e){return(0,M.jsxs)(Z.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,M.jsx)(g.x,{children:"".concat(e.label)}),(0,M.jsx)(g.x,{$weight:600,children:(null===e||void 0===e?void 0:e.value)||"---"})]},e.label)}))})]}),(0,M.jsxs)(Z.ZP,{fillWidth:!0,children:[(0,M.jsx)(re.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,X.t)("supplier")}),[{label:(0,X.t)("Label"),value:null===l||void 0===l?void 0:l.label},{label:(0,X.t)("Code"),value:null===l||void 0===l?void 0:l.code}].map((function(e){return(0,M.jsxs)(Z.ZP,{fxDirection:"row",justifyContent:"space-between",padding:"4px 6px",gap:6,fillWidth:!0,children:[(0,M.jsx)(g.x,{children:"".concat(e.label)}),(0,M.jsx)(g.x,{$weight:600,children:(null===e||void 0===e?void 0:e.value)||"---"})]},e.label)}))]}),(0,M.jsxs)(Z.ZP,{fillWidth:!0,gap:6,children:[(0,M.jsx)(re.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,X.t)("variation")}),(0,M.jsx)(Z.ZP,{fillWidth:!0,children:d})]}),(0,M.jsxs)(Z.ZP,{fillWidth:!0,gap:6,children:[(0,M.jsx)(re.U.CellText,{$weight:600,style:{color:null===o||void 0===o?void 0:o.fontColorHeader},children:(0,X.t)("price")}),(0,M.jsx)(Z.ZP,{fillWidth:!0,children:u})]})]})},gridArea:"defaults",tab:We.Defaults},{title:(0,X.t)("Created by / Date / Time"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&e.author?"".concat(null===e||void 0===e||null===(n=e.author)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email," / ").concat(null!==e&&void 0!==e&&e.createdAt&&(0,ie.isString)(null===e||void 0===e?void 0:e.createdAt)?(0,te.M7)(Date.parse(null===e||void 0===e?void 0:e.createdAt)):""):null},gridArea:"created",tab:We.General},{title:(0,X.t)("Updated by / Date / Time"),getValue:function(e){var n,t;return null!==e&&void 0!==e&&e.editor?"".concat(null===e||void 0===e||null===(n=e.editor)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email," / ").concat(null!==e&&void 0!==e&&e.updatedAt&&(0,ie.isString)(null===e||void 0===e?void 0:e.updatedAt)?(0,te.M7)(Date.parse(null===e||void 0===e?void 0:e.updatedAt)):""):null},gridArea:"updated",tab:We.General},{title:(0,X.t)("Images"),CellComponent:function(e){var n=e.data,t=e.cell,i=e.overlayHandler,o=(0,p.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.images)||void 0===e?void 0:e.map((function(e,n){return(0,M.jsx)(re.U.ImagesSetBox,{fxDirection:"row",gap:2,overflow:"auto",children:Ue.E_.map((function(n){return(0,M.jsx)(Le.Z,{src:e[n.value]||"",disabled:!0},"img_".concat(n.value))}))},"set_".concat((null===e||void 0===e?void 0:e._id)||n))}))}),[null===n||void 0===n?void 0:n.images]);return(0,M.jsxs)(re.U.Cell,{style:{minHeight:"max-content",padding:"4px 0"},children:[(0,M.jsx)(le.p,{title:null===t||void 0===t?void 0:t.title,onOpenOverlayPress:function(){i({RenderComponent:Ve})}}),(0,M.jsx)(Z.ZP,{gap:2,height:"max-content",padding:"8px 0",style:{minHeight:26},children:o})]})},gridArea:"images",tab:We.Images}];var Ye,Xe,Qe=function(e){var n,t=e.className,i=(0,K.Z)(e,Ne),o=(0,_.xj)(),r=(0,h.rh)().currentOffer,l=(0,ee.on)(),a=function(){var e={};return Ke.forEach((function(n){var t,i=n.tab;i&&(e[i]?null===(t=e[i])||void 0===t||t.push(n):e[i]=[n])})),e}(),d=(0,p.useState)(We.General),u=(0,c.Z)(d,2),s=u[0],v=u[1],f=(0,p.useMemo)((function(){var e;return a[s]?null===(e=a[s])||void 0===e?void 0:e.map((function(e){var n=e.CellComponent,t=(0,K.Z)(e,He);return n?(0,M.jsx)(n,{overlayHandler:l.open,cell:t,data:r},t.title):(0,M.jsx)(ne.k,{overlayHandler:l.open,cell:t,data:r},t.title)})):null}),[a,s,l.open,r]);return(0,M.jsxs)(Fe,{fillWidth:!0,flex:1,className:t,padding:"0 8px",children:[(0,M.jsx)(Q.iw,{title:(0,X.t)("Offer overview"),onBackPress:o.goBack}),(0,M.jsx)(b.Z,{optionProps:{fitContentH:!0},filterOptions:$e,onOptSelect:function(e){o.replace({hash:null===e||void 0===e?void 0:e.value}),v(null===e||void 0===e?void 0:e.value)}}),(0,M.jsx)(ze,{fillWidth:!0,flex:1,overflow:"auto",children:f}),(0,M.jsxs)(Ge,{fillWidth:!0,fxDirection:"row",gap:6,padding:"6px 0",children:[(0,M.jsx)(Y.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==i&&void 0!==i&&i.onEdit),onClick:null===i||void 0===i?void 0:i.onEdit}),(0,M.jsx)(Y.Z,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:null!==i&&void 0!==i&&null!==(n=i.product)&&void 0!==n&&n.visible?"visibilityOn":"visibilityOff",disabled:!(null!==i&&void 0!==i&&i.onHide),onClick:null===i||void 0===i?void 0:i.onHide}),(0,M.jsx)(Je,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==i&&void 0!==i&&i.onDelete),onClick:null===i||void 0===i?void 0:i.onDelete}),(0,M.jsxs)(Z.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,M.jsx)(Y.Z,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",disabled:!(null!==i&&void 0!==i&&i.onRefresh),onClick:null===i||void 0===i?void 0:i.onRefresh}),(0,M.jsx)(qe,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==i&&void 0!==i&&i.onOpenRightSide),onClick:null===i||void 0===i?void 0:i.onOpenRightSide})]})]})]})},en=t(8863),nn=(0,s.ZP)(Z.ZP)(Ye||(Ye=(0,u.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),tn=function(e){var n=e.toggleRightSideVisibility,t=(0,h.rh)(),i=on(),o=(0,k.f9)(),r=(0,y.xc)().offers;return(0,M.jsxs)(nn,{children:[(0,M.jsx)(Qe,{product:null===t||void 0===t?void 0:t.currentOffer,onEdit:function(){var e;t.currentOffer&&o.openModal({Modal:en.n.EditOffer,props:{_id:null===t||void 0===t||null===(e=t.currentOffer)||void 0===e?void 0:e._id,title:(0,X.t)("Edit offer")}})},onRefresh:function(){var e,n;null!==(e=t.currentOffer)&&void 0!==e&&e._id&&r.getOne({data:{params:{_id:null===(n=t.currentOffer)||void 0===n?void 0:n._id,getPrices:!1,getVariations:!1}},onLoading:i.onLoading("offer")})},onOpenRightSide:n}),(0,M.jsx)(q.j,{})]})},on=function(){return(0,B.un)()},rn=s.ZP.div(Xe||(Xe=(0,u.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),v.VU),ln=function(e){var n=e.path,t=(0,W.J)({offer:{content:(0,X.t)("Loading product info")},prices:{content:"Loading prices"},variations:{content:"Loading variations"}}),i=(0,p.useState)(!1),o=(0,c.Z)(i,2),r=o[0],l=o[1],a=(0,p.useCallback)((function(){l((function(e){return!e}))}),[]);return(0,M.jsx)(B.f4,{value:t,children:(0,M.jsx)(h.ZP,{children:(0,M.jsx)(ee.ZP,{children:(0,M.jsx)(f.default,{path:n,children:(0,M.jsxs)(rn,{children:[(0,M.jsx)(tn,{toggleRightSideVisibility:a}),(0,M.jsx)(J,{isVisible:r,toggleVisibility:a})]})})})})})}},3226:function(e,n,t){t.d(n,{rh:function(){return u}});var i=t(2791),o=t(1819),r=t(2989),l=t(9663),a=t(3329),d=(0,i.createContext)({}),u=function(){return(0,i.useContext)(d)};n.ZP=function(e){var n=e.children,t=(0,o.xc)()[o.EJ.offers],u=(0,l.useOfferOverviewLoaders)(),c=(0,r.Zx)(),s=null===c||void 0===c?void 0:c.offerId,v=(0,r.G2)({_id:s});(0,i.useEffect)((function(){var e;null!==u&&void 0!==u&&null!==(e=u.isLoading)&&void 0!==e&&e.offer||s&&t.getOne({data:{params:{_id:s,getVariations:!1,getPrices:!1}},onLoading:u.onLoading("offer")}).catch()}),[s]);return(0,i.useEffect)((function(){return function(){t.clearCurrent(void 0)}}),[]),(0,a.jsx)(d.Provider,{value:{clearCurrent:function(){t.clearCurrent(void 0)},currentOffer:v},children:n})}},8189:function(e,n,t){t.d(n,{Z:function(){return ee}});var i,o,r,l,a,d,u,c=t(1413),s=t(7762),v=t(3226),f=t(3665),p=t(1819),h=t(400),m=t(2791),x=t(401),g=t(168),b=t(4942),Z=t(9439),C=t(4925),w=t(2360),j=t(8095),P=t(7348),y=t(6492),S=t(1483),k=t(1383),_=t(6757),B=t(7121),A=t(6727),D=t(4695),I=t(2989),O=t(4990),M=t(6681),R=t(6522),L=t(4235),T=t(98),E=t(9541),V=t(7294),U=t(5998),N=t(9006),H=t(763),W=t(3329),$=["onClose","title","onSubmit","updateId","create","offerId","offer"],F=A.Ry().shape({label:A.Z_().required().min(5).max(128),sku:A.Z_().required().min(8).max(32),barCode:A.Z_().max(32),cms:A.Ry().shape({labels:A.Ry().shape({ua:A.Z_().min(5).max(64),en:A.Z_().min(5).max(64)})}),propertiesMap:A.Ry().shape({}).nonNullable().required(),offer:A.Ry().shape({_id:A.Z_().required(),label:A.Z_(),labels:A.Ry().shape({ua:A.Z_().min(5).max(64),en:A.Z_().min(5).max(64)})}),timeFrom:A.hT(),timeTo:A.hT(),price:A.Ry().shape({out:A.Z_()})}),z=(0,w.ZP)(j._0)(i||(i=(0,g.Z)(["\n  flex: 1;\n  max-height: 100%;\n  height: 100vh;\n\n  width: 100%;\n  //padding: 0 12px;\n\n  overflow: hidden;\n\n  //max-width: 380px;\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.tableBackgroundColor})),G=(0,w.ZP)(j.ZP)(o||(o=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),J=(0,w.ZP)(j.ZP)(r||(r=(0,g.Z)(["\n  padding-bottom: 8px;\n"]))),q=(0,w.ZP)(j.ZP)(l||(l=(0,g.Z)(["\n  padding: 0 4px;\n"]))),K=(0,w.ZP)(j.ZP)(a||(a=(0,g.Z)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor})),Y=(0,w.ZP)(j.ZP)(d||(d=(0,g.Z)([""]))),X=(0,w.ZP)(j.ZP)(u||(u=(0,g.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor})),Q=function(e){var n,t,i,o,r,l,a,d,u,v,f=e.onClose,h=e.title,x=(e.onSubmit,e.updateId),g=(e.create,e.offerId),w=e.offer,A=(0,C.Z)(e,$),Q=(0,P.i7)(),ee=(0,p.xc)()[p.EJ.offers],ne=(0,E.J)(),te=(0,I.EV)({id:x}).variation,ie=(0,I.G2)({_id:(null===te||void 0===te||null===(n=te.offer)||void 0===n?void 0:n._id)||g||(null===w||void 0===w?void 0:w._id)}),oe=(0,_.d)(),re=(0,m.useState)(),le=(0,Z.Z)(re,2),ae=le[0],de=le[1],ue=(0,I.hN)({defaultValues:(0,S.Ls)(te?(0,c.Z)((0,c.Z)({},te),{},{offer:ie,template:ae}):{offer:ie,template:ae},ie),resolver:(0,D.X)(F),reValidateMode:"onSubmit"}),ce=ue.setValue,se=ue.handleSubmit,ve=ue.register,fe=ue.formState.errors,pe=ue.formValues,he=ue.reset,me=(0,m.useState)((function(){var e,n,t={},i=(0,s.Z)((0,S.gQ)(null!==(e=pe.propertiesMap)&&void 0!==e?e:{}));try{for(i.s();!(n=i.n()).done;){var o,r=(0,Z.Z)(n.value,2),l=r[0],a=r[1],d=null===(o=Q.propertiesDataMap)||void 0===o?void 0:o[a];d&&(t[l]=d)}}catch(u){i.e(u)}finally{i.f()}return t})),xe=(0,Z.Z)(me,2),ge=xe[0],be=xe[1],Ze=(0,m.useMemo)((function(){var e,n,t,i=null===ae||void 0===ae?void 0:ae._id,o=[],r=null!==(e=null===(n=Q.propertiesKeysMap)||void 0===n?void 0:n[null!==i&&void 0!==i?i:"def"])&&void 0!==e?e:[],l=(0,s.Z)(r);try{for(l.s();!(t=l.n()).done;){var a,d=t.value,u=null===(a=Q.propertiesDataMap)||void 0===a?void 0:a[d];if(null!==u&&void 0!==u&&u.isSelectable){var c=Q.propertiesKeysMap[null===u||void 0===u?void 0:u._id];null!==c&&void 0!==c&&c.length&&o.push(u)}}}catch(v){l.e(v)}finally{l.f()}return o}),[null===ae||void 0===ae?void 0:ae._id,Q.propertiesDataMap,Q.propertiesKeysMap]),Ce=(0,m.useMemo)((function(){var e,n,t=Object.entries(ge).sort((function(e,n){return e[0].localeCompare(n[0])})),i=null!==ie&&void 0!==ie&&ie.label?[null===ie||void 0===ie?void 0:ie.label]:[],o=(0,s.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value[1];(null===r||void 0===r?void 0:r.label)&&i.push(null===r||void 0===r?void 0:r.label)}}catch(l){o.e(l)}finally{o.f()}return{label:null!==t&&void 0!==t&&t.length?i.join(". "):null!==(e=null===te||void 0===te?void 0:te.label)&&void 0!==e?e:"".concat(null===ie||void 0===ie?void 0:ie.label,". {{VARIATION_LABEL}}")}}),[null===ie||void 0===ie?void 0:ie.label,ge,null===te||void 0===te?void 0:te.label]).label;(0,m.useEffect)((function(){ce("label",Ce)}),[Ce,ce,te]);var we=(0,m.useCallback)((function(e){x?ee.updateVariationById({data:(0,S.Ts)(e,x),onSuccess:function(e){console.log("updateVariationById onSuccess",e),f&&f()},onError:k.kl.toastAxiosError,onLoading:ne.onLoading("update")}):ee.createVariation({data:(0,S.Ts)(e),onSuccess:function(e){oe.state.close&&f&&f(),oe.state.clear&&he()},onError:k.kl.toastAxiosError,onLoading:ne.onLoading("create")})}),[ne,f,he,ee,oe.state.clear,oe.state.close,x]),je=(0,m.useCallback)((function(e,n){var t,i=null===(t=pe.propertiesMap)||void 0===t?void 0:t[e];if(i&&i===n)ce("propertiesMap.".concat(e),""),be((function(n){return(0,H.omit)(n,e)}));else{var o;ce("propertiesMap.".concat(e),n);var r=null===(o=Q.propertiesDataMap)||void 0===o?void 0:o[n];r&&be((function(n){return(0,c.Z)((0,c.Z)({},n),{},(0,b.Z)({},e,r))}))}}),[pe.propertiesMap,ce,Q.propertiesDataMap]),Pe=(0,m.useCallback)((function(){ce("propertiesMap",{}),be({})}),[ce]),ye=(0,m.useMemo)((function(){return null!==pe&&void 0!==pe&&pe.propertiesMap?Object.values(null===pe||void 0===pe?void 0:pe.propertiesMap):[]}),[null===pe||void 0===pe?void 0:pe.propertiesMap,pe]),Se=(0,m.useMemo)((function(){return ye.length>0}),[ye.length]),ke=(0,m.useMemo)((function(){return null===Ze||void 0===Ze?void 0:Ze.map((function(e){return(0,W.jsx)(T.Z,{item:e,selectedIds:ye,onSelect:je},"prop_".concat(e._id))}))}),[Ze,ye,je]);return(0,W.jsx)(V.Z,{fillHeight:!0,onBackPress:f,okButton:!1,title:h,children:(0,W.jsxs)(z,(0,c.Z)((0,c.Z)({onSubmit:se(we,(function(e){console.error("[SUBMIT ERROR]",e)})),onReset:Pe},A),{},{children:[(0,W.jsxs)(G,{flex:1,fillWidth:!0,overflow:"auto",gap:12,children:[(0,W.jsxs)(N.y,{label:"Offer",expandable:!1,hideFooter:!0,children:[(0,W.jsx)(O.Z,{label:(0,R.t)("Offer label"),error:null===fe||void 0===fe||null===(t=fe.offer)||void 0===t?void 0:t._id,required:!0,disabled:!0,children:(0,W.jsx)(M.ZP,{value:null!==(i=null===ie||void 0===ie?void 0:ie.label)&&void 0!==i?i:void 0,placeholder:(0,R.t)("label"),required:!0,disabled:!0})}),(0,W.jsxs)(j.ZP,{fxDirection:"row",gap:12,fillWidth:!0,children:[(0,W.jsx)(O.Z,{label:(0,R.t)("sku"),disabled:!0,children:(0,W.jsx)(M.ZP,{value:null!==(o=null===ie||void 0===ie?void 0:ie.sku)&&void 0!==o?o:void 0,placeholder:(0,R.t)("sku"),disabled:!0})}),(0,W.jsx)(O.Z,{label:(0,R.t)("barCode"),disabled:!0,children:(0,W.jsx)(M.ZP,{value:null!==(r=null===ie||void 0===ie?void 0:ie.barCode)&&void 0!==r?r:void 0,placeholder:(0,R.t)("barCode"),disabled:!0})})]})]}),(0,W.jsxs)(N.y,{label:"Main info",expandable:!1,hideFooter:!0,children:[(0,W.jsx)(O.Z,{label:(0,R.t)("label"),error:fe.label,children:(0,W.jsx)(M.ZP,(0,c.Z)((0,c.Z)({},ve("label",{required:!0})),{},{placeholder:(0,R.t)("label"),required:!0}))}),(0,W.jsxs)(j.ZP,{fxDirection:"row",gap:12,fillWidth:!0,children:[(0,W.jsx)(O.Z,{label:(0,R.t)("sku"),error:fe.sku,children:(0,W.jsx)(M.ZP,(0,c.Z)((0,c.Z)({},ve("sku",{required:!0})),{},{placeholder:(0,R.t)("sku"),required:!0}))}),(0,W.jsx)(O.Z,{label:(0,R.t)("barCode"),error:fe.barCode,children:(0,W.jsx)(M.ZP,(0,c.Z)((0,c.Z)({},ve("barCode",{valueAsNumber:!0})),{},{placeholder:(0,R.t)("barCode")}))})]})]}),(0,W.jsxs)(N.y,{label:(0,R.t)("Properties"),expandable:!1,hideFooter:!0,children:[(0,W.jsx)(U.U,{onSelect:function(e){ce("template",e),de(e)},selected:ae}),(0,W.jsx)(J,{padding:"0 8px",margin:"8px 0",children:ke})]}),te&&(0,W.jsx)(N.y,{label:(0,R.t)("Cms information"),expandable:!1,hideFooter:!0,children:(0,W.jsxs)(Y,{padding:"8px 0",fillWidth:!0,children:[(0,W.jsx)(X,{padding:"8px",justifyContent:"flex-end",fxDirection:"row",fillWidth:!0,children:(0,W.jsx)(y.x,{$size:13,$weight:500,children:(0,R.t)("Cms configs")})}),(0,W.jsxs)(q,{children:[(0,W.jsx)(O.Z,{label:(0,R.t)("Language key"),error:null===fe||void 0===fe||null===(l=fe.cmsConfigs)||void 0===l?void 0:l.key,children:(0,W.jsx)(L.Z,{disabled:!0})}),(0,W.jsx)(O.Z,{label:(0,R.t)("Label by lang key"),error:null===fe||void 0===fe||null===(a=fe.cmsConfigs)||void 0===a||null===(d=a.labels)||void 0===d?void 0:d.ua,children:(0,W.jsx)(M.ZP,(0,c.Z)({placeholder:"Label"},ve("cmsConfigs.labels.ua")))})]})]})})]}),(0,W.jsx)(B.AT,{loading:null===(u=ne.isLoading)||void 0===u?void 0:u.create,resetButtonShown:!0,submitButtonText:null!==(v=ne.isLoading)&&void 0!==v&&v.create?"Loading...":x?"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438",canSubmit:Se,extraFooter:(0,W.jsx)(K,{children:(0,W.jsx)(_.Z,(0,c.Z)({},oe))})})]}))})},ee=function(e){var n,t=e.onSelect,i=e.selected,o=e.withActions,r=void 0===o||o,l=e.offer,a=(0,E.J)(),d=(0,v.rh)(),u=(0,I.G2)(l||(null===d||void 0===d?void 0:d.currentOffer)),g=(0,f.f9)(),b=(0,p.xc)()[p.EJ.offers],Z=(0,m.useCallback)((function(e){var n=e.refresh,t=e.update;u&&b.getAllVariationsByProductId({data:{refreshCurrent:n,updateCurrent:t,offerId:u._id},onLoading:a.onLoading("variations")})}),[u,a,b]),C=(0,m.useMemo)((function(){var e,n,t={},i=(0,s.Z)(null!==(e=null===u||void 0===u?void 0:u.variations)&&void 0!==e?e:[]);try{for(i.s();!(n=i.n()).done;){var o,r=n.value.properties,l=(0,s.Z)(null!==r&&void 0!==r?r:[]);try{for(l.s();!(o=l.n()).done;){var a,d=o.value,c=null===d||void 0===d||null===(a=d.parent)||void 0===a?void 0:a._id;c&&d.parent&&(t[c]=d.parent)}}catch(v){l.e(v)}finally{l.f()}}}catch(v){i.e(v)}finally{i.f()}return(0,x.F9)(Object.values(t))}),[null===u||void 0===u?void 0:u.variations]),w=(0,m.useMemo)((function(){return{onRowClick:function(e){t&&null!==e&&void 0!==e&&e.rowData&&t(null===e||void 0===e?void 0:e.rowData)},actionsCreator:r?function(e){var n,t=null===(n=e.selectedRow)||void 0===n?void 0:n._id;return[{icon:"refresh",type:"onlyIcon",onClick:function(){return Z({refresh:!0})}},{separator:!0},{icon:"delete",type:"onlyIcon",disabled:!t,onClick:function(){window.confirm("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0430\u0440\u0456\u0430\u0446\u0456\u044e:\n ".concat(t))}},{icon:"copy",type:"onlyIcon",disabled:!t},{icon:"edit",type:"onlyIcon",disabled:!t,onClick:function(){t&&e.selectedRow&&g.create(Q,{updateId:t})}},{separator:!0},{icon:"plus",type:"onlyIconFilled",onClick:function(){g.create(Q,{offer:u})}}]}:void 0}}),[u,Z,g,t,r]);return(0,m.useEffect)((function(){u&&Z({refresh:!0})}),[]),(0,W.jsx)(h.ZP,(0,c.Z)((0,c.Z)({},w),{},{hasSearch:!1,hasFilter:!1,isLoading:null===a||void 0===a||null===(n=a.isLoading)||void 0===n?void 0:n.variations,selectedRow:i,tableData:null===u||void 0===u?void 0:u.variations,tableTitles:C,transformData:x.m$}))}},8495:function(e,n,t){t.d(n,{SI:function(){return u},VU:function(){return d}});var i,o,r,l=t(168),a=t(2360),d=(0,a.iv)(i||(i=(0,l.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),u=(0,a.iv)(o||(o=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,a.iv)(r||(r=(0,l.Z)(["\n  outline: 1px solid tomato;\n"])))},7294:function(e,n,t){var i,o,r=t(168),l=t(1413),a=t(4925),d=t(2360),u=t(2791),c=t(7121),s=t(3329),v=["title","footer","children","extraFooter","extraHeader","isLoading","onClosePress","onBackPress","okButton","canSubmit"],f=function(e){var n=e.title,t=(e.footer,e.children),i=(e.extraFooter,e.extraHeader),o=(e.isLoading,e.onClosePress),r=e.onBackPress,d=e.okButton,u=e.canSubmit,f=(0,a.Z)(e,v);return(0,s.jsxs)(p,(0,l.Z)((0,l.Z)({className:"modal_base"},f),{},{children:[(0,s.jsx)(c.iw,{onBackPress:r,onClosePress:o,title:n,canSubmit:u,okButton:d,children:i}),(0,s.jsx)(h,{className:"main",children:t})]}))},p=d.ZP.div(i||(i=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: min-content 1fr max-content;\n\n  position: relative;\n  padding: 0 8px;\n\n  min-height: 200px;\n  max-height: 90vh;\n\n  color: ",";\n  width: ",";\n  height: ",";\n\n  min-width: 250px;\n  max-width: 100%;\n\n  //overflow: hidden;\n\n  box-shadow: ",";\n  fill: ",";\n  color: ",";\n  background-color: ",";\n\n  border-radius: 2px;\n  border-bottom: 1px solid ",";\n  /* resize: both; */\n\n  @media screen and (max-width: 480px) {\n    width: 98vw;\n  }\n\n  @media screen and (min-width: 480px) {\n    width: ",";\n  }\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){var n=e.width,t=void 0===n?"480px":n,i=e.fillWidth,o=e.fitContentH;return(i?"100vw":o&&"max-content")||t}),(function(e){var n=e.height,t=void 0===n?"":n,i=e.fillHeight,o=e.fitContentV;return(i?"90vh":o&&"max-content")||t}),(function(e){return e.theme.globals.shadowMain}),(function(e){return e.theme.fillColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.modalBackgroundColor}),(function(e){return e.theme.modalBorderColor}),(function(e){return e.fillWidth?"98vw":"450px"})),h=d.ZP.main(o||(o=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  overflow: auto;\n  position: relative;\n  height: 100%;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n\n  background-color: ",";\n\n  ::-webkit-scrollbar {\n    width: 4px;\n    height: 4px;\n  }\n  //border-right: 1px solid ",";\n  //border-left: 1px solid ",";\n"])),(function(e){return e.theme.modalBackgroundColor}),(function(e){return e.theme.modalBorderColor}),(function(e){return e.theme.modalBorderColor}));n.Z=(0,u.memo)(f)},6753:function(e,n,t){t.d(n,{U:function(){return Z}});var i,o,r,l,a,d,u,c=t(168),s=t(2360),v=t(8095),f=t(6492),p=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.modalBorderColor})),h=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor})),m=(0,s.ZP)(v.ZP)(r||(r=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fieldBackgroundColor}),(function(e){return e.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(l||(l=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(e){return e.$isTitle||e.$disabled?e.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.fieldBackgroundColor})),Z={CategoryItem:(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.field.backgroundColor}),(function(e){return e.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:m,HeaderButton:p,Cell:h,DefaultTag:b}},6493:function(e,n,t){t.d(n,{p:function(){return a}});var i=t(6522),o=t(8095),r=(t(2791),t(6753)),l=t(3329),a=function(e){var n=e.title,t=void 0===n?"Title":n,a=e.openOverlayButtonTitle,d=void 0===a?(0,i.t)("Change"):a,u=e.onOpenOverlayPress,c=e.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=e.onEditPress,f=e.acceptButtonText,p=void 0===f?(0,i.t)("Ok"):f,h=e.onAcceptPress,m=e.editMode,x=void 0!==m&&m,g=e.canAccept,b=void 0!==g&&g,Z=e.cancelButtonText,C=void 0===Z?(0,i.t)("Cancel"):Z,w=e.onCancelPress;return(0,l.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,l.jsx)(r.U.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),u&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:u,children:d}),!x&&v&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:v,children:s}),x&&w&&(0,l.jsx)(r.U.HeaderButton,{type:"button",onClick:w,children:C}),x&&h&&(0,l.jsx)(r.U.HeaderButton,{type:"button",disabled:!b,onClick:h,children:p})]})}},5227:function(e,n,t){t.d(n,{k:function(){return d}});var i=t(8095),o=t(6522),r=t(2791),l=t(6753),a=t(3329),d=function(e){var n=e.cell,t=e.data,d=(0,r.useMemo)((function(){return n.getValue?n.getValue(t):null}),[n,t]);return(0,a.jsxs)(l.U.Cell,{children:[(0,a.jsx)(l.U.CellText,{$isTitle:!0,$size:12,children:null===n||void 0===n?void 0:n.title}),(0,a.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:24},children:(0,a.jsx)(l.U.CellText,{$isTitle:!d,$weight:500,children:d||(0,o.t)("undefined")})})]})}},758:function(e,n,t){t.d(n,{A7:function(){return r},QX:function(){return l},fK:function(){return d}});var i=t(6522),o=t(1483),r=[{top:{name:(0,i.t)("label"),getData:function(e){return e.label}},bottom:{name:(0,i.t)("code"),getData:function(e){return e.code}},width:"220px",action:"valueByPath"},{top:{name:(0,i.t)("type"),getData:function(e){return null===e||void 0===e?void 0:e.type}},width:"125px",action:"valueByPath"},{top:{name:(0,i.t)("email"),path:"email"},bottom:{name:(0,i.t)("phone"),path:"phone"},width:"180px",action:"contacts"},{top:{name:(0,i.t)("Address"),getData:function(e){return e.address||"\u043d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}},bottom:{name:"".concat((0,i.t)("longitude"),"/").concat((0,i.t)("latitude")),getData:function(e){var n,t;return"".concat(((null===(n=e.location)||void 0===n?void 0:n.longitude)||"---")+", "+((null===(t=e.location)||void 0===t?void 0:t.latitude)||"---"))}},width:"175px",action:"valueByPath"},{top:{name:(0,i.t)("Manager"),getData:function(e){var n,t;return"".concat((null===(n=e.manager)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.name)||"---")}},bottom:{name:(0,i.t)("email"),getData:function(e){var n,t;return"".concat((null===(n=e.manager)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email)||"---")}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,i.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}],l=[{top:{name:(0,i.t)("variationLabel"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},getImgPreview:function(e){var n,t,i;return null!==(n=e.offer)&&void 0!==n&&n.images?null===(t=e.offer)||void 0===t||null===(i=t.images[0])||void 0===i?void 0:i.img_preview:""},width:"270px",action:"doubleDataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},bottom:{name:(0,i.t)("status"),path:"status"},width:"120px",action:"status"},{top:{name:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c",align:"end",getData:function(e){return e.stock||0}},bottom:{name:"\u0420\u0435\u0437\u0435\u0440\u0432",align:"end",getData:function(e){return e.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u0447\u0456\u043a\u0443\u0454\u0442\u044c\u0441\u044f",align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.awaiting)||0}},bottom:{name:"\u0412\u0442\u0440\u0430\u0447\u0435\u043d\u043e",align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:"\u041e\u043f\u0438\u0441",path:"description"},width:"190px",action:"valueByPath"},{top:{name:"\u0410\u0432\u0442\u043e\u0440",path:"author.name"},bottom:{name:"\u0415\u043c\u0435\u0439\u043b",path:"author.email"},width:"190px",action:"valueByPath"},{top:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},bottom:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},width:"150px",action:"dateSimple"}],a=[{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(e){var n;return(0,o.__)(Number((null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.in)||0))}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(e){var n;return(0,o.__)(Number((null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.out)||0))}},width:"170px",action:"valueByPath"},{top:{name:(0,i.t)("comment"),align:"start",path:"description"},width:"150px",action:"valueByPath"}],d=[{top:{name:(0,i.t)("batch")},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:(0,i.t)("Stock"),align:"end",getData:function(e){return e.stock||0}},bottom:{name:(0,i.t)("Reserved"),align:"end",getData:function(e){return e.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Awaiting"),align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.awaiting)||0}},bottom:{name:(0,i.t)("Lost"),align:"end",getData:function(e){return(null===e||void 0===e?void 0:e.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,i.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}].concat(a)}}]);
//# sourceMappingURL=226.f8a004a8.chunk.js.map